{"ast":null,"code":"/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n  return _extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  _extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n    return t;\n  };\n  return _assign.apply(this, arguments);\n};\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n              _.ops.push(op);\n              break;\n            }\n            if (t[2]) _.ops.pop();\n            _.trys.pop();\n            continue;\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nvar PREFERRED_LANGUAGES_LOCAL_STORAGE_KEY = '__tolgee_preferredLanguages';\nvar CURRENT_LANGUAGE_LOCAL_STORAGE_KEY = '__tolgee_currentLanguage';\nvar Properties = /** @class */function () {\n  function Properties() {}\n  Object.defineProperty(Properties.prototype, \"currentLanguage\", {\n    get: function get() {\n      var _a;\n      if ((_a = this.config) === null || _a === void 0 ? void 0 : _a.forceLanguage) {\n        return this.config.forceLanguage;\n      }\n      if (!this._currentLanguage) {\n        this._currentLanguage = this.getInitialLanguage();\n      }\n      return this._currentLanguage;\n    },\n    set: function set(language) {\n      var _a;\n      if (!language) {\n        throw new Error(\"Setting invalid language value \".concat(language));\n      }\n      this._currentLanguage = language;\n      if (((_a = this.config) === null || _a === void 0 ? void 0 : _a.enableLanguageStore) && typeof localStorage !== 'undefined') {\n        localStorage.setItem(CURRENT_LANGUAGE_LOCAL_STORAGE_KEY, language);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Properties.prototype, \"preferredLanguages\", {\n    get: function get() {\n      return new Set(JSON.parse(localStorage.getItem(PREFERRED_LANGUAGES_LOCAL_STORAGE_KEY)));\n    },\n    set: function set(languages) {\n      localStorage.setItem(PREFERRED_LANGUAGES_LOCAL_STORAGE_KEY, JSON.stringify(Array.from(languages)));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Properties.prototype.getInitialLanguage = function () {\n    if (this.config.enableLanguageStore) {\n      var storedLanguage = this.getStoredLanguage();\n      if (storedLanguage) {\n        return storedLanguage;\n      }\n    }\n    if (this.config.enableLanguageDetection) {\n      var detectedLanguage = this.getLanguageByNavigator();\n      if (detectedLanguage) {\n        return detectedLanguage;\n      }\n    }\n    return this.config.defaultLanguage;\n  };\n  Properties.prototype.getStoredLanguage = function () {\n    if (typeof localStorage !== 'undefined') {\n      var storedLanguage = localStorage.getItem(CURRENT_LANGUAGE_LOCAL_STORAGE_KEY);\n      if (!this.config.availableLanguages) {\n        return storedLanguage;\n      }\n      var isSavedLanguageAvailable = this.config.availableLanguages.indexOf(storedLanguage) > -1;\n      if (isSavedLanguageAvailable) {\n        return storedLanguage;\n      }\n    }\n  };\n  Properties.prototype.getLanguageByNavigator = function () {\n    if (typeof window !== 'undefined' && this.config.availableLanguages) {\n      var preferred_1 = window.navigator.language;\n      var exactMatch = this.config.availableLanguages.find(function (l) {\n        return l === preferred_1;\n      });\n      if (exactMatch) {\n        return exactMatch;\n      }\n      var getTwoLetters_1 = function getTwoLetters_1(fullTag) {\n        return fullTag.replace(/^(.+?)(-.*)?$/, '$1');\n      };\n      var preferredTwoLetter_1 = getTwoLetters_1(window.navigator.language);\n      var twoLetterMatch = this.config.availableLanguages.find(function (l) {\n        return getTwoLetters_1(l) === preferredTwoLetter_1;\n      });\n      if (twoLetterMatch) {\n        return twoLetterMatch;\n      }\n    }\n  };\n  return Properties;\n}();\nvar Subscription = /** @class */function () {\n  function Subscription(onUnsubscribe) {\n    this.onUnsubscribe = onUnsubscribe;\n  }\n  Subscription.prototype.unsubscribe = function () {\n    this.onUnsubscribe();\n  };\n  return Subscription;\n}();\nvar EventEmitterImpl = /** @class */function () {\n  function EventEmitterImpl() {\n    this.idCounter = 0;\n    this._subscriptions = new Map();\n  }\n  Object.defineProperty(EventEmitterImpl.prototype, \"subscriptions\", {\n    get: function get() {\n      return this._subscriptions;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  EventEmitterImpl.prototype.emit = function (data) {\n    var e_1, _a;\n    var promiseReturns = [];\n    try {\n      for (var _b = __values(this.subscriptions.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var callback = _c.value;\n        var returned = callback(data);\n        if (typeof (returned === null || returned === void 0 ? void 0 : returned['then']) === 'function') {\n          promiseReturns.push(returned);\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    if (promiseReturns.length === 0) {\n      return;\n    }\n    return new Promise(function (resolve) {\n      return Promise.all(promiseReturns).then(function () {\n        return resolve();\n      });\n    });\n  };\n  EventEmitterImpl.prototype.subscribe = function (callback) {\n    var _this = this;\n    var newId = this.idCounter++;\n    var subscription = new Subscription(function () {\n      return _this.unsubscribe(newId);\n    });\n    this.subscriptions.set(newId, callback);\n    return subscription;\n  };\n  EventEmitterImpl.prototype.unsubscribe = function (id) {\n    var wasPresent = this._subscriptions.delete(id);\n    if (!wasPresent) {\n      // eslint-disable-next-line no-console\n      console.warn('Event to unsubscribe was not found');\n    }\n  };\n  return EventEmitterImpl;\n}();\nvar EventService = /** @class */function () {\n  function EventService() {\n    this.TRANSLATION_CHANGED = new EventEmitterImpl();\n    this.LANGUAGE_CHANGED = new EventEmitterImpl();\n    this.LANGUAGE_LOADED = new EventEmitterImpl();\n    this.ELEMENT_REGISTERED = new EventEmitterImpl();\n  }\n  return EventService;\n}();\nvar ApiHttpError = /** @class */function (_super) {\n  __extends(ApiHttpError, _super);\n  function ApiHttpError(response, code) {\n    var _this = _super.call(this, 'Api http error') || this;\n    _this.response = response;\n    _this.code = code;\n    // Set the prototype explicitly.\n    Object.setPrototypeOf(_this, ApiHttpError.prototype);\n    return _this;\n  }\n  return ApiHttpError;\n}(Error);\nvar ApiHttpService = /** @class */function () {\n  function ApiHttpService(properties) {\n    this.properties = properties;\n  }\n  ApiHttpService.handleErrors = function (response) {\n    return __awaiter(this, void 0, void 0, function () {\n      var error, data;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!(response.status >= 400)) return [3 /*break*/, 5];\n            error = new ApiHttpError(response);\n            _a.label = 1;\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n            return [4 /*yield*/, response.json()];\n          case 2:\n            data = _a.sent();\n            error.code = data.code;\n            return [3 /*break*/, 4];\n          case 3:\n            _a.sent();\n            // eslint-disable-next-line no-console\n            console.warn('Tolgee server responded with invalid status code.');\n            return [3 /*break*/, 4];\n          case 4:\n            throw error;\n          case 5:\n            return [2 /*return*/, response];\n        }\n      });\n    });\n  };\n  ApiHttpService.prototype.fetch = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, url, rest;\n      return __generator(this, function (_b) {\n        if (typeof args[0] === 'object') {\n          return [2 /*return*/, fetch(_assign(_assign({}, args[0]), {\n            url: this.getUrl(args[0].url)\n          })).then(function (r) {\n            return ApiHttpService.handleErrors(r);\n          })];\n        }\n        _a = __read(args), url = _a[0], rest = _a.slice(1);\n        return [2 /*return*/, fetch.apply(void 0, __spreadArray([this.getUrl(url)], __read(rest), false)).then(function (r) {\n          return ApiHttpService.handleErrors(r);\n        })];\n      });\n    });\n  };\n  ApiHttpService.prototype.fetchJson = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetch.apply(this, __spreadArray([], __read(args), false)).then(function (res) {\n          return res.json();\n        })];\n      });\n    });\n  };\n  ApiHttpService.prototype.post = function (url, body, init) {\n    if (init === void 0) {\n      init = {};\n    }\n    var rest = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n      rest[_i - 3] = arguments[_i];\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetch.apply(this, __spreadArray([url, _assign({\n          body: JSON.stringify(body),\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }, init)], __read(rest), false))];\n      });\n    });\n  };\n  ApiHttpService.prototype.postJson = function (url, body, init) {\n    if (init === void 0) {\n      init = {};\n    }\n    var rest = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n      rest[_i - 3] = arguments[_i];\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.post.apply(this, __spreadArray([url, body, init], __read(rest), false)).then(function (res) {\n          return res.json();\n        })];\n      });\n    });\n  };\n  ApiHttpService.prototype.getUrl = function (path) {\n    var querySeparator = path.indexOf('?') < 0 ? '?' : '&';\n    return \"\".concat(this.properties.config.apiUrl, \"/\").concat(path).concat(querySeparator, \"ak=\").concat(this.properties.config.apiKey);\n  };\n  return ApiHttpService;\n}();\nvar TranslationData = /** @class */function () {\n  function TranslationData(key, translations, id) {\n    this.key = key;\n    this.translations = translations;\n    this.id = id;\n  }\n  return TranslationData;\n}();\nvar TranslationService = /** @class */function () {\n  function TranslationService(properties, coreService, apiHttpService, eventService) {\n    var _this = this;\n    this.properties = properties;\n    this.coreService = coreService;\n    this.apiHttpService = apiHttpService;\n    this.eventService = eventService;\n    this.translationsCache = new Map();\n    this.fetchPromises = {};\n    // we need to distinguish which languages are in cache initially\n    // because we need to refetch them in dev mode\n    this.fetchedDev = {};\n    this.updateTranslationInCache = function (data) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var result;\n        var _this = this;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              result = {};\n              Object.entries(data.translations).forEach(function (_a) {\n                var _b = __read(_a, 2),\n                  lang = _b[0],\n                  translation = _b[1];\n                var cachedData = _this.translationsCache.get(lang);\n                if (cachedData) {\n                  cachedData[data.name] = translation.text;\n                }\n                result[lang] = translation.text;\n              });\n              return [4 /*yield*/, this.eventService.TRANSLATION_CHANGED.emit(new TranslationData(data.name, result, data.id))];\n            case 1:\n              _a.sent();\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n\n    this.getTranslationsOfKey = function (key, languages) {\n      if (languages === void 0) {\n        languages = new Set([_this.properties.currentLanguage]);\n      }\n      return __awaiter(_this, void 0, void 0, function () {\n        var languagesArray, languagesQuery, data, translationData_1, firstItem, langs, e_1, _a;\n        var _b, _c, _d;\n        return __generator(this, function (_e) {\n          switch (_e.label) {\n            case 0:\n              this.coreService.checkScope('translations.view');\n              _e.label = 1;\n            case 1:\n              _e.trys.push([1, 3,, 7]);\n              languagesArray = __spreadArray([], __read(languages), false);\n              languagesQuery = languagesArray.map(function (l) {\n                return \"languages=\".concat(l);\n              }).join('&');\n              return [4 /*yield*/, this.apiHttpService.fetchJson(\"v2/projects/translations?\".concat(languagesQuery, \"&filterKeyName=\").concat(encodeURIComponent(key)))];\n            case 2:\n              data = _e.sent();\n              translationData_1 = languagesArray.reduce(function (acc, curr) {\n                var _a;\n                return _assign(_assign({}, acc), (_a = {}, _a[curr] = '', _a));\n              }, {});\n              firstItem = (_c = (_b = data._embedded) === null || _b === void 0 ? void 0 : _b.keys) === null || _c === void 0 ? void 0 : _c[0];\n              if (firstItem === null || firstItem === void 0 ? void 0 : firstItem.translations) {\n                Object.entries(firstItem.translations).forEach(function (_a) {\n                  var _b = __read(_a, 2),\n                    language = _b[0],\n                    translation = _b[1];\n                  return translationData_1[language] = translation.text;\n                });\n              }\n              langs = (_d = data.selectedLanguages) === null || _d === void 0 ? void 0 : _d.map(function (l) {\n                return l.tag;\n              });\n              return [2 /*return*/, [firstItem, langs]];\n            case 3:\n              e_1 = _e.sent();\n              if (!(e_1 instanceof ApiHttpError && e_1.response.status === 404 && e_1.code === 'language_not_found')) return [3 /*break*/, 5];\n              // only possible reason for this error is, that languages definition\n              // is changed, but the old value is stored in preferred languages\n              _a = this.properties;\n              return [4 /*yield*/, this.coreService.getLanguages()];\n            case 4:\n              // only possible reason for this error is, that languages definition\n              // is changed, but the old value is stored in preferred languages\n              _a.preferredLanguages = _e.sent();\n              // eslint-disable-next-line no-console\n              console.error('Requested language not found, refreshing the page!');\n              location.reload();\n              return [3 /*break*/, 6];\n            case 5:\n              throw e_1;\n            case 6:\n              return [3 /*break*/, 7];\n            case 7:\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n  }\n\n  TranslationService.translationByValue = function (message, defaultValue) {\n    if (message) {\n      return message;\n    }\n    if (defaultValue) {\n      return defaultValue;\n    }\n    return undefined;\n  };\n  TranslationService.prototype.initStatic = function () {\n    var _this = this;\n    var _a;\n    if (typeof ((_a = this.properties.config) === null || _a === void 0 ? void 0 : _a.staticData) === 'object') {\n      Object.entries(this.properties.config.staticData).forEach(function (_a) {\n        var _b = __read(_a, 2),\n          language = _b[0],\n          data = _b[1];\n        //if not provider or promise then it is raw data\n        if (typeof data !== 'function') {\n          _this.setLanguageData(language, data);\n        }\n      });\n    }\n  };\n  TranslationService.prototype.getCachedTranslations = function () {\n    return this.translationsCache;\n  };\n  TranslationService.prototype.loadTranslations = function (lang) {\n    if (lang === void 0) {\n      lang = this.properties.currentLanguage;\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!this.isFetchNeeded(lang)) return [3 /*break*/, 2];\n            if (!(this.fetchPromises[lang] instanceof Promise)) {\n              this.fetchPromises[lang] = this.fetchTranslations(lang);\n            }\n            return [4 /*yield*/, this.fetchPromises[lang]];\n          case 1:\n            _a.sent();\n            this.eventService.LANGUAGE_LOADED.emit(lang);\n            _a.label = 2;\n          case 2:\n            this.fetchPromises[lang] = undefined;\n            return [2 /*return*/, this.translationsCache.get(lang)];\n        }\n      });\n    });\n  };\n  TranslationService.prototype.getTranslation = function (key, lang, defaultValue) {\n    if (lang === void 0) {\n      lang = this.properties.currentLanguage;\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var message, fallbackLang;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!this.isFetchNeeded(lang)) return [3 /*break*/, 2];\n            return [4 /*yield*/, this.loadTranslations(lang)];\n          case 1:\n            _a.sent();\n            _a.label = 2;\n          case 2:\n            message = this.getFromCache(key, lang);\n            if (!!message) return [3 /*break*/, 5];\n            fallbackLang = this.properties.config.fallbackLanguage;\n            if (!this.isFetchNeeded(fallbackLang)) return [3 /*break*/, 4];\n            return [4 /*yield*/, this.loadTranslations(this.properties.config.fallbackLanguage)];\n          case 3:\n            _a.sent();\n            _a.label = 4;\n          case 4:\n            message = this.getFromCache(key, this.properties.config.fallbackLanguage);\n            _a.label = 5;\n          case 5:\n            return [2 /*return*/, TranslationService.translationByValue(message, defaultValue)];\n        }\n      });\n    });\n  };\n  TranslationService.prototype.updateKeyComplex = function (id, data) {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function () {\n      var result;\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            this.coreService.checkScope('translations.edit');\n            return [4 /*yield*/, this.apiHttpService.postJson(\"v2/projects/keys/\".concat(id, \"/complex-update\"), _assign(_assign({}, data), {\n              screenshotUploadedImageIds: ((_a = data.screenshotUploadedImageIds) === null || _a === void 0 ? void 0 : _a.length) ? data.screenshotUploadedImageIds : undefined,\n              screenshotIdsToDelete: ((_b = data.screenshotIdsToDelete) === null || _b === void 0 ? void 0 : _b.length) ? data.screenshotIdsToDelete : undefined\n            }), {\n              method: 'put'\n            })];\n          case 1:\n            result = _c.sent();\n            return [4 /*yield*/, this.updateTranslationInCache(result)];\n          case 2:\n            _c.sent();\n            return [2 /*return*/, result];\n        }\n      });\n    });\n  };\n  TranslationService.prototype.createKey = function (data) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function () {\n      var result;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            this.coreService.checkScope('keys.edit');\n            return [4 /*yield*/, this.apiHttpService.postJson(\"v2/projects/keys/create\", _assign(_assign({}, data), {\n              screenshotUploadedImageIds: ((_a = data.screenshotUploadedImageIds) === null || _a === void 0 ? void 0 : _a.length) ? data.screenshotUploadedImageIds : undefined\n            }))];\n          case 1:\n            result = _b.sent();\n            return [4 /*yield*/, this.updateTranslationInCache(result)];\n          case 2:\n            _b.sent();\n            return [2 /*return*/, result];\n        }\n      });\n    });\n  };\n  TranslationService.prototype.setTranslations = function (translationData) {\n    return __awaiter(this, void 0, void 0, function () {\n      var result;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.coreService.checkScope('translations.edit');\n            return [4 /*yield*/, this.apiHttpService.postJson('v2/projects/translations', translationData)];\n          case 1:\n            result = _a.sent();\n            return [4 /*yield*/, this.updateTranslationInCache({\n              id: result.keyId,\n              name: result.keyName,\n              translations: result.translations\n            })];\n          case 2:\n            _a.sent();\n            return [2 /*return*/, result];\n        }\n      });\n    });\n  };\n  /**\n   * Change translations of some keys to some value temporarily.\n   * For screenshot taking with provided values, before actually saving\n   * the values\n   *\n   * @return Returns callback changing affected translations back\n   */\n  TranslationService.prototype.changeTranslations = function (_a) {\n    var key = _a.key,\n      translations = _a.translations;\n    return __awaiter(this, void 0, void 0, function () {\n      var old;\n      var _this = this;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            old = {};\n            Object.entries(translations).forEach(function (_a) {\n              var _b = __read(_a, 2),\n                language = _b[0],\n                value = _b[1];\n              var data = _this.translationsCache.get(language);\n              if (data) {\n                old[language] = data[key];\n                data[key] = value;\n              }\n            });\n            return [4 /*yield*/, this.eventService.TRANSLATION_CHANGED.emit({\n              key: key,\n              translations: translations\n            })];\n          case 1:\n            _b.sent();\n            // callback to revert the operation\n            return [2 /*return*/, function () {\n              return __awaiter(_this, void 0, void 0, function () {\n                var _this = this;\n                return __generator(this, function (_a) {\n                  switch (_a.label) {\n                    case 0:\n                      Object.entries(old).forEach(function (_a) {\n                        var _b = __read(_a, 2),\n                          language = _b[0],\n                          value = _b[1];\n                        var data = _this.translationsCache.get(language);\n                        if (data) {\n                          data[key] = value;\n                        }\n                      });\n                      return [4 /*yield*/, this.eventService.TRANSLATION_CHANGED.emit({\n                        key: key,\n                        translations: old\n                      })];\n                    case 1:\n                      _a.sent();\n                      return [2 /*return*/];\n                  }\n                });\n              });\n            }];\n        }\n      });\n    });\n  };\n\n  TranslationService.prototype.getFromCacheOrFallback = function (key, lang, defaultValue) {\n    if (lang === void 0) {\n      lang = this.properties.currentLanguage;\n    }\n    var fallbackLang = this.properties.config.fallbackLanguage;\n    var message = this.getFromCache(key, lang) || this.getFromCache(key, fallbackLang);\n    if (!message && (!this.isLoaded(lang) || !this.isLoaded(fallbackLang))) {\n      return undefined;\n    }\n    return TranslationService.translationByValue(message, defaultValue);\n  };\n  TranslationService.prototype.isFetchNeeded = function (lang) {\n    var isDevMode = this.properties.mode === 'development';\n    var dataPresent = this.translationsCache.get(lang) !== undefined;\n    var devFetched = Boolean(this.fetchedDev[lang]);\n    return isDevMode && !devFetched || !dataPresent;\n  };\n  TranslationService.prototype.isLoaded = function (lang) {\n    return this.translationsCache.get(lang) !== undefined;\n  };\n  TranslationService.prototype.fetchTranslations = function (lang) {\n    return __awaiter(this, void 0, void 0, function () {\n      var isDevMode;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            isDevMode = this.properties.mode === 'development';\n            if (!isDevMode) return [3 /*break*/, 2];\n            return [4 /*yield*/, this.fetchTranslationsDevelopment(lang)];\n          case 1:\n            return [2 /*return*/, _a.sent()];\n          case 2:\n            return [4 /*yield*/, this.fetchTranslationsProduction(lang)];\n          case 3:\n            return [2 /*return*/, _a.sent()];\n        }\n      });\n    });\n  };\n  TranslationService.prototype.fetchTranslationsProduction = function (language) {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function () {\n      var langStaticData, data, url, result, data;\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            langStaticData = (_b = (_a = this.properties.config) === null || _a === void 0 ? void 0 : _a.staticData) === null || _b === void 0 ? void 0 : _b[language];\n            if (!(typeof langStaticData === 'function')) return [3 /*break*/, 2];\n            return [4 /*yield*/, langStaticData()];\n          case 1:\n            data = _c.sent();\n            this.setLanguageData(language, data);\n            return [2 /*return*/];\n          case 2:\n            if (langStaticData !== undefined) {\n              this.setLanguageData(language, langStaticData);\n              return [2 /*return*/];\n            }\n\n            _c.label = 3;\n          case 3:\n            url = \"\".concat(this.properties.config.filesUrlPrefix || '/').concat(language, \".json\");\n            _c.label = 4;\n          case 4:\n            _c.trys.push([4, 10,, 11]);\n            return [4 /*yield*/, fetch(url)];\n          case 5:\n            result = _c.sent();\n            if (result.status >= 400) {\n              //on error set language data as empty object to not break the flow\n              // eslint-disable-next-line no-console\n              console.error('Server responded with error status while loading localization data.');\n              this.setLanguageData(language, {});\n              return [2 /*return*/];\n            }\n\n            _c.label = 6;\n          case 6:\n            _c.trys.push([6, 8,, 9]);\n            return [4 /*yield*/, result.json()];\n          case 7:\n            data = _c.sent();\n            this.setLanguageData(language, data);\n            return [3 /*break*/, 9];\n          case 8:\n            _c.sent();\n            // eslint-disable-next-line no-console\n            console.error(\"Error parsing json retrieved from \".concat(url, \".\"));\n            this.setEmptyLanguageData(language);\n            return [3 /*break*/, 9];\n          case 9:\n            return [3 /*break*/, 11];\n          case 10:\n            _c.sent();\n            // eslint-disable-next-line no-console\n            console.error(\"Error fetching localization data from \".concat(url, \".\"));\n            this.setEmptyLanguageData(language);\n            return [3 /*break*/, 11];\n          case 11:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  TranslationService.prototype.fetchTranslationsDevelopment = function (language) {\n    return __awaiter(this, void 0, void 0, function () {\n      var data, e_4;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, this.coreService.loadApiKeyDetails()];\n          case 1:\n            _a.sent();\n            this.coreService.checkScope('translations.view');\n            _a.label = 2;\n          case 2:\n            _a.trys.push([2, 4,, 5]);\n            return [4 /*yield*/, this.apiHttpService.fetchJson(\"v2/projects/translations/\".concat(language))];\n          case 3:\n            data = _a.sent();\n            this.fetchedDev[language] = true;\n            this.setLanguageData(language, data[language] || {});\n            return [3 /*break*/, 5];\n          case 4:\n            e_4 = _a.sent();\n            // eslint-disable-next-line no-console\n            console.error('Error while fetching localization data from API.', e_4);\n            this.setEmptyLanguageData(language);\n            return [2 /*return*/];\n          case 5:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  TranslationService.prototype.setEmptyLanguageData = function (language) {\n    this.translationsCache.set(language, {});\n  };\n  TranslationService.prototype.setLanguageData = function (language, data) {\n    // recursively walk the tree and make it flat, when tree data are provided\n    var makeFlat = function makeFlat(data) {\n      var result = {};\n      Object.entries(data).forEach(function (_a) {\n        var _b = __read(_a, 2),\n          key = _b[0],\n          value = _b[1];\n        // ignore falsy values\n        if (!value) {\n          return;\n        }\n        if (typeof value === 'object') {\n          Object.entries(makeFlat(value)).forEach(function (_a) {\n            var _b = __read(_a, 2),\n              flatKey = _b[0],\n              flatValue = _b[1];\n            result[key + '.' + flatKey] = flatValue;\n          });\n          return;\n        }\n        result[key] = value;\n      });\n      return result;\n    };\n    this.translationsCache.set(language, makeFlat(data));\n  };\n  TranslationService.prototype.getFromCache = function (key, lang) {\n    if (lang === void 0) {\n      lang = this.properties.currentLanguage;\n    }\n    var root = this.translationsCache.get(lang);\n    //if lang is not downloaded or does not exist at all\n    if (root === undefined) {\n      return undefined;\n    }\n    return root[key];\n  };\n  return TranslationService;\n}();\nvar TextService = /** @class */function () {\n  function TextService(properties, translationService, moduleService) {\n    var _this = this;\n    this.properties = properties;\n    this.translationService = translationService;\n    this.moduleService = moduleService;\n    this.format = function (translation, params, lang) {\n      try {\n        // try to format the text\n        var result = translation;\n        if (_this.moduleService.formatter) {\n          result = _this.moduleService.formatter.format({\n            translation: result,\n            params: params,\n            language: lang || _this.properties.currentLanguage\n          });\n        }\n        return result;\n      } catch (e) {\n        // if string cannot be formatted, throw error\n        // eslint-disable-next-line no-console\n        console.error(e);\n      }\n    };\n  }\n  TextService.prototype.translate = function (key, params, lang, orEmpty, defaultValue) {\n    if (lang === void 0) {\n      lang = this.properties.currentLanguage;\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var translation;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, this.translationService.getTranslation(key, lang, defaultValue)];\n          case 1:\n            translation = _a.sent();\n            return [2 /*return*/, this.formatTranslation(key, translation, params, lang, orEmpty)];\n        }\n      });\n    });\n  };\n  TextService.prototype.instant = function (key, params, lang, orEmpty, defaultValue) {\n    if (lang === void 0) {\n      lang = this.properties.currentLanguage;\n    }\n    var translation = this.translationService.getFromCacheOrFallback(key, lang, defaultValue);\n    return this.formatTranslation(key, translation, params, lang, orEmpty);\n  };\n  TextService.prototype.formatTranslation = function (key, translation, params, lang, orEmpty) {\n    if (translation !== undefined) {\n      return this.format(translation, params, lang);\n    }\n    if (!orEmpty) {\n      return key;\n    }\n    return '';\n  };\n  return TextService;\n}();\nvar ModifierKey;\n(function (ModifierKey) {\n  ModifierKey[ModifierKey[\"Alt\"] = 0] = \"Alt\";\n  ModifierKey[ModifierKey[\"Control\"] = 1] = \"Control\";\n  ModifierKey[ModifierKey[\"Shift\"] = 2] = \"Shift\";\n  ModifierKey[ModifierKey[\"Meta\"] = 3] = \"Meta\";\n})(ModifierKey || (ModifierKey = {}));\nvar RESTRICTED_ASCENDANT_ATTRIBUTE = 'data-tolgee-restricted';\nvar TOLGEE_ATTRIBUTE_NAME = '_tolgee';\nvar TOLGEE_TARGET_ATTRIBUTE = '_tolgee-target';\nvar TOLGEE_WRAPPED_ONLY_DATA_ATTRIBUTE = 'data-tolgee-key-only';\nvar TOLGEE_HIGHLIGHTER_CLASS = '_tolgee-highlighter';\n// needs to be same as in @tolgee/ui package\nvar DEVTOOLS_ID = '__tolgee_dev_tools';\nvar eCapture = {\n  capture: true\n};\nvar ePassive = {\n  capture: true,\n  passive: true\n};\nvar MouseEventHandler = /** @class */function () {\n  function MouseEventHandler(dependencies) {\n    var _this = this;\n    this.dependencies = dependencies;\n    this.keysDown = new Set();\n    this.mouseOnChanged = new EventEmitterImpl();\n    this.keysChanged = new EventEmitterImpl();\n    this.highlight = function (el) {\n      if (_this.highlighted !== el) {\n        _this.unhighlight();\n        if (el) {\n          el._tolgee.preventClean = true;\n          el._tolgee.highlight();\n          _this.highlighted = el;\n          _this.mouseOnChanged.emit(el);\n        }\n      }\n    };\n    this.unhighlight = function () {\n      if (_this.highlighted) {\n        _this.highlighted._tolgee.preventClean = false;\n        _this.highlighted._tolgee.unhighlight();\n        _this.highlighted = undefined;\n        _this.mouseOnChanged.emit(_this.highlighted);\n      }\n    };\n    this.blockEvents = function (e) {\n      if (_this.areKeysDown() && !_this.isInUiDialog(e.target)) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    };\n    this.onMouseMove = function (e) {\n      _this.updateCursorPosition({\n        x: e.clientX,\n        y: e.clientY\n      });\n    };\n    this.onBlur = function () {\n      _this.keysDown = new Set();\n      _this.keysChanged.emit(_this.areKeysDown());\n      _this.updateHighlight();\n    };\n    this.onKeyDown = function (e) {\n      var modifierKey = ModifierKey[e.key];\n      if (modifierKey !== undefined) {\n        _this.keysDown.add(modifierKey);\n        _this.keysChanged.emit(_this.areKeysDown());\n      }\n      _this.updateHighlight();\n    };\n    this.onKeyUp = function (e) {\n      _this.keysDown.delete(ModifierKey[e.key]);\n      _this.keysChanged.emit(_this.areKeysDown());\n      _this.updateHighlight();\n    };\n    this.onScroll = function () {\n      var _a;\n      (_a = _this.highlighted) === null || _a === void 0 ? void 0 : _a._tolgee.highlight();\n    };\n    this.onClick = function (e) {\n      _this.blockEvents(e);\n      if (_this.areKeysDown()) {\n        var element = _this.getClosestTolgeeElement(e.target);\n        if (element && element === _this.highlighted) {\n          _this.dependencies.translationHighlighter.translationEdit(e, element);\n          _this.unhighlight();\n        }\n      }\n    };\n  }\n  MouseEventHandler.prototype.run = function () {\n    if (typeof window !== 'undefined') {\n      this.initEventListeners();\n    }\n  };\n  MouseEventHandler.prototype.stop = function () {\n    if (typeof window !== 'undefined') {\n      this.removeEventListeners();\n    }\n  };\n  MouseEventHandler.prototype.updateHighlight = function () {\n    var position = this.cursorPosition;\n    var newHighlighted;\n    if (position && this.areKeysDown()) {\n      newHighlighted = this.getClosestTolgeeElement(document.elementFromPoint(position.x, position.y));\n    }\n    this.highlight(newHighlighted);\n  };\n  MouseEventHandler.prototype.updateCursorPosition = function (position) {\n    this.cursorPosition = position;\n    this.updateHighlight();\n  };\n  MouseEventHandler.prototype.initEventListeners = function () {\n    window.addEventListener('blur', this.onBlur, eCapture);\n    window.addEventListener('keydown', this.onKeyDown, eCapture);\n    window.addEventListener('keyup', this.onKeyUp, eCapture);\n    window.addEventListener('mousemove', this.onMouseMove, ePassive);\n    window.addEventListener('scroll', this.onScroll, ePassive);\n    window.addEventListener('click', this.onClick, eCapture);\n    window.addEventListener('mouseenter', this.blockEvents, eCapture);\n    window.addEventListener('mouseover', this.blockEvents, eCapture);\n    window.addEventListener('mouseout', this.blockEvents, eCapture);\n    window.addEventListener('mouseleave', this.blockEvents, eCapture);\n    window.addEventListener('mousedown', this.blockEvents, eCapture);\n    window.addEventListener('mouseup', this.blockEvents, eCapture);\n  };\n  MouseEventHandler.prototype.removeEventListeners = function () {\n    window.removeEventListener('blur', this.onBlur, eCapture);\n    window.removeEventListener('keydown', this.onKeyDown, eCapture);\n    window.removeEventListener('keyup', this.onKeyUp, eCapture);\n    window.removeEventListener('mousemove', this.onMouseMove, ePassive);\n    window.removeEventListener('scroll', this.onScroll, ePassive);\n    window.removeEventListener('click', this.onClick, eCapture);\n    window.removeEventListener('mouseenter', this.blockEvents, eCapture);\n    window.removeEventListener('mouseover', this.blockEvents, eCapture);\n    window.removeEventListener('mouseout', this.blockEvents, eCapture);\n    window.removeEventListener('mouseleave', this.blockEvents, eCapture);\n    window.removeEventListener('mousedown', this.blockEvents, eCapture);\n    window.removeEventListener('mouseup', this.blockEvents, eCapture);\n  };\n  MouseEventHandler.prototype.isInUiDialog = function (element) {\n    return Boolean(this.findAncestor(element, function (el) {\n      return el.id === DEVTOOLS_ID;\n    }));\n  };\n  MouseEventHandler.prototype.getClosestTolgeeElement = function (element) {\n    return this.findAncestor(element, function (el) {\n      return el === null || el === void 0 ? void 0 : el._tolgee;\n    });\n  };\n  MouseEventHandler.prototype.findAncestor = function (element, func) {\n    if (func(element)) {\n      return element;\n    }\n    if (element === null || element === void 0 ? void 0 : element.parentElement) {\n      return this.findAncestor(element.parentElement, func);\n    }\n    return undefined;\n  };\n  MouseEventHandler.prototype.areKeysDown = function () {\n    var e_1, _a;\n    try {\n      for (var _b = __values(this.dependencies.properties.config.highlightKeys), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var key = _c.value;\n        if (!this.keysDown.has(key)) {\n          return false;\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    return true;\n  };\n  return MouseEventHandler;\n}();\nvar TranslationHighlighter = /** @class */function () {\n  function TranslationHighlighter(dependencies) {\n    var _this = this;\n    this.dependencies = dependencies;\n    this.translationEdit = function (e, element) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var renderer, key;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4 /*yield*/, this.getRenderer()];\n            case 1:\n              renderer = _a.sent();\n              if (!(typeof renderer === 'object')) return [3 /*break*/, 3];\n              return [4 /*yield*/, this.getKeyAndDefault(e, element)];\n            case 2:\n              key = _a.sent();\n              if (key) {\n                renderer.renderViewer(key.key, key.defaultValue);\n                return [2 /*return*/];\n              }\n\n              return [2 /*return*/];\n            case 3:\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n  }\n\n  TranslationHighlighter.getKeyOptions = function (node) {\n    var nodes = Array.from(node._tolgee.nodes);\n    return nodes.reduce(function (acc, curr) {\n      return __spreadArray(__spreadArray([], __read(acc), false), __read(curr._tolgee.keys.map(function (k) {\n        return {\n          key: k.key,\n          defaultValue: k.defaultValue\n        };\n      })), false);\n    }, []);\n  };\n  TranslationHighlighter.prototype.listen = function (element) {\n    this.dependencies.highlightFunctionInitializer.initFunctions(element);\n  };\n  TranslationHighlighter.prototype.getRenderer = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var possibleProviders, possibleProviders_1, possibleProviders_1_1, possiblePromise, possibleObject, _a, possibleProvider, e_1_1;\n      var e_1, _b;\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            if (!(this._renderer === undefined)) return [3 /*break*/, 11];\n            possibleProviders = [this.dependencies.properties.config.ui, window['@tolgee/ui']];\n            _c.label = 1;\n          case 1:\n            _c.trys.push([1, 8, 9, 10]);\n            possibleProviders_1 = __values(possibleProviders), possibleProviders_1_1 = possibleProviders_1.next();\n            _c.label = 2;\n          case 2:\n            if (!!possibleProviders_1_1.done) return [3 /*break*/, 7];\n            possiblePromise = possibleProviders_1_1.value;\n            if (!(possiblePromise instanceof Promise)) return [3 /*break*/, 4];\n            return [4 /*yield*/, possiblePromise];\n          case 3:\n            _a = _c.sent();\n            return [3 /*break*/, 5];\n          case 4:\n            _a = possiblePromise;\n            _c.label = 5;\n          case 5:\n            possibleObject = _a;\n            possibleProvider = typeof possibleObject === 'object' ? possibleObject === null || possibleObject === void 0 ? void 0 : possibleObject.UI : possibleObject;\n            if (typeof possibleProvider === 'function') {\n              this._renderer = new possibleProvider(this.dependencies);\n              return [3 /*break*/, 7];\n            }\n            _c.label = 6;\n          case 6:\n            possibleProviders_1_1 = possibleProviders_1.next();\n            return [3 /*break*/, 2];\n          case 7:\n            return [3 /*break*/, 10];\n          case 8:\n            e_1_1 = _c.sent();\n            e_1 = {\n              error: e_1_1\n            };\n            return [3 /*break*/, 10];\n          case 9:\n            try {\n              if (possibleProviders_1_1 && !possibleProviders_1_1.done && (_b = possibleProviders_1.return)) _b.call(possibleProviders_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n            return [7 /*endfinally*/];\n          case 10:\n            if (this._renderer === undefined) {\n              // eslint-disable-next-line no-console\n              console.warn('Tolgee UI is not provided. To translate interactively provide tolgee ui constructor to \"ui\" configuration property. ' + 'To disable highlighting use production mode.');\n            }\n            _c.label = 11;\n          case 11:\n            return [2 /*return*/, this._renderer];\n        }\n      });\n    });\n  };\n  TranslationHighlighter.prototype.getKeyAndDefault = function (mouseEvent, element) {\n    return __awaiter(this, void 0, void 0, function () {\n      var keysWithDefaults, keySet, renderer, selectedKey_1, found;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (element._tolgee.wrappedWithElementOnlyKey) {\n              return [2 /*return*/, {\n                key: element._tolgee.wrappedWithElementOnlyKey,\n                defaultValue: element._tolgee.wrappedWithElementOnlyDefaultHtml\n              }];\n            }\n            keysWithDefaults = TranslationHighlighter.getKeyOptions(element);\n            keySet = new Set(keysWithDefaults.map(function (keyWithDefault) {\n              return keyWithDefault.key;\n            }));\n            if (!(keySet.size > 1)) return [3 /*break*/, 3];\n            return [4 /*yield*/, this.getRenderer()];\n          case 1:\n            renderer = _a.sent();\n            return [4 /*yield*/, renderer.getKey({\n              keys: keySet,\n              openEvent: mouseEvent\n            })];\n          case 2:\n            selectedKey_1 = _a.sent();\n            found = keysWithDefaults.find(function (kwd) {\n              return kwd.key === selectedKey_1;\n            });\n            if (found) {\n              return [2 /*return*/, found];\n            }\n            _a.label = 3;\n          case 3:\n            if (keySet.size === 1) {\n              return [2 /*return*/, keysWithDefaults[0]];\n            }\n            // eslint-disable-next-line no-console\n            console.error('No key to translate. This seems like a bug in tolgee.');\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  return TranslationHighlighter;\n}();\nvar NodeHelper = /** @class */function () {\n  function NodeHelper() {}\n  NodeHelper.evaluate = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return Array.from(this.evaluateGenerator.apply(this, __spreadArray([], __read(args), false)));\n  };\n  NodeHelper.evaluateToSingle = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    var arr = this.evaluate.apply(this, __spreadArray([], __read(args), false));\n    if (arr.length === 1) {\n      return arr[0];\n    }\n    if (arr.length < 1) {\n      throw new Error('No element found');\n    }\n    throw new Error('Multiple elements found');\n  };\n  NodeHelper.closestElement = function (node) {\n    if (node instanceof Text) {\n      return node.parentElement;\n    }\n    return node;\n  };\n  NodeHelper.getParentElement = function (node) {\n    if (node.parentElement) {\n      return node.parentElement;\n    }\n    if (node.ownerElement) {\n      return node.ownerElement;\n    }\n  };\n  NodeHelper.isElementTargetElement = function (element) {\n    return element.hasAttribute(TOLGEE_TARGET_ATTRIBUTE);\n  };\n  NodeHelper.markElementAsTargetElement = function (element) {\n    element.setAttribute(TOLGEE_TARGET_ATTRIBUTE, '');\n  };\n  NodeHelper.unmarkElementAsTargetElement = function (element) {\n    element.removeAttribute(TOLGEE_TARGET_ATTRIBUTE);\n  };\n  NodeHelper.nodeContains = function (descendant, node) {\n    if (descendant.contains(node)) {\n      return true;\n    }\n    if (node instanceof Attr) {\n      var ownerContainsAttr = node.ownerElement && Object.values(node.ownerElement.attributes).indexOf(node) > -1;\n      if (descendant.contains(node.ownerElement) && ownerContainsAttr) {\n        return true;\n      }\n    }\n    return false;\n  };\n  NodeHelper.evaluateGenerator = function (expression, targetNode) {\n    var node, evaluated;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          evaluated = document.evaluate(expression, targetNode, undefined, XPathResult.ANY_TYPE);\n          _a.label = 1;\n        case 1:\n          if (!((node = evaluated.iterateNext()) !== null)) return [3 /*break*/, 3];\n          return [4 /*yield*/, node];\n        case 2:\n          _a.sent();\n          return [3 /*break*/, 1];\n        case 3:\n          return [2 /*return*/];\n      }\n    });\n  };\n\n  NodeHelper.getNodeText = function (node) {\n    return node.textContent;\n  };\n  NodeHelper.setNodeText = function (node, text) {\n    node.textContent = text;\n  };\n  return NodeHelper;\n}();\nvar ElementRegistrar = /** @class */function () {\n  function ElementRegistrar(properties, translationHighlighter, eventService) {\n    this.properties = properties;\n    this.translationHighlighter = translationHighlighter;\n    this.eventService = eventService;\n    this.registeredElements = new Set();\n  }\n  ElementRegistrar.prototype.register = function (element) {\n    //ignore element with no active nodes\n    if (this.getActiveNodes(element).next().value === undefined && !element._tolgee.wrappedWithElementOnlyKey) {\n      return;\n    }\n    if (this.properties.mode === 'development' && !this.registeredElements.has(element)) {\n      this.translationHighlighter.listen(element);\n    }\n    this.registeredElements.add(element);\n    this.eventService.ELEMENT_REGISTERED.emit(element);\n  };\n  ElementRegistrar.prototype.refreshAll = function () {\n    var e_1, _a;\n    try {\n      for (var _b = __values(this.registeredElements), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var element = _c.value;\n        if (!element._tolgee.preventClean) {\n          this.cleanElementInactiveNodes(element);\n          if (element._tolgee.nodes.size === 0 && !element._tolgee.wrappedWithElementOnlyKey) {\n            this.cleanElement(element);\n          }\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n  ElementRegistrar.prototype.cleanAll = function () {\n    var e_2, _a;\n    try {\n      for (var _b = __values(this.registeredElements), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var registeredElement = _c.value;\n        this.cleanElement(registeredElement);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n  ElementRegistrar.prototype.findAllByKey = function (key) {\n    var e_3, _a, e_4, _b;\n    var result = [];\n    try {\n      for (var _c = __values(this.registeredElements), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var registeredElement = _d.value;\n        if (registeredElement._tolgee.wrappedWithElementOnlyKey === key) {\n          result.push(registeredElement);\n          continue;\n        }\n        try {\n          for (var _e = (e_4 = void 0, __values(registeredElement._tolgee.nodes)), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var node = _f.value;\n            if (node._tolgee.keys.findIndex(function (keyWithParams) {\n              return keyWithParams.key === key;\n            }) > -1) {\n              result.push(registeredElement);\n              break;\n            }\n          }\n        } catch (e_4_1) {\n          e_4 = {\n            error: e_4_1\n          };\n        } finally {\n          try {\n            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n          } finally {\n            if (e_4) throw e_4.error;\n          }\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n    return result;\n  };\n  ElementRegistrar.prototype.cleanElementInactiveNodes = function (element) {\n    if (this.isElementActive(element)) {\n      element._tolgee.nodes = new Set(this.getActiveNodes(element));\n      return;\n    }\n  };\n  ElementRegistrar.prototype.cleanElement = function (element) {\n    if (!element._tolgee.preventClean) {\n      if (element._tolgee.highlightEl) {\n        element._tolgee.unhighlight();\n      }\n      element.removeAttribute(TOLGEE_ATTRIBUTE_NAME);\n      delete element._tolgee;\n      this.registeredElements.delete(element);\n    }\n  };\n  ElementRegistrar.prototype.getActiveNodes = function (element) {\n    var _a, _b, node, e_5_1;\n    var e_5, _c;\n    return __generator(this, function (_d) {\n      switch (_d.label) {\n        case 0:\n          _d.trys.push([0, 5, 6, 7]);\n          _a = __values(element._tolgee.nodes), _b = _a.next();\n          _d.label = 1;\n        case 1:\n          if (!!_b.done) return [3 /*break*/, 4];\n          node = _b.value;\n          if (!NodeHelper.nodeContains(this.properties.config.targetElement, node)) return [3 /*break*/, 3];\n          return [4 /*yield*/, node];\n        case 2:\n          _d.sent();\n          _d.label = 3;\n        case 3:\n          _b = _a.next();\n          return [3 /*break*/, 1];\n        case 4:\n          return [3 /*break*/, 7];\n        case 5:\n          e_5_1 = _d.sent();\n          e_5 = {\n            error: e_5_1\n          };\n          return [3 /*break*/, 7];\n        case 6:\n          try {\n            if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n          } finally {\n            if (e_5) throw e_5.error;\n          }\n          return [7 /*endfinally*/];\n        case 7:\n          return [2 /*return*/];\n      }\n    });\n  };\n\n  ElementRegistrar.prototype.isElementActive = function (element) {\n    return this.properties.config.targetElement.contains(element);\n  };\n  return ElementRegistrar;\n}();\nvar Observer = /** @class */function () {\n  function Observer(properties, textWrapper, nodeRegistrar) {\n    this.properties = properties;\n    this.textWrapper = textWrapper;\n    this.nodeRegistrar = nodeRegistrar;\n    this._observer = undefined;\n    this._observing = false;\n  }\n  Object.defineProperty(Observer.prototype, \"observer\", {\n    get: function get() {\n      var _this = this;\n      if (!this._observer && typeof window !== 'undefined') {\n        this._observer = new MutationObserver(function (mutationsList) {\n          return __awaiter(_this, void 0, void 0, function () {\n            var mutationsList_1, mutationsList_1_1, mutation, e_1_1;\n            var e_1, _a;\n            return __generator(this, function (_b) {\n              switch (_b.label) {\n                case 0:\n                  _b.trys.push([0, 9, 10, 11]);\n                  mutationsList_1 = __values(mutationsList), mutationsList_1_1 = mutationsList_1.next();\n                  _b.label = 1;\n                case 1:\n                  if (!!mutationsList_1_1.done) return [3 /*break*/, 8];\n                  mutation = mutationsList_1_1.value;\n                  if (!this._observing) {\n                    // make sure we don't touch the DOM after disconnect is called\n                    return [2 /*return*/];\n                  }\n\n                  if (!(mutation.type === 'characterData')) return [3 /*break*/, 3];\n                  return [4 /*yield*/, this.textWrapper.handleText(mutation.target)];\n                case 2:\n                  _b.sent();\n                  return [3 /*break*/, 7];\n                case 3:\n                  if (!(mutation.type === 'childList')) return [3 /*break*/, 5];\n                  return [4 /*yield*/, this.textWrapper.handleSubtree(mutation.target)];\n                case 4:\n                  _b.sent();\n                  return [3 /*break*/, 7];\n                case 5:\n                  if (!(mutation.type === 'attributes')) return [3 /*break*/, 7];\n                  return [4 /*yield*/, this.textWrapper.handleAttribute(mutation.target)];\n                case 6:\n                  _b.sent();\n                  _b.label = 7;\n                case 7:\n                  mutationsList_1_1 = mutationsList_1.next();\n                  return [3 /*break*/, 1];\n                case 8:\n                  return [3 /*break*/, 11];\n                case 9:\n                  e_1_1 = _b.sent();\n                  e_1 = {\n                    error: e_1_1\n                  };\n                  return [3 /*break*/, 11];\n                case 10:\n                  try {\n                    if (mutationsList_1_1 && !mutationsList_1_1.done && (_a = mutationsList_1.return)) _a.call(mutationsList_1);\n                  } finally {\n                    if (e_1) throw e_1.error;\n                  }\n                  return [7 /*endfinally*/];\n                case 11:\n                  this.nodeRegistrar.refreshAll();\n                  return [2 /*return*/];\n              }\n            });\n          });\n        });\n      }\n\n      return this._observer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Observer.prototype.observe = function () {\n    if (!this.observer) {\n      return;\n    }\n    if (this._observing) {\n      return;\n    }\n    this._observing = true;\n    this.observer.observe(this.properties.config.targetElement, {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      characterData: true\n    });\n  };\n  Observer.prototype.stopObserving = function () {\n    if (!this.observer) {\n      return;\n    }\n    this._observing = false;\n    this.observer.disconnect();\n  };\n  return Observer;\n}();\nvar CoreService = /** @class */function () {\n  function CoreService(properties, apiHttpService) {\n    this.properties = properties;\n    this.apiHttpService = apiHttpService;\n  }\n  CoreService.prototype.getLanguages = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var languages, _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!(this.languagePromise instanceof Promise)) {\n              this.languagePromise = this.apiHttpService.fetchJson(\"v2/projects/languages?size=1000&sort=tag\");\n            }\n            _a = Set.bind;\n            return [4 /*yield*/, this.languagePromise];\n          case 1:\n            languages = new (_a.apply(Set, [void 0, _b.sent()._embedded.languages.map(function (l) {\n              return l.tag;\n            })]))();\n            this.properties.preferredLanguages = new Set(Array.from(this.properties.preferredLanguages).filter(function (l) {\n              return languages.has(l);\n            }));\n            return [2 /*return*/, languages];\n        }\n      });\n    });\n  };\n  CoreService.prototype.getLanguagesFull = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var languages;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.getLanguages();\n            return [4 /*yield*/, this.languagePromise];\n          case 1:\n            languages = _a.sent();\n            return [2 /*return*/, languages._embedded.languages];\n        }\n      });\n    });\n  };\n  CoreService.prototype.getApiKeyDetails = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var e_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n            return [4 /*yield*/, this.apiHttpService.fetchJson(\"v2/api-keys/current\")];\n          case 1:\n            return [2 /*return*/, _a.sent()];\n          case 2:\n            e_1 = _a.sent();\n            // eslint-disable-next-line no-console\n            console.error(e_1);\n            // eslint-disable-next-line no-console\n            console.error('Error getting scopes. Trying to switch to production mode!');\n            this.properties.mode = 'production';\n            return [3 /*break*/, 3];\n          case 3:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  CoreService.prototype.isAuthorizedTo = function (scope) {\n    return this.properties.scopes.indexOf(scope) > -1;\n  };\n  CoreService.prototype.checkScope = function (scope) {\n    if (!this.isAuthorizedTo(scope)) {\n      throw new Error(\"Api key not permitted to do this, please add 'translations.view' scope.\");\n    }\n  };\n  CoreService.prototype.loadApiKeyDetails = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var details;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!(this.properties.scopes === undefined)) return [3 /*break*/, 2];\n            return [4 /*yield*/, this.getApiKeyDetails()];\n          case 1:\n            details = _a.sent();\n            this.properties.scopes = details.scopes;\n            this.properties.projectId = details.projectId;\n            this.properties.permittedLanguageIds = details.permittedLanguageIds;\n            _a.label = 2;\n          case 2:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  return CoreService;\n}();\nvar API_KEY_LOCAL_STORAGE = '__tolgee_apiKey';\nvar API_URL_LOCAL_STORAGE = '__tolgee_apiUrl';\nvar DEFAULT_TARGET_ELEMENT_SUPPLIER = function DEFAULT_TARGET_ELEMENT_SUPPLIER() {\n  if (typeof document !== 'undefined') {\n    return document.body;\n  }\n};\nvar TolgeeConfig = /** @class */function () {\n  function TolgeeConfig(config) {\n    this.inputPrefix = '%-%tolgee:';\n    this.inputSuffix = '%-%';\n    /**\n     * Used when auto detection is not available or is turned off\n     */\n    this.defaultLanguage = 'en';\n    /**\n     * Store user language in localStorage (default: true)\n     */\n    this.enableLanguageStore = true;\n    /**\n     * Use auto language detection by browser locale (default: true)\n     */\n    this.enableLanguageDetection = true;\n    this.filesUrlPrefix = 'i18n/';\n    this.tagAttributes = {\n      textarea: ['placeholder'],\n      input: ['value', 'placeholder'],\n      img: ['alt'],\n      '*': ['aria-label', 'title']\n    };\n    this.highlightKeys = [ModifierKey.Alt];\n    this.passToParent = ['option', 'optgroup'];\n    this.restrictedElements = ['script', 'style'];\n    this.highlightColor = 'rgb(255, 0, 0)';\n    this.highlightWidth = 5;\n    this.wrapperMode = 'text';\n    /**\n     * When true, fallback language will be preloaded on Tolgee.run\n     */\n    this.preloadFallback = false;\n    //workaround for: https://stackoverflow.com/questions/48725916/typescript-optional-property-with-a-getter\n    Object.defineProperty(this, 'targetElement', {\n      set: function set(targetElement) {\n        if (this.targetElement !== undefined) {\n          throw new Error('Target element is already defined!');\n        }\n        if (targetElement === undefined) {\n          this._targetElement = DEFAULT_TARGET_ELEMENT_SUPPLIER();\n        }\n        if (NodeHelper.isElementTargetElement(targetElement)) {\n          // eslint-disable-next-line no-console\n          console.error('Target element: ', this._targetElement);\n          throw new Error('An tolgee instance is inited with provided target element');\n        }\n        this._targetElement = targetElement;\n        NodeHelper.markElementAsTargetElement(this._targetElement);\n      },\n      get: function get() {\n        return this._targetElement;\n      }\n    });\n    Object.assign(this, config || {});\n    if (typeof sessionStorage !== 'undefined') {\n      this.apiUrl = sessionStorage.getItem(API_URL_LOCAL_STORAGE) || this.apiUrl;\n      this.apiKey = sessionStorage.getItem(API_KEY_LOCAL_STORAGE) || this.apiKey;\n    }\n    if (this._targetElement === undefined) {\n      this._targetElement = DEFAULT_TARGET_ELEMENT_SUPPLIER();\n    }\n    this.fallbackLanguage = this.fallbackLanguage || this.defaultLanguage;\n    if (this.watch === undefined) {\n      this.watch = Boolean(this.apiKey && this.apiUrl);\n    }\n    if (this.availableLanguages === undefined && this.staticData) {\n      this.availableLanguages = Object.keys(this.staticData);\n    }\n  }\n  return TolgeeConfig;\n}();\nvar sleep = function sleep(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n};\nvar PluginManager = /** @class */function () {\n  function PluginManager(messages, properties, eventService, elementRegistrar, translationService) {\n    var _this = this;\n    this.messages = messages;\n    this.properties = properties;\n    this.eventService = eventService;\n    this.elementRegistrar = elementRegistrar;\n    this.translationService = translationService;\n    this.handshakeSucceed = false;\n    this.takeScreenshot = function (translationData) {\n      return new Promise(function (resolve, reject) {\n        _this.translationService.changeTranslations(translationData).then(function (revertChange) {\n          return __awaiter(_this, void 0, void 0, function () {\n            var cancel_1, e_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  _a.trys.push([0, 2,, 3]);\n                  this.highlightAllByKey(translationData.key);\n                  return [4 /*yield*/, sleep(100)];\n                case 1:\n                  _a.sent();\n                  this.messages.send('TOLGEE_TAKE_SCREENSHOT');\n                  cancel_1 = this.messages.listen('TOLGEE_SCREENSHOT_TAKEN', function (data) {\n                    _this.unhighlightAllByKey(translationData.key);\n                    resolve(data);\n                    revertChange();\n                    cancel_1();\n                  });\n                  return [3 /*break*/, 3];\n                case 2:\n                  e_1 = _a.sent();\n                  revertChange();\n                  reject(e_1);\n                  return [3 /*break*/, 3];\n                case 3:\n                  return [2 /*return*/];\n              }\n            });\n          });\n        }).catch(function (e) {\n          reject(e);\n        });\n      });\n    };\n    this.handshake = function () {\n      var sharedConfiguration = _assign(_assign({}, _this.properties), {\n        config: _assign(_assign({}, _this.properties.config), {\n          //remove properties, which cannot be sent by window.postMessage\n          staticData: undefined,\n          targetElement: undefined,\n          _targetElement: undefined,\n          ui: undefined\n        }),\n        uiPresent: Boolean(_this.properties.config.ui),\n        uiVersion: \"4.9.2\"\n      });\n      var timer = null;\n      var ping = function ping() {\n        _this.messages.send('TOLGEE_READY', sharedConfiguration);\n      };\n      var finish = function finish() {\n        clearInterval(timer);\n      };\n      _this.messages.listen('TOLGEE_PLUGIN_READY', function () {\n        _this.handshakeSucceed = true;\n        _this.messages.send('TOLGEE_READY', sharedConfiguration);\n        finish();\n      });\n      ping();\n      // try ping 5 times as sometimes extension doesn't respond right away\n      var counter = 0;\n      timer = setInterval(function () {\n        if (!_this.handshakeSucceed && counter < 5) {\n          ping();\n          counter += 1;\n        } else {\n          finish();\n        }\n      }, 200);\n    };\n  }\n  PluginManager.prototype.run = function () {\n    try {\n      this.messages.startListening();\n      this.handshake();\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn(e);\n      // eslint-disable-next-line no-console\n      console.warn('Can not start communication with browser plugin. Check waning above.');\n    }\n  };\n  PluginManager.prototype.stop = function () {\n    this.messages.stopListening();\n  };\n  PluginManager.prototype.highlightAllByKey = function (key) {\n    this.elementRegistrar.findAllByKey(key).forEach(function (el) {\n      return el._tolgee.highlight();\n    });\n  };\n  PluginManager.prototype.unhighlightAllByKey = function (key) {\n    this.elementRegistrar.findAllByKey(key).forEach(function (el) {\n      return el._tolgee.unhighlight();\n    });\n  };\n  return PluginManager;\n}();\nvar Messages = /** @class */function () {\n  function Messages() {\n    var _this = this;\n    this.listeners = [];\n    this.startListening = function () {\n      var receiveMessage = function receiveMessage(event) {\n        if (event.source != window) {\n          return;\n        }\n        _this.listeners.forEach(function (listener) {\n          if (listener.type == event.data.type) {\n            listener.callback(event.data.data);\n          }\n        });\n      };\n      window.addEventListener('message', receiveMessage, false);\n      typeof _this._stopListening === 'function' && _this._stopListening();\n      _this._stopListening = function () {\n        window.removeEventListener('message', receiveMessage, false);\n      };\n    };\n    this.listen = function (type, callback) {\n      var listenerInfo = {\n        type: type,\n        callback: callback\n      };\n      _this.listeners.push(listenerInfo);\n      // return callback to remove the listener\n      return function () {\n        _this.listeners.splice(_this.listeners.indexOf(listenerInfo), 1);\n      };\n    };\n    this.send = function (type, data) {\n      try {\n        window.postMessage({\n          type: type,\n          data: data\n        }, window.origin);\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Cannot send message.', e);\n      }\n    };\n  }\n  Messages.prototype.stopListening = function () {\n    this._stopListening();\n  };\n  return Messages;\n}();\nvar HIGHLIGHTER_BASE_STYLE = {\n  pointerEvents: 'none',\n  position: 'fixed',\n  boxSizing: 'content-box',\n  zIndex: String(Number.MAX_SAFE_INTEGER),\n  contain: 'layout',\n  display: 'block',\n  borderStyle: 'solid',\n  borderRadius: '4px'\n};\nvar HighlightFunctionsInitializer = /** @class */function () {\n  function HighlightFunctionsInitializer(properties) {\n    this.properties = properties;\n  }\n  HighlightFunctionsInitializer.prototype.initFunctions = function (element) {\n    this.initHighlightFunction(element);\n    this.initUnhighlightFunction(element);\n  };\n  HighlightFunctionsInitializer.prototype.initHighlightFunction = function (element) {\n    var _this = this;\n    element._tolgee.highlight = function () {\n      var highlightColor = _this.properties.config.highlightColor;\n      var highlightWidth = _this.properties.config.highlightWidth;\n      if (!element.isConnected) {\n        return;\n      }\n      var highlightEl = element._tolgee.highlightEl;\n      if (!highlightEl) {\n        highlightEl = document.createElement('div');\n        highlightEl.classList.add(TOLGEE_HIGHLIGHTER_CLASS);\n        Object.entries(HIGHLIGHTER_BASE_STYLE).forEach(function (_a) {\n          var _b = __read(_a, 2),\n            key = _b[0],\n            value = _b[1];\n          highlightEl.style[key] = value;\n        });\n        highlightEl.style.borderColor = highlightColor;\n        element._tolgee.highlightEl = highlightEl;\n        document.body.appendChild(highlightEl);\n      }\n      var shape = element.getBoundingClientRect();\n      highlightEl.style.borderWidth = highlightWidth + 'px';\n      highlightEl.style.top = shape.top - highlightWidth + 'px';\n      highlightEl.style.left = shape.left - highlightWidth + 'px';\n      highlightEl.style.width = shape.width + 'px';\n      highlightEl.style.height = shape.height + 'px';\n    };\n  };\n  HighlightFunctionsInitializer.prototype.initUnhighlightFunction = function (element) {\n    element._tolgee.unhighlight = function () {\n      var _a;\n      (_a = element._tolgee.highlightEl) === null || _a === void 0 ? void 0 : _a.remove();\n      element._tolgee.highlightEl = null;\n    };\n  };\n  return HighlightFunctionsInitializer;\n}();\nvar ScreenshotService = /** @class */function () {\n  function ScreenshotService(coreService, apiHttpService) {\n    this.coreService = coreService;\n    this.apiHttpService = apiHttpService;\n  }\n  ScreenshotService.prototype.uploadImage = function (blob) {\n    return __awaiter(this, void 0, void 0, function () {\n      var formData;\n      return __generator(this, function (_a) {\n        formData = new FormData();\n        formData.append('image', blob);\n        return [2 /*return*/, this.apiHttpService.postJson('v2/image-upload', undefined, {\n          headers: {},\n          body: formData\n        })];\n      });\n    });\n  };\n  ScreenshotService.prototype.deleteImages = function (ids) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.apiHttpService.post(\"v2/image-upload/\".concat(ids.join(',')), undefined, {\n          method: 'delete'\n        })];\n      });\n    });\n  };\n  return ScreenshotService;\n}();\nvar ModuleService = /** @class */function () {\n  function ModuleService() {\n    var _this = this;\n    this.formatter = null;\n    this.addModule = function (module) {\n      if (module.type === 'formatter') {\n        var instance = new module();\n        _this.formatter = instance;\n      } else {\n        throw new Error('Module with unknown type');\n      }\n    };\n  }\n  return ModuleService;\n}();\nvar NodeHandler = /** @class */function () {\n  function NodeHandler(properties, elementRegistrar, wrapper) {\n    this.properties = properties;\n    this.elementRegistrar = elementRegistrar;\n    this.wrapper = wrapper;\n  }\n  NodeHandler.initParentElement = function (element) {\n    if (element[TOLGEE_ATTRIBUTE_NAME] === undefined) {\n      element[TOLGEE_ATTRIBUTE_NAME] = {\n        nodes: new Set()\n      };\n      element.setAttribute(TOLGEE_ATTRIBUTE_NAME, '');\n    }\n    return element;\n  };\n  NodeHandler.prototype.filterRestricted = function (nodes) {\n    var restrictedElements = this.properties.config.restrictedElements;\n    return nodes.filter(function (n) {\n      var e = NodeHelper.closestElement(n);\n      if (!e) {\n        return false;\n      }\n      return restrictedElements.indexOf(e.tagName.toLowerCase()) === -1 && e.closest(\"[\".concat(RESTRICTED_ASCENDANT_ATTRIBUTE, \"=\\\"true\\\"]\")) === null;\n    });\n  };\n  NodeHandler.prototype.handleNodes = function (nodes) {\n    return __awaiter(this, void 0, void 0, function () {\n      var nodes_1, nodes_1_1, textNode, tolgeeData, result, text, keys, translatedNode, parentElement, e_1_1;\n      var e_1, _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _b.trys.push([0, 5, 6, 7]);\n            nodes_1 = __values(nodes), nodes_1_1 = nodes_1.next();\n            _b.label = 1;\n          case 1:\n            if (!!nodes_1_1.done) return [3 /*break*/, 4];\n            textNode = nodes_1_1.value;\n            if (textNode[TOLGEE_ATTRIBUTE_NAME] === undefined) {\n              textNode[TOLGEE_ATTRIBUTE_NAME] = {};\n            }\n            tolgeeData = textNode[TOLGEE_ATTRIBUTE_NAME];\n            if (!((tolgeeData === null || tolgeeData === void 0 ? void 0 : tolgeeData.locked) !== true)) return [3 /*break*/, 3];\n            this.lockNode(textNode);\n            return [4 /*yield*/, this.wrapper.unwrap(NodeHelper.getNodeText(textNode))];\n          case 2:\n            result = _b.sent();\n            if (result) {\n              text = result.text, keys = result.keys;\n              translatedNode = this.translateChildNode(textNode, text, keys);\n              parentElement = this.getParentElement(translatedNode);\n              parentElement._tolgee.nodes.add(translatedNode);\n              this.elementRegistrar.register(parentElement);\n            }\n            this.unlockNode(textNode);\n            _b.label = 3;\n          case 3:\n            nodes_1_1 = nodes_1.next();\n            return [3 /*break*/, 1];\n          case 4:\n            return [3 /*break*/, 7];\n          case 5:\n            e_1_1 = _b.sent();\n            e_1 = {\n              error: e_1_1\n            };\n            return [3 /*break*/, 7];\n          case 6:\n            try {\n              if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n            return [7 /*endfinally*/];\n          case 7:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  NodeHandler.prototype.translateChildNode = function (node, newValue, keys) {\n    node[TOLGEE_ATTRIBUTE_NAME] = {\n      oldTextContent: NodeHelper.getNodeText(node),\n      keys: keys\n    };\n    NodeHelper.setNodeText(node, newValue);\n    return node;\n  };\n  NodeHandler.prototype.lockNode = function (node) {\n    if (node[TOLGEE_ATTRIBUTE_NAME] === undefined) {\n      node[TOLGEE_ATTRIBUTE_NAME] = {};\n    }\n    var tolgeeData = node[TOLGEE_ATTRIBUTE_NAME];\n    if ((tolgeeData === null || tolgeeData === void 0 ? void 0 : tolgeeData.locked) !== true) {\n      tolgeeData.locked = true;\n    }\n    return node;\n  };\n  NodeHandler.prototype.unlockNode = function (node) {\n    if (node[TOLGEE_ATTRIBUTE_NAME]) {\n      node[TOLGEE_ATTRIBUTE_NAME].locked = false;\n    }\n  };\n  NodeHandler.prototype.getParentElement = function (node) {\n    var parent = this.getSuitableParent(node);\n    return NodeHandler.initParentElement(parent);\n  };\n  NodeHandler.prototype.getSuitableParent = function (node) {\n    var domParent = NodeHelper.getParentElement(node);\n    if (domParent === undefined) {\n      // eslint-disable-next-line no-console\n      console.error(node);\n      throw new Error('No suitable parent found for node above.');\n    }\n    if (!this.properties.config.passToParent) {\n      return domParent;\n    }\n    if (Array.isArray(this.properties.config.passToParent)) {\n      var tagNameEquals = function tagNameEquals(elementTagName) {\n        return domParent.tagName.toLowerCase() === elementTagName.toLowerCase();\n      };\n      if (this.properties.config.passToParent.findIndex(tagNameEquals) === -1) {\n        return domParent;\n      }\n    }\n    if (typeof this.properties.config.passToParent === 'function') {\n      if (!this.properties.config.passToParent(domParent)) {\n        return domParent;\n      }\n    }\n    return this.getSuitableParent(domParent);\n  };\n  return NodeHandler;\n}();\nvar AttributeHandler$1 = /** @class */function () {\n  function AttributeHandler(properties, nodeHandler) {\n    this.properties = properties;\n    this.nodeHandler = nodeHandler;\n  }\n  AttributeHandler.prototype.handle = function (node) {\n    return __awaiter(this, void 0, void 0, function () {\n      var inputPrefix, inputSuffix, _a, _b, _c, tag, attributes, attributes_1, attributes_1_1, attribute, expression, nodes, e_1_1, e_2_1;\n      var e_2, _d, e_1, _e;\n      return __generator(this, function (_f) {\n        switch (_f.label) {\n          case 0:\n            inputPrefix = this.properties.config.inputPrefix;\n            inputSuffix = this.properties.config.inputSuffix;\n            _f.label = 1;\n          case 1:\n            _f.trys.push([1, 12, 13, 14]);\n            _a = __values(Object.entries(this.properties.config.tagAttributes)), _b = _a.next();\n            _f.label = 2;\n          case 2:\n            if (!!_b.done) return [3 /*break*/, 11];\n            _c = __read(_b.value, 2), tag = _c[0], attributes = _c[1];\n            _f.label = 3;\n          case 3:\n            _f.trys.push([3, 8, 9, 10]);\n            attributes_1 = (e_1 = void 0, __values(attributes)), attributes_1_1 = attributes_1.next();\n            _f.label = 4;\n          case 4:\n            if (!!attributes_1_1.done) return [3 /*break*/, 7];\n            attribute = attributes_1_1.value;\n            expression = \"descendant-or-self::\".concat(tag, \"/@\").concat(attribute, \"[contains(., '\").concat(inputPrefix, \"') and contains(., '\").concat(inputSuffix, \"')]\");\n            nodes = NodeHelper.evaluate(expression, node);\n            return [4 /*yield*/, this.nodeHandler.handleNodes(nodes)];\n          case 5:\n            _f.sent();\n            _f.label = 6;\n          case 6:\n            attributes_1_1 = attributes_1.next();\n            return [3 /*break*/, 4];\n          case 7:\n            return [3 /*break*/, 10];\n          case 8:\n            e_1_1 = _f.sent();\n            e_1 = {\n              error: e_1_1\n            };\n            return [3 /*break*/, 10];\n          case 9:\n            try {\n              if (attributes_1_1 && !attributes_1_1.done && (_e = attributes_1.return)) _e.call(attributes_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n            return [7 /*endfinally*/];\n          case 10:\n            _b = _a.next();\n            return [3 /*break*/, 2];\n          case 11:\n            return [3 /*break*/, 14];\n          case 12:\n            e_2_1 = _f.sent();\n            e_2 = {\n              error: e_2_1\n            };\n            return [3 /*break*/, 14];\n          case 13:\n            try {\n              if (_b && !_b.done && (_d = _a.return)) _d.call(_a);\n            } finally {\n              if (e_2) throw e_2.error;\n            }\n            return [7 /*endfinally*/];\n          case 14:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  return AttributeHandler;\n}();\nvar TextHelper = /** @class */function () {\n  function TextHelper() {}\n  TextHelper.splitOnNonEscapedDelimiter = function (string, delimiter) {\n    var result = [];\n    var actual = '';\n    var escaped = false;\n    for (var i = 0; i < string.length; i++) {\n      var char = string[i];\n      if (char === '\\\\' && !escaped) {\n        escaped = true;\n        continue;\n      }\n      if (escaped) {\n        escaped = false;\n        actual += char;\n        continue;\n      }\n      if (char === delimiter) {\n        result.push(actual);\n        actual = '';\n        continue;\n      }\n      actual += char;\n    }\n    result.push(actual);\n    return result;\n  };\n  TextHelper.isCharEscaped = function (position, fullString) {\n    var escapeCharsCount = 0;\n    while (position > -1 && fullString[position - 1] === '\\\\') {\n      escapeCharsCount++;\n      position--;\n    }\n    return escapeCharsCount % 2 == 1;\n  };\n  TextHelper.removeEscapes = function (string) {\n    var result = '';\n    var escaped = false;\n    for (var i = 0; i < string.length; i++) {\n      var char = string[i];\n      if (char === '\\\\' && !escaped) {\n        escaped = true;\n        continue;\n      }\n      if (escaped) {\n        escaped = false;\n        result += char;\n        continue;\n      }\n      result += char;\n    }\n    return result;\n  };\n  return TextHelper;\n}();\nvar Coder$1 = /** @class */function () {\n  function Coder(properties, textService) {\n    this.properties = properties;\n    this.textService = textService;\n    this.escapeForRegExp = function (string) {\n      return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    };\n    this.escapeParam = function (param) {\n      if (typeof param === 'string') {\n        return param.replace(/[,:\\\\]/g, '\\\\$&');\n      }\n      if (typeof param === 'number' || typeof param === 'bigint') {\n        return param.toString();\n      }\n      // eslint-disable-next-line no-console\n      console.warn(\"Parameters of type \\\"\".concat(typeof param, \"\\\" are not supported in \\\"text\\\" wrapper mode.\"));\n      return param;\n    };\n  }\n  Object.defineProperty(Coder.prototype, \"rawUnWrapRegex\", {\n    get: function get() {\n      var escapedPrefix = this.escapeForRegExp(this.properties.config.inputPrefix);\n      var escapedSuffix = this.escapeForRegExp(this.properties.config.inputSuffix);\n      return \"(\\\\\\\\?)(\".concat(escapedPrefix, \"(.*?)\").concat(escapedSuffix, \")\");\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Coder.parseUnwrapped = function (unwrappedString) {\n    var e_1, _a;\n    var escaped = false;\n    var actual = '';\n    var paramName = '';\n    var readingState = 'KEY';\n    var result = {\n      key: '',\n      params: {},\n      defaultValue: undefined\n    };\n    try {\n      for (var unwrappedString_1 = __values(unwrappedString), unwrappedString_1_1 = unwrappedString_1.next(); !unwrappedString_1_1.done; unwrappedString_1_1 = unwrappedString_1.next()) {\n        var char = unwrappedString_1_1.value;\n        if (char === '\\\\' && !escaped) {\n          escaped = true;\n          continue;\n        }\n        if (escaped) {\n          escaped = false;\n          actual += char;\n          continue;\n        }\n        if (readingState === 'KEY' && char === ',') {\n          readingState = 'DEFAULT_VALUE';\n          result.key = actual;\n          actual = '';\n          continue;\n        }\n        if (readingState === 'KEY' && char === ':') {\n          readingState = 'PARAM_NAME';\n          result.key = actual;\n          actual = '';\n          continue;\n        }\n        if (readingState === 'DEFAULT_VALUE' && char === ':') {\n          readingState = 'PARAM_NAME';\n          result.defaultValue = actual;\n          actual = '';\n          continue;\n        }\n        if (readingState === 'PARAM_NAME' && char === ':') {\n          readingState = 'PARAM_VALUE';\n          paramName = actual;\n          actual = '';\n          continue;\n        }\n        if (readingState === 'PARAM_VALUE' && char === ',') {\n          readingState = 'PARAM_NAME';\n          result.params[paramName] = actual;\n          actual = '';\n          continue;\n        }\n        actual += char;\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (unwrappedString_1_1 && !unwrappedString_1_1.done && (_a = unwrappedString_1.return)) _a.call(unwrappedString_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    if (readingState === 'KEY') {\n      result.key = actual;\n    }\n    if (readingState === 'DEFAULT_VALUE') {\n      result.defaultValue = actual;\n    }\n    if (readingState === 'PARAM_VALUE') {\n      result.params[paramName] = actual;\n    }\n    return result;\n  };\n  Coder.prototype.unwrap = function (text) {\n    var matchRegexp = new RegExp(this.rawUnWrapRegex, 'gs');\n    var keysAndParams = [];\n    var matched = false;\n    var match;\n    var start = 0;\n    var result = '';\n    while ((match = matchRegexp.exec(text)) !== null) {\n      var pre = match[1];\n      var _a = __read(match, 4),\n        fullMatch = _a[0];\n      _a[1];\n      var wrapped = _a[2],\n        unwrapped = _a[3];\n      var index = match.index,\n        input = match.input;\n      result += input.substr(start, index - start);\n      start = index + fullMatch.length;\n      if (pre === '\\\\') {\n        if (!TextHelper.isCharEscaped(index, text)) {\n          result += wrapped;\n          continue;\n        }\n        pre = '';\n      }\n      var translated = this.getTranslatedWithMetadata(unwrapped);\n      keysAndParams.push({\n        key: translated.key,\n        params: translated.params,\n        defaultValue: translated.defaultValue\n      });\n      matched = true;\n      result += pre + translated.translated;\n    }\n    result += text.substring(start);\n    if (matched) {\n      return {\n        text: result,\n        keys: keysAndParams\n      };\n    }\n    return undefined;\n  };\n  Coder.prototype.wrap = function (key, params, defaultValue) {\n    var _this = this;\n    if (params === void 0) {\n      params = {};\n    }\n    if (defaultValue === void 0) {\n      defaultValue = undefined;\n    }\n    var paramString = Object.entries(params).map(function (_a) {\n      var _b = __read(_a, 2),\n        name = _b[0],\n        value = _b[1];\n      return \"\".concat(_this.escapeParam(name), \":\").concat(_this.escapeParam(value));\n    }).join(',');\n    paramString = paramString.length ? \":\".concat(paramString) : '';\n    var defaultString = defaultValue !== undefined ? \",\".concat(this.escapeParam(defaultValue)) : '';\n    return \"\".concat(this.properties.config.inputPrefix).concat(this.escapeParam(key)).concat(defaultString).concat(paramString).concat(this.properties.config.inputSuffix);\n  };\n  Coder.prototype.getTranslatedWithMetadata = function (text) {\n    var _a = Coder.parseUnwrapped(text),\n      key = _a.key,\n      params = _a.params,\n      defaultValue = _a.defaultValue;\n    var translated = this.textService.instant(key, params, undefined, false, defaultValue);\n    return {\n      translated: translated,\n      key: key,\n      params: params,\n      defaultValue: defaultValue\n    };\n  };\n  return Coder;\n}();\nvar CoreHandler$1 = /** @class */function () {\n  function CoreHandler(textHandler, eventService, properties, attributeHandler, coder, wrappedHandler) {\n    this.textHandler = textHandler;\n    this.eventService = eventService;\n    this.properties = properties;\n    this.attributeHandler = attributeHandler;\n    this.coder = coder;\n    this.wrappedHandler = wrappedHandler;\n    if (typeof window !== 'undefined') {\n      eventService.LANGUAGE_CHANGED.subscribe(this.refresh.bind(this));\n      eventService.TRANSLATION_CHANGED.subscribe(this.refresh.bind(this));\n    }\n  }\n  CoreHandler.prototype.handleSubtree = function (target) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, this.attributeHandler.handle(target)];\n          case 1:\n            _a.sent();\n            return [4 /*yield*/, this.textHandler.handle(target)];\n          case 2:\n            _a.sent();\n            return [4 /*yield*/, this.wrappedHandler.handle(target)];\n          case 3:\n            _a.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  CoreHandler.prototype.refresh = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var nodes, nodes_1, nodes_1_1, node, _a, _b, textNode, result, e_1_1, e_2_1;\n      var e_2, _c, e_1, _d;\n      return __generator(this, function (_e) {\n        switch (_e.label) {\n          case 0:\n            nodes = NodeHelper.evaluate(\"//*[@_tolgee]\", this.properties.config.targetElement);\n            _e.label = 1;\n          case 1:\n            _e.trys.push([1, 12, 13, 14]);\n            nodes_1 = __values(nodes), nodes_1_1 = nodes_1.next();\n            _e.label = 2;\n          case 2:\n            if (!!nodes_1_1.done) return [3 /*break*/, 11];\n            node = nodes_1_1.value;\n            _e.label = 3;\n          case 3:\n            _e.trys.push([3, 8, 9, 10]);\n            _a = (e_1 = void 0, __values(node._tolgee.nodes)), _b = _a.next();\n            _e.label = 4;\n          case 4:\n            if (!!_b.done) return [3 /*break*/, 7];\n            textNode = _b.value;\n            return [4 /*yield*/, this.coder.unwrap(textNode._tolgee.oldTextContent)];\n          case 5:\n            result = _e.sent();\n            if (result) {\n              NodeHelper.setNodeText(textNode, result.text);\n            }\n            _e.label = 6;\n          case 6:\n            _b = _a.next();\n            return [3 /*break*/, 4];\n          case 7:\n            return [3 /*break*/, 10];\n          case 8:\n            e_1_1 = _e.sent();\n            e_1 = {\n              error: e_1_1\n            };\n            return [3 /*break*/, 10];\n          case 9:\n            try {\n              if (_b && !_b.done && (_d = _a.return)) _d.call(_a);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n            return [7 /*endfinally*/];\n          case 10:\n            nodes_1_1 = nodes_1.next();\n            return [3 /*break*/, 2];\n          case 11:\n            return [3 /*break*/, 14];\n          case 12:\n            e_2_1 = _e.sent();\n            e_2 = {\n              error: e_2_1\n            };\n            return [3 /*break*/, 14];\n          case 13:\n            try {\n              if (nodes_1_1 && !nodes_1_1.done && (_c = nodes_1.return)) _c.call(nodes_1);\n            } finally {\n              if (e_2) throw e_2.error;\n            }\n            return [7 /*endfinally*/];\n          case 14:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  return CoreHandler;\n}();\nvar ContentHandler$1 = /** @class */function () {\n  function ContentHandler(properties, nodeHandler) {\n    this.properties = properties;\n    this.nodeHandler = nodeHandler;\n  }\n  ContentHandler.prototype.handle = function (node) {\n    return __awaiter(this, void 0, void 0, function () {\n      var inputPrefix, inputSuffix, xPath, nodes, filtered;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            inputPrefix = this.properties.config.inputPrefix;\n            inputSuffix = this.properties.config.inputSuffix;\n            xPath = \"./descendant-or-self::text()[contains(., '\".concat(inputPrefix, \"') and contains(., '\").concat(inputSuffix, \"')]\");\n            nodes = NodeHelper.evaluate(xPath, node);\n            filtered = this.nodeHandler.filterRestricted(nodes);\n            return [4 /*yield*/, this.nodeHandler.handleNodes(filtered)];\n          case 1:\n            _a.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  return ContentHandler;\n}();\nvar WrappedHandler = /** @class */function () {\n  function WrappedHandler(elementRegistrar, nodeHandler) {\n    this.elementRegistrar = elementRegistrar;\n    this.nodeHandler = nodeHandler;\n  }\n  WrappedHandler.prototype.handle = function (node) {\n    return __awaiter(this, void 0, void 0, function () {\n      var xPath, nodes, filtered;\n      var _this = this;\n      return __generator(this, function (_a) {\n        xPath = \"./descendant-or-self::*[@\".concat(TOLGEE_WRAPPED_ONLY_DATA_ATTRIBUTE, \"]\");\n        nodes = NodeHelper.evaluate(xPath, node);\n        filtered = this.nodeHandler.filterRestricted(nodes);\n        filtered.forEach(function (element) {\n          var elementWithMeta = NodeHandler.initParentElement(element);\n          elementWithMeta._tolgee.wrappedWithElementOnlyKey = element.getAttribute(TOLGEE_WRAPPED_ONLY_DATA_ATTRIBUTE);\n          elementWithMeta._tolgee.wrappedWithElementOnlyDefaultHtml = element.innerHTML;\n          _this.elementRegistrar.register(elementWithMeta);\n        });\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  return WrappedHandler;\n}();\nvar TextWrapper = /** @class */function () {\n  function TextWrapper(eventService, properties, textService, elementRegistrar) {\n    this.coder = new Coder$1(properties, textService);\n    this.nodeHandler = new NodeHandler(properties, elementRegistrar, this);\n    this.textHandler = new ContentHandler$1(properties, this.nodeHandler);\n    this.attributeHandler = new AttributeHandler$1(properties, this.nodeHandler);\n    this.wrappedHandler = new WrappedHandler(elementRegistrar, this.nodeHandler);\n    this.coreHandler = new CoreHandler$1(this.textHandler, eventService, properties, this.attributeHandler, this.coder, this.wrappedHandler);\n  }\n  TextWrapper.prototype.handleText = function (node) {\n    return this.textHandler.handle(node);\n  };\n  TextWrapper.prototype.handleSubtree = function (node) {\n    return this.coreHandler.handleSubtree(node);\n  };\n  TextWrapper.prototype.handleAttribute = function (node) {\n    return this.attributeHandler.handle(node);\n  };\n  TextWrapper.prototype.wrap = function (key, params, defaultValue, translation) {\n    if (params === void 0) {\n      params = {};\n    }\n    if (defaultValue === void 0) {\n      defaultValue = undefined;\n    }\n    return this.coder.wrap(key, params, defaultValue);\n  };\n  TextWrapper.prototype.unwrap = function (text) {\n    return this.coder.unwrap(text);\n  };\n  return TextWrapper;\n}();\n\n// TextEncoder/TextDecoder polyfills for utf-8 - an implementation of TextEncoder/TextDecoder APIs\n// Written in 2013 by Viktor Mukhachev <vic99999@yandex.ru>\n// To the extent possible under law, the author(s) have dedicated all copyright and related and neighboring rights to this software to the public domain worldwide. This software is distributed without any warranty.\n// You should have received a copy of the CC0 Public Domain Dedication along with this software. If not, see <http://creativecommons.org/publicdomain/zero/1.0/>.\n// Some important notes about the polyfill below:\n// Native TextEncoder/TextDecoder implementation is overwritten\n// String.prototype.codePointAt polyfill not included, as well as String.fromCodePoint\n// TextEncoder.prototype.encode returns a regular array instead of Uint8Array\n// No options (fatal of the TextDecoder constructor and stream of the TextDecoder.prototype.decode method) are supported.\n// TextDecoder.prototype.decode does not valid byte sequences\n// This is a demonstrative implementation not intended to have the best performance\n// http://encoding.spec.whatwg.org/#textencoder\n// http://encoding.spec.whatwg.org/#textencoder\nfunction PTextEncoder() {}\nPTextEncoder.prototype.encode = function (string) {\n  var octets = [];\n  var length = string.length;\n  var i = 0;\n  while (i < length) {\n    var codePoint = string.codePointAt(i);\n    var c = 0;\n    var bits = 0;\n    if (codePoint <= 0x0000007f) {\n      c = 0;\n      bits = 0x00;\n    } else if (codePoint <= 0x000007ff) {\n      c = 6;\n      bits = 0xc0;\n    } else if (codePoint <= 0x0000ffff) {\n      c = 12;\n      bits = 0xe0;\n    } else if (codePoint <= 0x001fffff) {\n      c = 18;\n      bits = 0xf0;\n    }\n    octets.push(bits | codePoint >> c);\n    c -= 6;\n    while (c >= 0) {\n      octets.push(0x80 | codePoint >> c & 0x3f);\n      c -= 6;\n    }\n    i += codePoint >= 0x10000 ? 2 : 1;\n  }\n  return octets;\n};\nfunction PTextDecoder() {}\nPTextDecoder.prototype.decode = function (octets) {\n  var string = '';\n  var i = 0;\n  while (i < octets.length) {\n    var octet = octets[i];\n    var bytesNeeded = 0;\n    var codePoint = 0;\n    if (octet <= 0x7f) {\n      bytesNeeded = 0;\n      codePoint = octet & 0xff;\n    } else if (octet <= 0xdf) {\n      bytesNeeded = 1;\n      codePoint = octet & 0x1f;\n    } else if (octet <= 0xef) {\n      bytesNeeded = 2;\n      codePoint = octet & 0x0f;\n    } else if (octet <= 0xf4) {\n      bytesNeeded = 3;\n      codePoint = octet & 0x07;\n    }\n    if (octets.length - i - bytesNeeded > 0) {\n      var k = 0;\n      while (k < bytesNeeded) {\n        octet = octets[i + k + 1];\n        codePoint = codePoint << 6 | octet & 0x3f;\n        k += 1;\n      }\n    } else {\n      codePoint = 0xfffd;\n      bytesNeeded = octets.length - i;\n    }\n    string += String.fromCodePoint(codePoint);\n    i += bytesNeeded + 1;\n  }\n  return string;\n};\nvar Encoder = typeof TextEncoder === 'undefined' ? PTextEncoder : TextEncoder;\nvar Decoder = typeof TextDecoder === 'undefined' ? PTextDecoder : TextDecoder;\nvar INVISIBLE_CHARACTERS = [\"\\u200C\", \"\\u200D\"];\nvar INVISIBLE_REGEX = RegExp(\"([\".concat(INVISIBLE_CHARACTERS.join(''), \"]{9})+\"), 'gu');\nvar toBytes = function toBytes(text) {\n  return Array.from(new Encoder().encode(text));\n};\nvar fromBytes = function fromBytes(bytes) {\n  return new Decoder().decode(new Uint8Array(bytes));\n};\nvar padToWholeBytes = function padToWholeBytes(binary) {\n  var needsToAdd = 8 - binary.length;\n  return '0'.repeat(needsToAdd) + binary;\n};\nvar encodeMessage = function encodeMessage(text) {\n  var bytes = toBytes(text).map(Number);\n  var binary = bytes.map(function (byte) {\n    return padToWholeBytes(byte.toString(2)) + '0';\n  }).join('');\n  var result = Array.from(binary).map(function (b) {\n    return INVISIBLE_CHARACTERS[Number(b)];\n  }).join('');\n  return result;\n};\nvar decodeMessage = function decodeMessage(message) {\n  var binary = Array.from(message).map(function (character) {\n    return INVISIBLE_CHARACTERS.indexOf(character);\n  }).map(String).join('');\n  var textBytes = binary.match(/(.{9})/g);\n  var codes = Uint8Array.from(textBytes.map(function (byte) {\n    return parseInt(byte.slice(0, 8), 2);\n  }));\n  return fromBytes(codes);\n};\nvar decodeFromText = function decodeFromText(text) {\n  var _a;\n  var invisibleMessages = (_a = text.match(INVISIBLE_REGEX)) === null || _a === void 0 ? void 0 : _a.filter(function (m) {\n    return m.length > 8;\n  });\n  return (invisibleMessages === null || invisibleMessages === void 0 ? void 0 : invisibleMessages.map(decodeMessage)) || [];\n};\nvar removeSecrets = function removeSecrets(text) {\n  return text.replace(INVISIBLE_REGEX, '');\n};\nvar stringToCodePoints = function stringToCodePoints(text) {\n  var e_1, _a;\n  var result = [];\n  try {\n    for (var text_1 = __values(text), text_1_1 = text_1.next(); !text_1_1.done; text_1_1 = text_1.next()) {\n      var codePoint = text_1_1.value;\n      result.push(codePoint.codePointAt(0));\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (text_1_1 && !text_1_1.done && (_a = text_1.return)) _a.call(text_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n  return result;\n};\nvar AttributeHandler = /** @class */function () {\n  function AttributeHandler(properties, nodeHandler) {\n    this.properties = properties;\n    this.nodeHandler = nodeHandler;\n  }\n  AttributeHandler.prototype.handle = function (node) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, _b, _c, tag, attributes, attributes_1, attributes_1_1, attribute, expression, nodes, e_1_1, e_2_1;\n      var e_2, _d, e_1, _e;\n      return __generator(this, function (_f) {\n        switch (_f.label) {\n          case 0:\n            _f.trys.push([0, 11, 12, 13]);\n            _a = __values(Object.entries(this.properties.config.tagAttributes)), _b = _a.next();\n            _f.label = 1;\n          case 1:\n            if (!!_b.done) return [3 /*break*/, 10];\n            _c = __read(_b.value, 2), tag = _c[0], attributes = _c[1];\n            _f.label = 2;\n          case 2:\n            _f.trys.push([2, 7, 8, 9]);\n            attributes_1 = (e_1 = void 0, __values(attributes)), attributes_1_1 = attributes_1.next();\n            _f.label = 3;\n          case 3:\n            if (!!attributes_1_1.done) return [3 /*break*/, 6];\n            attribute = attributes_1_1.value;\n            expression = \"descendant-or-self::\".concat(tag, \"/@\").concat(attribute, \"[contains(., '\").concat(INVISIBLE_CHARACTERS[0], \"')]\");\n            nodes = NodeHelper.evaluate(expression, node);\n            return [4 /*yield*/, this.nodeHandler.handleNodes(nodes)];\n          case 4:\n            _f.sent();\n            _f.label = 5;\n          case 5:\n            attributes_1_1 = attributes_1.next();\n            return [3 /*break*/, 3];\n          case 6:\n            return [3 /*break*/, 9];\n          case 7:\n            e_1_1 = _f.sent();\n            e_1 = {\n              error: e_1_1\n            };\n            return [3 /*break*/, 9];\n          case 8:\n            try {\n              if (attributes_1_1 && !attributes_1_1.done && (_e = attributes_1.return)) _e.call(attributes_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n            return [7 /*endfinally*/];\n          case 9:\n            _b = _a.next();\n            return [3 /*break*/, 1];\n          case 10:\n            return [3 /*break*/, 13];\n          case 11:\n            e_2_1 = _f.sent();\n            e_2 = {\n              error: e_2_1\n            };\n            return [3 /*break*/, 13];\n          case 12:\n            try {\n              if (_b && !_b.done && (_d = _a.return)) _d.call(_a);\n            } finally {\n              if (e_2) throw e_2.error;\n            }\n            return [7 /*endfinally*/];\n          case 13:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  return AttributeHandler;\n}();\nvar ValueMemory = /** @class */function () {\n  function ValueMemory() {\n    this.values = [];\n  }\n  ValueMemory.prototype.valueToNumber = function (key) {\n    var index = this.values.indexOf(key);\n    if (index === -1) {\n      index = this.values.length;\n      this.values.push(key);\n    }\n    return index;\n  };\n  ValueMemory.prototype.numberToValue = function (num) {\n    return this.values[num];\n  };\n  return ValueMemory;\n}();\nvar Coder = /** @class */function () {\n  function Coder() {\n    this.keyMemory = new ValueMemory();\n    this.defaultMemory = new ValueMemory();\n  }\n  Coder.prototype.unwrap = function (text) {\n    var _this = this;\n    var keysAndParams = [];\n    var messages = decodeFromText(text);\n    messages.forEach(function (msg) {\n      var _a = __read(stringToCodePoints(msg), 2),\n        keyCode = _a[0],\n        defaultCode = _a[1];\n      var key = _this.keyMemory.numberToValue(keyCode);\n      var defaultValue = defaultCode !== undefined ? _this.defaultMemory.numberToValue(defaultCode) : undefined;\n      keysAndParams.push({\n        key: key,\n        params: undefined,\n        defaultValue: defaultValue\n      });\n    });\n    var result = removeSecrets(text);\n    if (keysAndParams.length) {\n      return {\n        text: result,\n        keys: keysAndParams\n      };\n    }\n    return undefined;\n  };\n  Coder.prototype.wrap = function (key, _params, defaultValue, translation) {\n    if (defaultValue === void 0) {\n      defaultValue = undefined;\n    }\n    if (translation === void 0) {\n      translation = undefined;\n    }\n    var codes = [this.keyMemory.valueToNumber(key)];\n    if (defaultValue) {\n      codes.push(this.defaultMemory.valueToNumber(defaultValue));\n    }\n    var value = translation || '';\n    var invisibleMark = encodeMessage(String.fromCodePoint.apply(String, __spreadArray([], __read(codes), false)));\n    return typeof value === 'string' ? value + invisibleMark : Array.isArray(value) ? __spreadArray(__spreadArray([], __read(value), false), [invisibleMark], false) : [value, invisibleMark];\n  };\n  return Coder;\n}();\nvar CoreHandler = /** @class */function () {\n  function CoreHandler(textHandler, attributeHandler, wrappedHandler) {\n    this.textHandler = textHandler;\n    this.attributeHandler = attributeHandler;\n    this.wrappedHandler = wrappedHandler;\n  }\n  CoreHandler.prototype.handleSubtree = function (target) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, this.attributeHandler.handle(target)];\n          case 1:\n            _a.sent();\n            return [4 /*yield*/, this.textHandler.handle(target)];\n          case 2:\n            _a.sent();\n            return [4 /*yield*/, this.wrappedHandler.handle(target)];\n          case 3:\n            _a.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  return CoreHandler;\n}();\nvar ContentHandler = /** @class */function () {\n  function ContentHandler(nodeHandler) {\n    this.nodeHandler = nodeHandler;\n  }\n  ContentHandler.prototype.handle = function (node) {\n    return __awaiter(this, void 0, void 0, function () {\n      var xPath, nodes, filtered;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            xPath = \"./descendant-or-self::text()[contains(., '\".concat(INVISIBLE_CHARACTERS[0], \"')]\");\n            nodes = NodeHelper.evaluate(xPath, node);\n            filtered = this.nodeHandler.filterRestricted(nodes);\n            return [4 /*yield*/, this.nodeHandler.handleNodes(filtered)];\n          case 1:\n            _a.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  return ContentHandler;\n}();\nvar InvisibleWrapper = /** @class */function () {\n  function InvisibleWrapper(properties, elementRegistrar) {\n    this.coder = new Coder();\n    this.nodeHandler = new NodeHandler(properties, elementRegistrar, this);\n    this.textHandler = new ContentHandler(this.nodeHandler);\n    this.attributeHandler = new AttributeHandler(properties, this.nodeHandler);\n    this.wrappedHandler = new WrappedHandler(elementRegistrar, this.nodeHandler);\n    this.coreHandler = new CoreHandler(this.textHandler, this.attributeHandler, this.wrappedHandler);\n  }\n  InvisibleWrapper.prototype.handleText = function (node) {\n    return this.textHandler.handle(node);\n  };\n  InvisibleWrapper.prototype.handleSubtree = function (node) {\n    return this.coreHandler.handleSubtree(node);\n  };\n  InvisibleWrapper.prototype.handleAttribute = function (node) {\n    return this.attributeHandler.handle(node);\n  };\n  InvisibleWrapper.prototype.wrap = function (key, params, defaultValue, translation) {\n    if (params === void 0) {\n      params = {};\n    }\n    if (defaultValue === void 0) {\n      defaultValue = undefined;\n    }\n    if (translation === void 0) {\n      translation = '';\n    }\n    return this.coder.wrap(key, params, defaultValue, translation);\n  };\n  InvisibleWrapper.prototype.unwrap = function (text) {\n    return this.coder.unwrap(text);\n  };\n  return InvisibleWrapper;\n}();\nvar DependencyService = /** @class */function () {\n  function DependencyService() {\n    var _this = this;\n    this.properties = new Properties();\n    this.eventService = new EventService();\n    this.apiHttpService = new ApiHttpService(this.properties);\n    this.mouseEventHandler = new MouseEventHandler(this);\n    this.moduleService = new ModuleService();\n    this.coreService = new CoreService(this.properties, this.apiHttpService);\n    this.screenshotService = new ScreenshotService(this.coreService, this.apiHttpService);\n    this.translationService = new TranslationService(this.properties, this.coreService, this.apiHttpService, this.eventService);\n    this.textService = new TextService(this.properties, this.translationService, this.moduleService);\n    this.highlightFunctionInitializer = new HighlightFunctionsInitializer(this.properties);\n    this.translationHighlighter = new TranslationHighlighter(this);\n    this.elementRegistrar = new ElementRegistrar(this.properties, this.translationHighlighter, this.eventService);\n    this.messages = new Messages();\n    this.pluginManager = new PluginManager(this.messages, this.properties, this.eventService, this.elementRegistrar, this.translationService);\n    this.run = function () {\n      _this.mouseEventHandler.run();\n    };\n    this.stop = function () {\n      _this.observer.stopObserving();\n      _this.elementRegistrar.cleanAll();\n      _this.mouseEventHandler.stop();\n      NodeHelper.unmarkElementAsTargetElement(_this.properties.config.targetElement);\n    };\n    this.translationHighlighter.pluginManager = this.pluginManager;\n  }\n  DependencyService.prototype.init = function (config) {\n    if (this.properties.config) {\n      throw new Error('Duplicate initialization of config');\n    }\n    this.properties.config = new TolgeeConfig(config);\n    if (this.properties.config.wrapperMode === 'invisible') {\n      this.wrapper = new InvisibleWrapper(this.properties, this.elementRegistrar);\n    } else {\n      this.wrapper = new TextWrapper(this.eventService, this.properties, this.textService, this.elementRegistrar);\n    }\n    this.observer = new Observer(this.properties, this.wrapper, this.elementRegistrar);\n    this.translationService.initStatic();\n  };\n  return DependencyService;\n}();\nvar Tolgee = /** @class */function () {\n  function Tolgee() {\n    var _this = this;\n    this.stop = function () {\n      _this.dependencyService.stop();\n    };\n    this.dependencyService = new DependencyService();\n  }\n  Object.defineProperty(Tolgee.prototype, \"properties\", {\n    get: function get() {\n      return this.dependencyService.properties;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tolgee.prototype, \"lang\", {\n    get: function get() {\n      return this.properties.currentLanguage;\n    },\n    /**\n     * This sets a new language.\n     *\n     * Using this setter can behave buggy when you change languages\n     * too fast, since it changes the language property before\n     * translations are actually loaded.\n     * @deprecated use asynchronous changeLanguage method.\n     */\n    set: function set(newLanguage) {\n      var _this = this;\n      this.properties.currentLanguage = newLanguage;\n      this.dependencyService.translationService.loadTranslations(newLanguage).then(function () {\n        _this.emitLangChangeEvent(newLanguage);\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tolgee.prototype, \"defaultLanguage\", {\n    get: function get() {\n      return this.properties.config.defaultLanguage;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tolgee.prototype, \"onLangChange\", {\n    get: function get() {\n      return this.dependencyService.eventService.LANGUAGE_CHANGED;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tolgee.prototype, \"onTranslationChange\", {\n    get: function get() {\n      return this.dependencyService.eventService.TRANSLATION_CHANGED;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tolgee.prototype, \"onLangLoaded\", {\n    /**\n     * Is emitted when language is loaded for the first time\n     */\n    get: function get() {\n      return this.dependencyService.eventService.LANGUAGE_LOADED;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tolgee.prototype, \"initialLoading\", {\n    /**\n     * True if loading is needed to wait for Tolgee init.\n     * When translation data are provided statically (using import\n     * as staticData config property) then there is no need for translation\n     * fetching so initial loading is not needed at all.\n     */\n    get: function get() {\n      var _a, _b;\n      var currentLang = this.properties.currentLanguage;\n      var fallbackLang = this.properties.config.fallbackLanguage;\n      var fallbackPreloading = this.properties.config.preloadFallback;\n      var isStaticDataProvided = function isStaticDataProvided(data) {\n        return data !== undefined && typeof data !== 'function';\n      };\n      return !isStaticDataProvided((_a = this.properties.config.staticData) === null || _a === void 0 ? void 0 : _a[currentLang]) || !!fallbackPreloading && !isStaticDataProvided((_b = this.properties.config.staticData) === null || _b === void 0 ? void 0 : _b[fallbackLang]);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Tolgee.prototype, \"coreService\", {\n    get: function get() {\n      return this.dependencyService.coreService;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Tolgee.use = function (module) {\n    return new Tolgee().use(module);\n  };\n  Tolgee.init = function (config) {\n    return new Tolgee().init(config);\n  };\n  /**\n   * Sets the new language.\n   *\n   * Emits the onLangChange and onLangChangeAndLoad events after\n   * the translations are loaded.\n   *\n   * @return Promise<void> Resolves when translations are loaded\n   */\n  Tolgee.prototype.changeLanguage = function (newLanguage) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, this.dependencyService.translationService.loadTranslations(newLanguage)];\n          case 1:\n            _a.sent();\n            this.properties.currentLanguage = newLanguage;\n            this.emitLangChangeEvent(newLanguage);\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  Tolgee.prototype.use = function (module) {\n    this.dependencyService.moduleService.addModule(module);\n    return this;\n  };\n  Tolgee.prototype.init = function (config) {\n    this.dependencyService.init(config);\n    var _a = this.dependencyService.properties.config,\n      apiKey = _a.apiKey,\n      apiUrl = _a.apiUrl;\n    this.dependencyService.properties.mode = apiKey && apiUrl ? 'development' : 'production';\n    return this;\n  };\n  Tolgee.prototype.run = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var e_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.dependencyService.run();\n            if (!(this.properties.mode === 'development')) return [3 /*break*/, 4];\n            _a.label = 1;\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n            return [4 /*yield*/, this.coreService.loadApiKeyDetails()];\n          case 2:\n            _a.sent();\n            return [3 /*break*/, 4];\n          case 3:\n            e_1 = _a.sent();\n            // eslint-disable-next-line no-console\n            console.error(\"Couldn't connect to Tolgee\");\n            // eslint-disable-next-line no-console\n            console.error(e_1);\n            this.properties.mode = 'production';\n            return [3 /*break*/, 4];\n          case 4:\n            return [4 /*yield*/, this.dependencyService.translationService.loadTranslations()];\n          case 5:\n            _a.sent();\n            return [4 /*yield*/, this.dependencyService.pluginManager.run()];\n          case 6:\n            _a.sent();\n            if (!this.properties.config.preloadFallback) return [3 /*break*/, 8];\n            return [4 /*yield*/, this.dependencyService.translationService.loadTranslations(this.properties.config.fallbackLanguage)];\n          case 7:\n            _a.sent();\n            _a.label = 8;\n          case 8:\n            return [4 /*yield*/, this.refresh()];\n          case 9:\n            _a.sent();\n            if (this.properties.config.watch) {\n              this.dependencyService.observer.observe();\n            }\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  Tolgee.prototype.refresh = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.dependencyService.wrapper.handleSubtree(this.properties.config.targetElement)];\n      });\n    });\n  };\n  Tolgee.prototype.translate = function (keyOrProps, params, noWrap, defaultValue) {\n    if (params === void 0) {\n      params = {};\n    }\n    if (noWrap === void 0) {\n      noWrap = false;\n    }\n    if (defaultValue === void 0) {\n      defaultValue = undefined;\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var key, orEmpty, props, translation;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            key = typeof keyOrProps === 'string' ? keyOrProps : keyOrProps.key;\n            orEmpty = undefined;\n            if (typeof keyOrProps === 'object') {\n              props = keyOrProps;\n              // if values are not provided in props object, get them from function\n              // params defaults\n              params = props.params !== undefined ? props.params : params;\n              noWrap = props.noWrap !== undefined ? props.noWrap : noWrap;\n              defaultValue = props.defaultValue !== undefined ? props.defaultValue : defaultValue;\n              orEmpty = props.orEmpty;\n            }\n            return [4 /*yield*/, this.dependencyService.textService.translate(key, params, undefined, orEmpty, defaultValue)];\n          case 1:\n            translation = _a.sent();\n            if (!(this.properties.mode === 'development' && !noWrap)) return [3 /*break*/, 3];\n            return [4 /*yield*/, this.coreService.loadApiKeyDetails()];\n          case 2:\n            _a.sent();\n            return [2 /*return*/, this.dependencyService.wrapper.wrap(key, params, defaultValue, translation)];\n          case 3:\n            return [2 /*return*/, translation];\n        }\n      });\n    });\n  };\n  Tolgee.prototype.wrap = function (key, params, defaultValue, translation) {\n    if (this.properties.mode === 'development') {\n      return this.dependencyService.wrapper.wrap(key, params, defaultValue, translation);\n    } else {\n      return translation || defaultValue;\n    }\n  };\n  Tolgee.prototype.instant = function (keyOrProps, params, noWrap, orEmpty, defaultValue) {\n    if (params === void 0) {\n      params = {};\n    }\n    if (noWrap === void 0) {\n      noWrap = false;\n    }\n    var key = typeof keyOrProps === 'string' ? keyOrProps : keyOrProps.key;\n    if (typeof keyOrProps === 'object') {\n      var props = keyOrProps;\n      // if values are not provided in props object, get them from function\n      // params defaults\n      params = props.params !== undefined ? props.params : params;\n      noWrap = props.noWrap !== undefined ? props.noWrap : noWrap;\n      defaultValue = props.defaultValue !== undefined ? props.defaultValue : defaultValue;\n      orEmpty = props.orEmpty !== undefined ? props.orEmpty : orEmpty;\n    }\n    var translation = this.dependencyService.textService.instant(key, params, undefined, orEmpty, defaultValue);\n    if (this.properties.mode === 'development' && !noWrap) {\n      return this.dependencyService.wrapper.wrap(key, params, defaultValue, translation);\n    }\n    return translation;\n  };\n  /**\n   * Get currently cached translations for all languages\n   */\n  Tolgee.prototype.getCachedTranslations = function () {\n    return this.dependencyService.translationService.getCachedTranslations();\n  };\n  /**\n   * Loads translations for given language or returns them from cache\n   * @returns Loaded translations\n   */\n  Tolgee.prototype.loadTranslations = function (lang) {\n    return this.dependencyService.translationService.loadTranslations(lang);\n  };\n  Tolgee.prototype.emitLangChangeEvent = function (value) {\n    var langChangedEmitter = this.onLangChange;\n    langChangedEmitter.emit(value);\n  };\n  return Tolgee;\n}();\nvar ErrorKind;\n(function (ErrorKind) {\n  /** Argument is unclosed (e.g. `{0`) */\n  ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n  /** Argument is empty (e.g. `{}`). */\n  ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n  /** Argument is malformed (e.g. `{foo!}``) */\n  ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n  /** Expect an argument type (e.g. `{foo,}`) */\n  ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n  /** Unsupported argument type (e.g. `{foo,foo}`) */\n  ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n  /** Expect an argument style (e.g. `{foo, number, }`) */\n  ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n  /** The number skeleton is invalid. */\n  ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n  /** The date time skeleton is invalid. */\n  ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n  /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n  ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n  /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n  ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n  /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n  ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n  /** Missing select argument options (e.g. `{foo, select}`) */\n  ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n  /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n  ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n  /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n  ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n  /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n  ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n  /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n  ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n  /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n  ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n  /**\n   * Expecting a message fragment after the `plural` or `selectordinal` selector\n   * (e.g. `{foo, plural, one}`)\n   */\n  ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n  /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n  ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n  /**\n   * Duplicate selectors in `plural` or `selectordinal` argument.\n   * (e.g. {foo, plural, one {#} one {#}})\n   */\n  ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n  /** Duplicate selectors in `select` argument.\n   * (e.g. {foo, select, apple {apple} apple {apple}})\n   */\n  ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n  /** Plural or select argument option must have `other` clause. */\n  ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n  /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n  ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n  /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n  ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n  /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n  ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n  /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n  ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));\nvar TYPE;\n(function (TYPE) {\n  /**\n   * Raw text\n   */\n  TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n  /**\n   * Variable w/o any format, e.g `var` in `this is a {var}`\n   */\n  TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n  /**\n   * Variable w/ number format\n   */\n  TYPE[TYPE[\"number\"] = 2] = \"number\";\n  /**\n   * Variable w/ date format\n   */\n  TYPE[TYPE[\"date\"] = 3] = \"date\";\n  /**\n   * Variable w/ time format\n   */\n  TYPE[TYPE[\"time\"] = 4] = \"time\";\n  /**\n   * Variable w/ select format\n   */\n  TYPE[TYPE[\"select\"] = 5] = \"select\";\n  /**\n   * Variable w/ plural format\n   */\n  TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n  /**\n   * Only possible within plural argument.\n   * This is the `#` symbol that will be substituted with the count.\n   */\n  TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n  /**\n   * XML-like tag\n   */\n  TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nvar SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n  SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n  SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nfunction isLiteralElement(el) {\n  return el.type === TYPE.literal;\n}\nfunction isArgumentElement(el) {\n  return el.type === TYPE.argument;\n}\nfunction isNumberElement(el) {\n  return el.type === TYPE.number;\n}\nfunction isDateElement(el) {\n  return el.type === TYPE.date;\n}\nfunction isTimeElement(el) {\n  return el.type === TYPE.time;\n}\nfunction isSelectElement(el) {\n  return el.type === TYPE.select;\n}\nfunction isPluralElement(el) {\n  return el.type === TYPE.plural;\n}\nfunction isPoundElement(el) {\n  return el.type === TYPE.pound;\n}\nfunction isTagElement(el) {\n  return el.type === TYPE.tag;\n}\nfunction isNumberSkeleton(el) {\n  return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nfunction isDateTimeSkeleton(el) {\n  return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\n\n// @generated from regex-gen.ts\nvar SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\n\n/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nfunction parseDateTimeSkeleton(skeleton) {\n  var result = {};\n  skeleton.replace(DATE_TIME_REGEX, function (match) {\n    var len = match.length;\n    switch (match[0]) {\n      // Era\n      case 'G':\n        result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n        break;\n      // Year\n      case 'y':\n        result.year = len === 2 ? '2-digit' : 'numeric';\n        break;\n      case 'Y':\n      case 'u':\n      case 'U':\n      case 'r':\n        throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n      // Quarter\n      case 'q':\n      case 'Q':\n        throw new RangeError('`q/Q` (quarter) patterns are not supported');\n      // Month\n      case 'M':\n      case 'L':\n        result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n        break;\n      // Week\n      case 'w':\n      case 'W':\n        throw new RangeError('`w/W` (week) patterns are not supported');\n      case 'd':\n        result.day = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'D':\n      case 'F':\n      case 'g':\n        throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n      // Weekday\n      case 'E':\n        result.weekday = len === 4 ? 'short' : len === 5 ? 'narrow' : 'short';\n        break;\n      case 'e':\n        if (len < 4) {\n          throw new RangeError('`e..eee` (weekday) patterns are not supported');\n        }\n        result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n        break;\n      case 'c':\n        if (len < 4) {\n          throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n        }\n        result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n        break;\n      // Period\n      case 'a':\n        // AM, PM\n        result.hour12 = true;\n        break;\n      case 'b': // am, pm, noon, midnight\n      case 'B':\n        // flexible day periods\n        throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n      // Hour\n      case 'h':\n        result.hourCycle = 'h12';\n        result.hour = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'H':\n        result.hourCycle = 'h23';\n        result.hour = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'K':\n        result.hourCycle = 'h11';\n        result.hour = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'k':\n        result.hourCycle = 'h24';\n        result.hour = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'j':\n      case 'J':\n      case 'C':\n        throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n      // Minute\n      case 'm':\n        result.minute = ['numeric', '2-digit'][len - 1];\n        break;\n      // Second\n      case 's':\n        result.second = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'S':\n      case 'A':\n        throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n      // Zone\n      case 'z':\n        // 1..3, 4: specific non-location format\n        result.timeZoneName = len < 4 ? 'short' : 'long';\n        break;\n      case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n      case 'O': // 1, 4: miliseconds in day short, long\n      case 'v': // 1, 4: generic non-location format\n      case 'V': // 1, 2, 3, 4: time zone ID or city\n      case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n      case 'x':\n        // 1, 2, 3, 4: The ISO8601 varios formats\n        throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n    }\n    return '';\n  });\n  return result;\n}\n\n// @generated from regex-gen.ts\nvar WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;\nfunction parseNumberSkeletonFromString(skeleton) {\n  if (skeleton.length === 0) {\n    throw new Error('Number skeleton cannot be empty');\n  }\n  // Parse the skeleton\n  var stringTokens = skeleton.split(WHITE_SPACE_REGEX).filter(function (x) {\n    return x.length > 0;\n  });\n  var tokens = [];\n  for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n    var stringToken = stringTokens_1[_i];\n    var stemAndOptions = stringToken.split('/');\n    if (stemAndOptions.length === 0) {\n      throw new Error('Invalid number skeleton');\n    }\n    var stem = stemAndOptions[0],\n      options = stemAndOptions.slice(1);\n    for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n      var option = options_1[_a];\n      if (option.length === 0) {\n        throw new Error('Invalid number skeleton');\n      }\n    }\n    tokens.push({\n      stem: stem,\n      options: options\n    });\n  }\n  return tokens;\n}\nfunction icuUnitToEcma(unit) {\n  return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n  var result = {};\n  if (str[str.length - 1] === 'r') {\n    result.roundingPriority = 'morePrecision';\n  } else if (str[str.length - 1] === 's') {\n    result.roundingPriority = 'lessPrecision';\n  }\n  str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n    // @@@ case\n    if (typeof g2 !== 'string') {\n      result.minimumSignificantDigits = g1.length;\n      result.maximumSignificantDigits = g1.length;\n    }\n    // @@@+ case\n    else if (g2 === '+') {\n      result.minimumSignificantDigits = g1.length;\n    }\n    // .### case\n    else if (g1[0] === '#') {\n      result.maximumSignificantDigits = g1.length;\n    }\n    // .@@## or .@@@ case\n    else {\n      result.minimumSignificantDigits = g1.length;\n      result.maximumSignificantDigits = g1.length + (typeof g2 === 'string' ? g2.length : 0);\n    }\n    return '';\n  });\n  return result;\n}\nfunction parseSign(str) {\n  switch (str) {\n    case 'sign-auto':\n      return {\n        signDisplay: 'auto'\n      };\n    case 'sign-accounting':\n    case '()':\n      return {\n        currencySign: 'accounting'\n      };\n    case 'sign-always':\n    case '+!':\n      return {\n        signDisplay: 'always'\n      };\n    case 'sign-accounting-always':\n    case '()!':\n      return {\n        signDisplay: 'always',\n        currencySign: 'accounting'\n      };\n    case 'sign-except-zero':\n    case '+?':\n      return {\n        signDisplay: 'exceptZero'\n      };\n    case 'sign-accounting-except-zero':\n    case '()?':\n      return {\n        signDisplay: 'exceptZero',\n        currencySign: 'accounting'\n      };\n    case 'sign-never':\n    case '+_':\n      return {\n        signDisplay: 'never'\n      };\n  }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n  // Engineering\n  var result;\n  if (stem[0] === 'E' && stem[1] === 'E') {\n    result = {\n      notation: 'engineering'\n    };\n    stem = stem.slice(2);\n  } else if (stem[0] === 'E') {\n    result = {\n      notation: 'scientific'\n    };\n    stem = stem.slice(1);\n  }\n  if (result) {\n    var signDisplay = stem.slice(0, 2);\n    if (signDisplay === '+!') {\n      result.signDisplay = 'always';\n      stem = stem.slice(2);\n    } else if (signDisplay === '+?') {\n      result.signDisplay = 'exceptZero';\n      stem = stem.slice(2);\n    }\n    if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n      throw new Error('Malformed concise eng/scientific notation');\n    }\n    result.minimumIntegerDigits = stem.length;\n  }\n  return result;\n}\nfunction parseNotationOptions(opt) {\n  var result = {};\n  var signOpts = parseSign(opt);\n  if (signOpts) {\n    return signOpts;\n  }\n  return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nfunction parseNumberSkeleton(tokens) {\n  var result = {};\n  for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n    var token = tokens_1[_i];\n    switch (token.stem) {\n      case 'percent':\n      case '%':\n        result.style = 'percent';\n        continue;\n      case '%x100':\n        result.style = 'percent';\n        result.scale = 100;\n        continue;\n      case 'currency':\n        result.style = 'currency';\n        result.currency = token.options[0];\n        continue;\n      case 'group-off':\n      case ',_':\n        result.useGrouping = false;\n        continue;\n      case 'precision-integer':\n      case '.':\n        result.maximumFractionDigits = 0;\n        continue;\n      case 'measure-unit':\n      case 'unit':\n        result.style = 'unit';\n        result.unit = icuUnitToEcma(token.options[0]);\n        continue;\n      case 'compact-short':\n      case 'K':\n        result.notation = 'compact';\n        result.compactDisplay = 'short';\n        continue;\n      case 'compact-long':\n      case 'KK':\n        result.notation = 'compact';\n        result.compactDisplay = 'long';\n        continue;\n      case 'scientific':\n        result = _assign(_assign(_assign({}, result), {\n          notation: 'scientific'\n        }), token.options.reduce(function (all, opt) {\n          return _assign(_assign({}, all), parseNotationOptions(opt));\n        }, {}));\n        continue;\n      case 'engineering':\n        result = _assign(_assign(_assign({}, result), {\n          notation: 'engineering'\n        }), token.options.reduce(function (all, opt) {\n          return _assign(_assign({}, all), parseNotationOptions(opt));\n        }, {}));\n        continue;\n      case 'notation-simple':\n        result.notation = 'standard';\n        continue;\n      // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n      case 'unit-width-narrow':\n        result.currencyDisplay = 'narrowSymbol';\n        result.unitDisplay = 'narrow';\n        continue;\n      case 'unit-width-short':\n        result.currencyDisplay = 'code';\n        result.unitDisplay = 'short';\n        continue;\n      case 'unit-width-full-name':\n        result.currencyDisplay = 'name';\n        result.unitDisplay = 'long';\n        continue;\n      case 'unit-width-iso-code':\n        result.currencyDisplay = 'symbol';\n        continue;\n      case 'scale':\n        result.scale = parseFloat(token.options[0]);\n        continue;\n      // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n      case 'integer-width':\n        if (token.options.length > 1) {\n          throw new RangeError('integer-width stems only accept a single optional option');\n        }\n        token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n          if (g1) {\n            result.minimumIntegerDigits = g2.length;\n          } else if (g3 && g4) {\n            throw new Error('We currently do not support maximum integer digits');\n          } else if (g5) {\n            throw new Error('We currently do not support exact integer digits');\n          }\n          return '';\n        });\n        continue;\n    }\n    // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n    if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n      result.minimumIntegerDigits = token.stem.length;\n      continue;\n    }\n    if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n      // Precision\n      // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n      // precision-integer case\n      if (token.options.length > 1) {\n        throw new RangeError('Fraction-precision stems only accept a single optional option');\n      }\n      token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n        // .000* case (before ICU67 it was .000+)\n        if (g2 === '*') {\n          result.minimumFractionDigits = g1.length;\n        }\n        // .### case\n        else if (g3 && g3[0] === '#') {\n          result.maximumFractionDigits = g3.length;\n        }\n        // .00## case\n        else if (g4 && g5) {\n          result.minimumFractionDigits = g4.length;\n          result.maximumFractionDigits = g4.length + g5.length;\n        } else {\n          result.minimumFractionDigits = g1.length;\n          result.maximumFractionDigits = g1.length;\n        }\n        return '';\n      });\n      var opt = token.options[0];\n      // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n      if (opt === 'w') {\n        result = _assign(_assign({}, result), {\n          trailingZeroDisplay: 'stripIfInteger'\n        });\n      } else if (opt) {\n        result = _assign(_assign({}, result), parseSignificantPrecision(opt));\n      }\n      continue;\n    }\n    // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n    if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n      result = _assign(_assign({}, result), parseSignificantPrecision(token.stem));\n      continue;\n    }\n    var signOpts = parseSign(token.stem);\n    if (signOpts) {\n      result = _assign(_assign({}, result), signOpts);\n    }\n    var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n    if (conciseScientificAndEngineeringOpts) {\n      result = _assign(_assign({}, result), conciseScientificAndEngineeringOpts);\n    }\n  }\n  return result;\n}\n\n// @generated from time-data-gen.ts\n// prettier-ignore  \nvar timeData = {\n  \"AX\": [\"H\"],\n  \"BQ\": [\"H\"],\n  \"CP\": [\"H\"],\n  \"CZ\": [\"H\"],\n  \"DK\": [\"H\"],\n  \"FI\": [\"H\"],\n  \"ID\": [\"H\"],\n  \"IS\": [\"H\"],\n  \"ML\": [\"H\"],\n  \"NE\": [\"H\"],\n  \"RU\": [\"H\"],\n  \"SE\": [\"H\"],\n  \"SJ\": [\"H\"],\n  \"SK\": [\"H\"],\n  \"AS\": [\"h\", \"H\"],\n  \"BT\": [\"h\", \"H\"],\n  \"DJ\": [\"h\", \"H\"],\n  \"ER\": [\"h\", \"H\"],\n  \"GH\": [\"h\", \"H\"],\n  \"IN\": [\"h\", \"H\"],\n  \"LS\": [\"h\", \"H\"],\n  \"PG\": [\"h\", \"H\"],\n  \"PW\": [\"h\", \"H\"],\n  \"SO\": [\"h\", \"H\"],\n  \"TO\": [\"h\", \"H\"],\n  \"VU\": [\"h\", \"H\"],\n  \"WS\": [\"h\", \"H\"],\n  \"001\": [\"H\", \"h\"],\n  \"AL\": [\"h\", \"H\", \"hB\"],\n  \"TD\": [\"h\", \"H\", \"hB\"],\n  \"ca-ES\": [\"H\", \"h\", \"hB\"],\n  \"CF\": [\"H\", \"h\", \"hB\"],\n  \"CM\": [\"H\", \"h\", \"hB\"],\n  \"fr-CA\": [\"H\", \"h\", \"hB\"],\n  \"gl-ES\": [\"H\", \"h\", \"hB\"],\n  \"it-CH\": [\"H\", \"h\", \"hB\"],\n  \"it-IT\": [\"H\", \"h\", \"hB\"],\n  \"LU\": [\"H\", \"h\", \"hB\"],\n  \"NP\": [\"H\", \"h\", \"hB\"],\n  \"PF\": [\"H\", \"h\", \"hB\"],\n  \"SC\": [\"H\", \"h\", \"hB\"],\n  \"SM\": [\"H\", \"h\", \"hB\"],\n  \"SN\": [\"H\", \"h\", \"hB\"],\n  \"TF\": [\"H\", \"h\", \"hB\"],\n  \"VA\": [\"H\", \"h\", \"hB\"],\n  \"CY\": [\"h\", \"H\", \"hb\", \"hB\"],\n  \"GR\": [\"h\", \"H\", \"hb\", \"hB\"],\n  \"CO\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"DO\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"KP\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"KR\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"NA\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"PA\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"PR\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"VE\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"AC\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"AI\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"BW\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"BZ\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"CC\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"CK\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"CX\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"DG\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"FK\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"GB\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"GG\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"GI\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"IE\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"IM\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"IO\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"JE\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"LT\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"MK\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"MN\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"MS\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"NF\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"NG\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"NR\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"NU\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"PN\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"SH\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"SX\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"TA\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"ZA\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"af-ZA\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"AR\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"CL\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"CR\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"CU\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"EA\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-BO\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-BR\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-EC\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-ES\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-GQ\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-PE\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"GT\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"HN\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"IC\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"KG\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"KM\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"LK\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"MA\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"MX\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"NI\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"PY\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"SV\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"UY\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"JP\": [\"H\", \"h\", \"K\"],\n  \"AD\": [\"H\", \"hB\"],\n  \"AM\": [\"H\", \"hB\"],\n  \"AO\": [\"H\", \"hB\"],\n  \"AT\": [\"H\", \"hB\"],\n  \"AW\": [\"H\", \"hB\"],\n  \"BE\": [\"H\", \"hB\"],\n  \"BF\": [\"H\", \"hB\"],\n  \"BJ\": [\"H\", \"hB\"],\n  \"BL\": [\"H\", \"hB\"],\n  \"BR\": [\"H\", \"hB\"],\n  \"CG\": [\"H\", \"hB\"],\n  \"CI\": [\"H\", \"hB\"],\n  \"CV\": [\"H\", \"hB\"],\n  \"DE\": [\"H\", \"hB\"],\n  \"EE\": [\"H\", \"hB\"],\n  \"FR\": [\"H\", \"hB\"],\n  \"GA\": [\"H\", \"hB\"],\n  \"GF\": [\"H\", \"hB\"],\n  \"GN\": [\"H\", \"hB\"],\n  \"GP\": [\"H\", \"hB\"],\n  \"GW\": [\"H\", \"hB\"],\n  \"HR\": [\"H\", \"hB\"],\n  \"IL\": [\"H\", \"hB\"],\n  \"IT\": [\"H\", \"hB\"],\n  \"KZ\": [\"H\", \"hB\"],\n  \"MC\": [\"H\", \"hB\"],\n  \"MD\": [\"H\", \"hB\"],\n  \"MF\": [\"H\", \"hB\"],\n  \"MQ\": [\"H\", \"hB\"],\n  \"MZ\": [\"H\", \"hB\"],\n  \"NC\": [\"H\", \"hB\"],\n  \"NL\": [\"H\", \"hB\"],\n  \"PM\": [\"H\", \"hB\"],\n  \"PT\": [\"H\", \"hB\"],\n  \"RE\": [\"H\", \"hB\"],\n  \"RO\": [\"H\", \"hB\"],\n  \"SI\": [\"H\", \"hB\"],\n  \"SR\": [\"H\", \"hB\"],\n  \"ST\": [\"H\", \"hB\"],\n  \"TG\": [\"H\", \"hB\"],\n  \"TR\": [\"H\", \"hB\"],\n  \"WF\": [\"H\", \"hB\"],\n  \"YT\": [\"H\", \"hB\"],\n  \"BD\": [\"h\", \"hB\", \"H\"],\n  \"PK\": [\"h\", \"hB\", \"H\"],\n  \"AZ\": [\"H\", \"hB\", \"h\"],\n  \"BA\": [\"H\", \"hB\", \"h\"],\n  \"BG\": [\"H\", \"hB\", \"h\"],\n  \"CH\": [\"H\", \"hB\", \"h\"],\n  \"GE\": [\"H\", \"hB\", \"h\"],\n  \"LI\": [\"H\", \"hB\", \"h\"],\n  \"ME\": [\"H\", \"hB\", \"h\"],\n  \"RS\": [\"H\", \"hB\", \"h\"],\n  \"UA\": [\"H\", \"hB\", \"h\"],\n  \"UZ\": [\"H\", \"hB\", \"h\"],\n  \"XK\": [\"H\", \"hB\", \"h\"],\n  \"AG\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"AU\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"BB\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"BM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"BS\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"CA\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"DM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"en-001\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"FJ\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"FM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"GD\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"GM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"GU\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"GY\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"JM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"KI\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"KN\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"KY\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"LC\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"LR\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"MH\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"MP\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"MW\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"NZ\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"SB\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"SG\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"SL\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"SS\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"SZ\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"TC\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"TT\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"UM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"US\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"VC\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"VG\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"VI\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"ZM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"BO\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"EC\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"ES\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"GQ\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"PE\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"AE\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"ar-001\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"BH\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"DZ\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"EG\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"EH\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"HK\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"IQ\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"JO\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"KW\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"LB\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"LY\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"MO\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"MR\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"OM\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"PH\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"PS\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"QA\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"SA\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"SD\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"SY\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"TN\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"YE\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"AF\": [\"H\", \"hb\", \"hB\", \"h\"],\n  \"LA\": [\"H\", \"hb\", \"hB\", \"h\"],\n  \"CN\": [\"H\", \"hB\", \"hb\", \"h\"],\n  \"LV\": [\"H\", \"hB\", \"hb\", \"h\"],\n  \"TL\": [\"H\", \"hB\", \"hb\", \"h\"],\n  \"zu-ZA\": [\"H\", \"hB\", \"hb\", \"h\"],\n  \"CD\": [\"hB\", \"H\"],\n  \"IR\": [\"hB\", \"H\"],\n  \"hi-IN\": [\"hB\", \"h\", \"H\"],\n  \"kn-IN\": [\"hB\", \"h\", \"H\"],\n  \"ml-IN\": [\"hB\", \"h\", \"H\"],\n  \"te-IN\": [\"hB\", \"h\", \"H\"],\n  \"KH\": [\"hB\", \"h\", \"H\", \"hb\"],\n  \"ta-IN\": [\"hB\", \"h\", \"hb\", \"H\"],\n  \"BN\": [\"hb\", \"hB\", \"h\", \"H\"],\n  \"MY\": [\"hb\", \"hB\", \"h\", \"H\"],\n  \"ET\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"gu-IN\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"mr-IN\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"pa-IN\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"TW\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"KE\": [\"hB\", \"hb\", \"H\", \"h\"],\n  \"MM\": [\"hB\", \"hb\", \"H\", \"h\"],\n  \"TZ\": [\"hB\", \"hb\", \"H\", \"h\"],\n  \"UG\": [\"hB\", \"hb\", \"H\", \"h\"]\n};\n\n/**\n * Returns the best matching date time pattern if a date time skeleton\n * pattern is provided with a locale. Follows the Unicode specification:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#table-mapping-requested-time-skeletons-to-patterns\n * @param skeleton date time skeleton pattern that possibly includes j, J or C\n * @param locale\n */\nfunction getBestPattern(skeleton, locale) {\n  var skeletonCopy = '';\n  for (var patternPos = 0; patternPos < skeleton.length; patternPos++) {\n    var patternChar = skeleton.charAt(patternPos);\n    if (patternChar === 'j') {\n      var extraLength = 0;\n      while (patternPos + 1 < skeleton.length && skeleton.charAt(patternPos + 1) === patternChar) {\n        extraLength++;\n        patternPos++;\n      }\n      var hourLen = 1 + (extraLength & 1);\n      var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);\n      var dayPeriodChar = 'a';\n      var hourChar = getDefaultHourSymbolFromLocale(locale);\n      if (hourChar == 'H' || hourChar == 'k') {\n        dayPeriodLen = 0;\n      }\n      while (dayPeriodLen-- > 0) {\n        skeletonCopy += dayPeriodChar;\n      }\n      while (hourLen-- > 0) {\n        skeletonCopy = hourChar + skeletonCopy;\n      }\n    } else if (patternChar === 'J') {\n      skeletonCopy += 'H';\n    } else {\n      skeletonCopy += patternChar;\n    }\n  }\n  return skeletonCopy;\n}\n/**\n * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)\n * of the given `locale` to the corresponding time pattern.\n * @param locale\n */\nfunction getDefaultHourSymbolFromLocale(locale) {\n  var hourCycle = locale.hourCycle;\n  if (hourCycle === undefined &&\n  // @ts-ignore hourCycle(s) is not identified yet\n  locale.hourCycles &&\n  // @ts-ignore\n  locale.hourCycles.length) {\n    // @ts-ignore\n    hourCycle = locale.hourCycles[0];\n  }\n  if (hourCycle) {\n    switch (hourCycle) {\n      case 'h24':\n        return 'k';\n      case 'h23':\n        return 'H';\n      case 'h12':\n        return 'h';\n      case 'h11':\n        return 'K';\n      default:\n        throw new Error('Invalid hourCycle');\n    }\n  }\n  // TODO: Once hourCycle is fully supported remove the following with data generation\n  var languageTag = locale.language;\n  var regionTag;\n  if (languageTag !== 'root') {\n    regionTag = locale.maximize().region;\n  }\n  var hourCycles = timeData[regionTag || ''] || timeData[languageTag || ''] || timeData[\"\".concat(languageTag, \"-001\")] || timeData['001'];\n  return hourCycles[0];\n}\nvar _a$1;\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\".concat(SPACE_SEPARATOR_REGEX.source, \"*\"));\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(\"\".concat(SPACE_SEPARATOR_REGEX.source, \"*$\"));\nfunction createLocation(start, end) {\n  return {\n    start: start,\n    end: end\n  };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith;\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger ? Number.isSafeInteger : function (n) {\n  return typeof n === 'number' && isFinite(n) && Math.floor(n) === n && Math.abs(n) <= 0x1fffffffffffff;\n};\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n  var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n  /**\n   * legacy Edge or Xbox One browser\n   * Unicode flag support: supported\n   * Pattern_Syntax support: not supported\n   * See https://github.com/formatjs/formatjs/issues/2822\n   */\n  REGEX_SUPPORTS_U_AND_Y = ((_a$1 = re.exec('a')) === null || _a$1 === void 0 ? void 0 : _a$1[0]) === 'a';\n} catch (_) {\n  REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith ?\n// Native\nfunction startsWith(s, search, position) {\n  return s.startsWith(search, position);\n} :\n// For IE11\nfunction startsWith(s, search, position) {\n  return s.slice(position, position + search.length) === search;\n};\nvar fromCodePoint = hasNativeFromCodePoint ? String.fromCodePoint :\n// IE11\nfunction fromCodePoint() {\n  var codePoints = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    codePoints[_i] = arguments[_i];\n  }\n  var elements = '';\n  var length = codePoints.length;\n  var i = 0;\n  var code;\n  while (length > i) {\n    code = codePoints[i++];\n    if (code > 0x10ffff) throw RangeError(code + ' is not a valid code point');\n    elements += code < 0x10000 ? String.fromCharCode(code) : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00);\n  }\n  return elements;\n};\nvar fromEntries =\n// native\nhasNativeFromEntries ? Object.fromEntries :\n// Ponyfill\nfunction fromEntries(entries) {\n  var obj = {};\n  for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n    var _a = entries_1[_i],\n      k = _a[0],\n      v = _a[1];\n    obj[k] = v;\n  }\n  return obj;\n};\nvar codePointAt = hasNativeCodePointAt ?\n// Native\nfunction codePointAt(s, index) {\n  return s.codePointAt(index);\n} :\n// IE 11\nfunction codePointAt(s, index) {\n  var size = s.length;\n  if (index < 0 || index >= size) {\n    return undefined;\n  }\n  var first = s.charCodeAt(index);\n  var second;\n  return first < 0xd800 || first > 0xdbff || index + 1 === size || (second = s.charCodeAt(index + 1)) < 0xdc00 || second > 0xdfff ? first : (first - 0xd800 << 10) + (second - 0xdc00) + 0x10000;\n};\nvar trimStart = hasTrimStart ?\n// Native\nfunction trimStart(s) {\n  return s.trimStart();\n} :\n// Ponyfill\nfunction trimStart(s) {\n  return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n};\nvar trimEnd = hasTrimEnd ?\n// Native\nfunction trimEnd(s) {\n  return s.trimEnd();\n} :\n// Ponyfill\nfunction trimEnd(s) {\n  return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n};\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n  return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n  // Native\n  var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n  matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n    var _a;\n    IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n    var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n    return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n  };\n} else {\n  // IE11\n  matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n    var match = [];\n    while (true) {\n      var c = codePointAt(s, index);\n      if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n        break;\n      }\n      match.push(c);\n      index += c >= 0x10000 ? 2 : 1;\n    }\n    return fromCodePoint.apply(void 0, match);\n  };\n}\nvar Parser = /** @class */function () {\n  function Parser(message, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    this.message = message;\n    this.position = {\n      offset: 0,\n      line: 1,\n      column: 1\n    };\n    this.ignoreTag = !!options.ignoreTag;\n    this.locale = options.locale;\n    this.requiresOtherClause = !!options.requiresOtherClause;\n    this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n  }\n  Parser.prototype.parse = function () {\n    if (this.offset() !== 0) {\n      throw Error('parser can only be used once');\n    }\n    return this.parseMessage(0, '', false);\n  };\n  Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n    var elements = [];\n    while (!this.isEOF()) {\n      var char = this.char();\n      if (char === 123 /* `{` */) {\n        var result = this.parseArgument(nestingLevel, expectingCloseTag);\n        if (result.err) {\n          return result;\n        }\n        elements.push(result.val);\n      } else if (char === 125 /* `}` */ && nestingLevel > 0) {\n        break;\n      } else if (char === 35 /* `#` */ && (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n        var position = this.clonePosition();\n        this.bump();\n        elements.push({\n          type: TYPE.pound,\n          location: createLocation(position, this.clonePosition())\n        });\n      } else if (char === 60 /* `<` */ && !this.ignoreTag && this.peek() === 47 // char code for '/'\n      ) {\n        if (expectingCloseTag) {\n          break;\n        } else {\n          return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n      } else if (char === 60 /* `<` */ && !this.ignoreTag && _isAlpha(this.peek() || 0)) {\n        var result = this.parseTag(nestingLevel, parentArgType);\n        if (result.err) {\n          return result;\n        }\n        elements.push(result.val);\n      } else {\n        var result = this.parseLiteral(nestingLevel, parentArgType);\n        if (result.err) {\n          return result;\n        }\n        elements.push(result.val);\n      }\n    }\n    return {\n      val: elements,\n      err: null\n    };\n  };\n  /**\n   * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n   * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n   * are accepted:\n   *\n   * ```\n   * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n   * tagName ::= [a-z] (PENChar)*\n   * PENChar ::=\n   *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n   *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n   *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n   * ```\n   *\n   * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n   * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n   * since other tag-based engines like React allow it\n   */\n  Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n    var startPosition = this.clonePosition();\n    this.bump(); // `<`\n    var tagName = this.parseTagName();\n    this.bumpSpace();\n    if (this.bumpIf('/>')) {\n      // Self closing tag\n      return {\n        val: {\n          type: TYPE.literal,\n          value: \"<\".concat(tagName, \"/>\"),\n          location: createLocation(startPosition, this.clonePosition())\n        },\n        err: null\n      };\n    } else if (this.bumpIf('>')) {\n      var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n      if (childrenResult.err) {\n        return childrenResult;\n      }\n      var children = childrenResult.val;\n      // Expecting a close tag\n      var endTagStartPosition = this.clonePosition();\n      if (this.bumpIf('</')) {\n        if (this.isEOF() || !_isAlpha(this.char())) {\n          return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n        }\n        var closingTagNameStartPosition = this.clonePosition();\n        var closingTagName = this.parseTagName();\n        if (tagName !== closingTagName) {\n          return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (!this.bumpIf('>')) {\n          return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n        }\n        return {\n          val: {\n            type: TYPE.tag,\n            value: tagName,\n            children: children,\n            location: createLocation(startPosition, this.clonePosition())\n          },\n          err: null\n        };\n      } else {\n        return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n      }\n    } else {\n      return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n    }\n  };\n  /**\n   * This method assumes that the caller has peeked ahead for the first tag character.\n   */\n  Parser.prototype.parseTagName = function () {\n    var startOffset = this.offset();\n    this.bump(); // the first tag name character\n    while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n      this.bump();\n    }\n    return this.message.slice(startOffset, this.offset());\n  };\n  Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n    var start = this.clonePosition();\n    var value = '';\n    while (true) {\n      var parseQuoteResult = this.tryParseQuote(parentArgType);\n      if (parseQuoteResult) {\n        value += parseQuoteResult;\n        continue;\n      }\n      var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n      if (parseUnquotedResult) {\n        value += parseUnquotedResult;\n        continue;\n      }\n      var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n      if (parseLeftAngleResult) {\n        value += parseLeftAngleResult;\n        continue;\n      }\n      break;\n    }\n    var location = createLocation(start, this.clonePosition());\n    return {\n      val: {\n        type: TYPE.literal,\n        value: value,\n        location: location\n      },\n      err: null\n    };\n  };\n  Parser.prototype.tryParseLeftAngleBracket = function () {\n    if (!this.isEOF() && this.char() === 60 /* `<` */ && (this.ignoreTag ||\n    // If at the opening tag or closing tag position, bail.\n    !_isAlphaOrSlash(this.peek() || 0))) {\n      this.bump(); // `<`\n      return '<';\n    }\n    return null;\n  };\n  /**\n   * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n   * a character that requires quoting (that is, \"only where needed\"), and works the same in\n   * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n   */\n  Parser.prototype.tryParseQuote = function (parentArgType) {\n    if (this.isEOF() || this.char() !== 39 /* `'` */) {\n      return null;\n    }\n    // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n    // Check if is valid escaped character\n    switch (this.peek()) {\n      case 39 /* `'` */:\n        // double quote, should return as a single quote.\n        this.bump();\n        this.bump();\n        return \"'\";\n      // '{', '<', '>', '}'\n      case 123:\n      case 60:\n      case 62:\n      case 125:\n        break;\n      case 35:\n        // '#'\n        if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n          break;\n        }\n        return null;\n      default:\n        return null;\n    }\n    this.bump(); // apostrophe\n    var codePoints = [this.char()]; // escaped char\n    this.bump();\n    // read chars until the optional closing apostrophe is found\n    while (!this.isEOF()) {\n      var ch = this.char();\n      if (ch === 39 /* `'` */) {\n        if (this.peek() === 39 /* `'` */) {\n          codePoints.push(39);\n          // Bump one more time because we need to skip 2 characters.\n          this.bump();\n        } else {\n          // Optional closing apostrophe.\n          this.bump();\n          break;\n        }\n      } else {\n        codePoints.push(ch);\n      }\n      this.bump();\n    }\n    return fromCodePoint.apply(void 0, codePoints);\n  };\n  Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n    if (this.isEOF()) {\n      return null;\n    }\n    var ch = this.char();\n    if (ch === 60 /* `<` */ || ch === 123 /* `{` */ || ch === 35 /* `#` */ && (parentArgType === 'plural' || parentArgType === 'selectordinal') || ch === 125 /* `}` */ && nestingLevel > 0) {\n      return null;\n    } else {\n      this.bump();\n      return fromCodePoint(ch);\n    }\n  };\n  Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n    var openingBracePosition = this.clonePosition();\n    this.bump(); // `{`\n    this.bumpSpace();\n    if (this.isEOF()) {\n      return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    if (this.char() === 125 /* `}` */) {\n      this.bump();\n      return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    // argument name\n    var value = this.parseIdentifierIfPossible().value;\n    if (!value) {\n      return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    this.bumpSpace();\n    if (this.isEOF()) {\n      return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    switch (this.char()) {\n      // Simple argument: `{name}`\n      case 125 /* `}` */:\n        {\n          this.bump(); // `}`\n          return {\n            val: {\n              type: TYPE.argument,\n              // value does not include the opening and closing braces.\n              value: value,\n              location: createLocation(openingBracePosition, this.clonePosition())\n            },\n            err: null\n          };\n        }\n      // Argument with options: `{name, format, ...}`\n      case 44 /* `,` */:\n        {\n          this.bump(); // `,`\n          this.bumpSpace();\n          if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n          }\n          return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n        }\n      default:\n        return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n    }\n  };\n  /**\n   * Advance the parser until the end of the identifier, if it is currently on\n   * an identifier character. Return an empty string otherwise.\n   */\n  Parser.prototype.parseIdentifierIfPossible = function () {\n    var startingPosition = this.clonePosition();\n    var startOffset = this.offset();\n    var value = matchIdentifierAtIndex(this.message, startOffset);\n    var endOffset = startOffset + value.length;\n    this.bumpTo(endOffset);\n    var endPosition = this.clonePosition();\n    var location = createLocation(startingPosition, endPosition);\n    return {\n      value: value,\n      location: location\n    };\n  };\n  Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n    var _a;\n    // Parse this range:\n    // {name, type, style}\n    //        ^---^\n    var typeStartPosition = this.clonePosition();\n    var argType = this.parseIdentifierIfPossible().value;\n    var typeEndPosition = this.clonePosition();\n    switch (argType) {\n      case '':\n        // Expecting a style string number, date, time, plural, selectordinal, or select.\n        return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n      case 'number':\n      case 'date':\n      case 'time':\n        {\n          // Parse this range:\n          // {name, number, style}\n          //              ^-------^\n          this.bumpSpace();\n          var styleAndLocation = null;\n          if (this.bumpIf(',')) {\n            this.bumpSpace();\n            var styleStartPosition = this.clonePosition();\n            var result = this.parseSimpleArgStyleIfPossible();\n            if (result.err) {\n              return result;\n            }\n            var style = trimEnd(result.val);\n            if (style.length === 0) {\n              return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n            styleAndLocation = {\n              style: style,\n              styleLocation: styleLocation\n            };\n          }\n          var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n          if (argCloseResult.err) {\n            return argCloseResult;\n          }\n          var location_1 = createLocation(openingBracePosition, this.clonePosition());\n          // Extract style or skeleton\n          if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n            // Skeleton starts with `::`.\n            var skeleton = trimStart(styleAndLocation.style.slice(2));\n            if (argType === 'number') {\n              var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n              if (result.err) {\n                return result;\n              }\n              return {\n                val: {\n                  type: TYPE.number,\n                  value: value,\n                  location: location_1,\n                  style: result.val\n                },\n                err: null\n              };\n            } else {\n              if (skeleton.length === 0) {\n                return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n              }\n              var dateTimePattern = skeleton;\n              // Get \"best match\" pattern only if locale is passed, if not, let it\n              // pass as-is where `parseDateTimeSkeleton()` will throw an error\n              // for unsupported patterns.\n              if (this.locale) {\n                dateTimePattern = getBestPattern(skeleton, this.locale);\n              }\n              var style = {\n                type: SKELETON_TYPE.dateTime,\n                pattern: dateTimePattern,\n                location: styleAndLocation.styleLocation,\n                parsedOptions: this.shouldParseSkeletons ? parseDateTimeSkeleton(dateTimePattern) : {}\n              };\n              var type = argType === 'date' ? TYPE.date : TYPE.time;\n              return {\n                val: {\n                  type: type,\n                  value: value,\n                  location: location_1,\n                  style: style\n                },\n                err: null\n              };\n            }\n          }\n          // Regular style or no style.\n          return {\n            val: {\n              type: argType === 'number' ? TYPE.number : argType === 'date' ? TYPE.date : TYPE.time,\n              value: value,\n              location: location_1,\n              style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null\n            },\n            err: null\n          };\n        }\n      case 'plural':\n      case 'selectordinal':\n      case 'select':\n        {\n          // Parse this range:\n          // {name, plural, options}\n          //              ^---------^\n          var typeEndPosition_1 = this.clonePosition();\n          this.bumpSpace();\n          if (!this.bumpIf(',')) {\n            return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, _assign({}, typeEndPosition_1)));\n          }\n          this.bumpSpace();\n          // Parse offset:\n          // {name, plural, offset:1, options}\n          //                ^-----^\n          //\n          // or the first option:\n          //\n          // {name, plural, one {...} other {...}}\n          //                ^--^\n          var identifierAndLocation = this.parseIdentifierIfPossible();\n          var pluralOffset = 0;\n          if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n            if (!this.bumpIf(':')) {\n              return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            this.bumpSpace();\n            var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n            if (result.err) {\n              return result;\n            }\n            // Parse another identifier for option parsing\n            this.bumpSpace();\n            identifierAndLocation = this.parseIdentifierIfPossible();\n            pluralOffset = result.val;\n          }\n          var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n          if (optionsResult.err) {\n            return optionsResult;\n          }\n          var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n          if (argCloseResult.err) {\n            return argCloseResult;\n          }\n          var location_2 = createLocation(openingBracePosition, this.clonePosition());\n          if (argType === 'select') {\n            return {\n              val: {\n                type: TYPE.select,\n                value: value,\n                options: fromEntries(optionsResult.val),\n                location: location_2\n              },\n              err: null\n            };\n          } else {\n            return {\n              val: {\n                type: TYPE.plural,\n                value: value,\n                options: fromEntries(optionsResult.val),\n                offset: pluralOffset,\n                pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                location: location_2\n              },\n              err: null\n            };\n          }\n        }\n      default:\n        return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n    }\n  };\n  Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n    // Parse: {value, number, ::currency/GBP }\n    //\n    if (this.isEOF() || this.char() !== 125 /* `}` */) {\n      return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    this.bump(); // `}`\n    return {\n      val: true,\n      err: null\n    };\n  };\n  /**\n   * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n   */\n  Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n    var nestedBraces = 0;\n    var startPosition = this.clonePosition();\n    while (!this.isEOF()) {\n      var ch = this.char();\n      switch (ch) {\n        case 39 /* `'` */:\n          {\n            // Treat apostrophe as quoting but include it in the style part.\n            // Find the end of the quoted literal text.\n            this.bump();\n            var apostrophePosition = this.clonePosition();\n            if (!this.bumpUntil(\"'\")) {\n              return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n            }\n            this.bump();\n            break;\n          }\n        case 123 /* `{` */:\n          {\n            nestedBraces += 1;\n            this.bump();\n            break;\n          }\n        case 125 /* `}` */:\n          {\n            if (nestedBraces > 0) {\n              nestedBraces -= 1;\n            } else {\n              return {\n                val: this.message.slice(startPosition.offset, this.offset()),\n                err: null\n              };\n            }\n            break;\n          }\n        default:\n          this.bump();\n          break;\n      }\n    }\n    return {\n      val: this.message.slice(startPosition.offset, this.offset()),\n      err: null\n    };\n  };\n  Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n    var tokens = [];\n    try {\n      tokens = parseNumberSkeletonFromString(skeleton);\n    } catch (e) {\n      return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n    }\n    return {\n      val: {\n        type: SKELETON_TYPE.number,\n        tokens: tokens,\n        location: location,\n        parsedOptions: this.shouldParseSkeletons ? parseNumberSkeleton(tokens) : {}\n      },\n      err: null\n    };\n  };\n  /**\n   * @param nesting_level The current nesting level of messages.\n   *     This can be positive when parsing message fragment in select or plural argument options.\n   * @param parent_arg_type The parent argument's type.\n   * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n   *     the argument. It is a by-product of a previous parsing attempt.\n   * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n   *     between a pair of opening and closing tags. The nested message will not parse beyond\n   *     the closing tag boundary.\n   */\n  Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n    var _a;\n    var hasOtherClause = false;\n    var options = [];\n    var parsedSelectors = new Set();\n    var selector = parsedFirstIdentifier.value,\n      selectorLocation = parsedFirstIdentifier.location;\n    // Parse:\n    // one {one apple}\n    // ^--^\n    while (true) {\n      if (selector.length === 0) {\n        var startPosition = this.clonePosition();\n        if (parentArgType !== 'select' && this.bumpIf('=')) {\n          // Try parse `={number}` selector\n          var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n          if (result.err) {\n            return result;\n          }\n          selectorLocation = createLocation(startPosition, this.clonePosition());\n          selector = this.message.slice(startPosition.offset, this.offset());\n        } else {\n          break;\n        }\n      }\n      // Duplicate selector clauses\n      if (parsedSelectors.has(selector)) {\n        return this.error(parentArgType === 'select' ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n      }\n      if (selector === 'other') {\n        hasOtherClause = true;\n      }\n      // Parse:\n      // one {one apple}\n      //     ^----------^\n      this.bumpSpace();\n      var openingBracePosition = this.clonePosition();\n      if (!this.bumpIf('{')) {\n        return this.error(parentArgType === 'select' ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n      }\n      var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n      if (fragmentResult.err) {\n        return fragmentResult;\n      }\n      var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n      if (argCloseResult.err) {\n        return argCloseResult;\n      }\n      options.push([selector, {\n        value: fragmentResult.val,\n        location: createLocation(openingBracePosition, this.clonePosition())\n      }]);\n      // Keep track of the existing selectors\n      parsedSelectors.add(selector);\n      // Prep next selector clause.\n      this.bumpSpace();\n      _a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location;\n    }\n    if (options.length === 0) {\n      return this.error(parentArgType === 'select' ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n    }\n    if (this.requiresOtherClause && !hasOtherClause) {\n      return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n    }\n    return {\n      val: options,\n      err: null\n    };\n  };\n  Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n    var sign = 1;\n    var startingPosition = this.clonePosition();\n    if (this.bumpIf('+')) ;else if (this.bumpIf('-')) {\n      sign = -1;\n    }\n    var hasDigits = false;\n    var decimal = 0;\n    while (!this.isEOF()) {\n      var ch = this.char();\n      if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n        hasDigits = true;\n        decimal = decimal * 10 + (ch - 48);\n        this.bump();\n      } else {\n        break;\n      }\n    }\n    var location = createLocation(startingPosition, this.clonePosition());\n    if (!hasDigits) {\n      return this.error(expectNumberError, location);\n    }\n    decimal *= sign;\n    if (!isSafeInteger(decimal)) {\n      return this.error(invalidNumberError, location);\n    }\n    return {\n      val: decimal,\n      err: null\n    };\n  };\n  Parser.prototype.offset = function () {\n    return this.position.offset;\n  };\n  Parser.prototype.isEOF = function () {\n    return this.offset() === this.message.length;\n  };\n  Parser.prototype.clonePosition = function () {\n    // This is much faster than `Object.assign` or spread.\n    return {\n      offset: this.position.offset,\n      line: this.position.line,\n      column: this.position.column\n    };\n  };\n  /**\n   * Return the code point at the current position of the parser.\n   * Throws if the index is out of bound.\n   */\n  Parser.prototype.char = function () {\n    var offset = this.position.offset;\n    if (offset >= this.message.length) {\n      throw Error('out of bound');\n    }\n    var code = codePointAt(this.message, offset);\n    if (code === undefined) {\n      throw Error(\"Offset \".concat(offset, \" is at invalid UTF-16 code unit boundary\"));\n    }\n    return code;\n  };\n  Parser.prototype.error = function (kind, location) {\n    return {\n      val: null,\n      err: {\n        kind: kind,\n        message: this.message,\n        location: location\n      }\n    };\n  };\n  /** Bump the parser to the next UTF-16 code unit. */\n  Parser.prototype.bump = function () {\n    if (this.isEOF()) {\n      return;\n    }\n    var code = this.char();\n    if (code === 10 /* '\\n' */) {\n      this.position.line += 1;\n      this.position.column = 1;\n      this.position.offset += 1;\n    } else {\n      this.position.column += 1;\n      // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n      this.position.offset += code < 0x10000 ? 1 : 2;\n    }\n  };\n  /**\n   * If the substring starting at the current position of the parser has\n   * the given prefix, then bump the parser to the character immediately\n   * following the prefix and return true. Otherwise, don't bump the parser\n   * and return false.\n   */\n  Parser.prototype.bumpIf = function (prefix) {\n    if (startsWith(this.message, prefix, this.offset())) {\n      for (var i = 0; i < prefix.length; i++) {\n        this.bump();\n      }\n      return true;\n    }\n    return false;\n  };\n  /**\n   * Bump the parser until the pattern character is found and return `true`.\n   * Otherwise bump to the end of the file and return `false`.\n   */\n  Parser.prototype.bumpUntil = function (pattern) {\n    var currentOffset = this.offset();\n    var index = this.message.indexOf(pattern, currentOffset);\n    if (index >= 0) {\n      this.bumpTo(index);\n      return true;\n    } else {\n      this.bumpTo(this.message.length);\n      return false;\n    }\n  };\n  /**\n   * Bump the parser to the target offset.\n   * If target offset is beyond the end of the input, bump the parser to the end of the input.\n   */\n  Parser.prototype.bumpTo = function (targetOffset) {\n    if (this.offset() > targetOffset) {\n      throw Error(\"targetOffset \".concat(targetOffset, \" must be greater than or equal to the current offset \").concat(this.offset()));\n    }\n    targetOffset = Math.min(targetOffset, this.message.length);\n    while (true) {\n      var offset = this.offset();\n      if (offset === targetOffset) {\n        break;\n      }\n      if (offset > targetOffset) {\n        throw Error(\"targetOffset \".concat(targetOffset, \" is at invalid UTF-16 code unit boundary\"));\n      }\n      this.bump();\n      if (this.isEOF()) {\n        break;\n      }\n    }\n  };\n  /** advance the parser through all whitespace to the next non-whitespace code unit. */\n  Parser.prototype.bumpSpace = function () {\n    while (!this.isEOF() && _isWhiteSpace(this.char())) {\n      this.bump();\n    }\n  };\n  /**\n   * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n   * If the input has been exhausted, then this returns null.\n   */\n  Parser.prototype.peek = function () {\n    if (this.isEOF()) {\n      return null;\n    }\n    var code = this.char();\n    var offset = this.offset();\n    var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n    return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n  };\n  return Parser;\n}();\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n  return codepoint >= 97 && codepoint <= 122 || codepoint >= 65 && codepoint <= 90;\n}\nfunction _isAlphaOrSlash(codepoint) {\n  return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n  return c === 45 /* '-' */ || c === 46 /* '.' */ || c >= 48 && c <= 57 /* 0..9 */ || c === 95 /* '_' */ || c >= 97 && c <= 122 /** a..z */ || c >= 65 && c <= 90 /* A..Z */ || c == 0xb7 || c >= 0xc0 && c <= 0xd6 || c >= 0xd8 && c <= 0xf6 || c >= 0xf8 && c <= 0x37d || c >= 0x37f && c <= 0x1fff || c >= 0x200c && c <= 0x200d || c >= 0x203f && c <= 0x2040 || c >= 0x2070 && c <= 0x218f || c >= 0x2c00 && c <= 0x2fef || c >= 0x3001 && c <= 0xd7ff || c >= 0xf900 && c <= 0xfdcf || c >= 0xfdf0 && c <= 0xfffd || c >= 0x10000 && c <= 0xeffff;\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n  return c >= 0x0009 && c <= 0x000d || c === 0x0020 || c === 0x0085 || c >= 0x200e && c <= 0x200f || c === 0x2028 || c === 0x2029;\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n  return c >= 0x0021 && c <= 0x0023 || c === 0x0024 || c >= 0x0025 && c <= 0x0027 || c === 0x0028 || c === 0x0029 || c === 0x002a || c === 0x002b || c === 0x002c || c === 0x002d || c >= 0x002e && c <= 0x002f || c >= 0x003a && c <= 0x003b || c >= 0x003c && c <= 0x003e || c >= 0x003f && c <= 0x0040 || c === 0x005b || c === 0x005c || c === 0x005d || c === 0x005e || c === 0x0060 || c === 0x007b || c === 0x007c || c === 0x007d || c === 0x007e || c === 0x00a1 || c >= 0x00a2 && c <= 0x00a5 || c === 0x00a6 || c === 0x00a7 || c === 0x00a9 || c === 0x00ab || c === 0x00ac || c === 0x00ae || c === 0x00b0 || c === 0x00b1 || c === 0x00b6 || c === 0x00bb || c === 0x00bf || c === 0x00d7 || c === 0x00f7 || c >= 0x2010 && c <= 0x2015 || c >= 0x2016 && c <= 0x2017 || c === 0x2018 || c === 0x2019 || c === 0x201a || c >= 0x201b && c <= 0x201c || c === 0x201d || c === 0x201e || c === 0x201f || c >= 0x2020 && c <= 0x2027 || c >= 0x2030 && c <= 0x2038 || c === 0x2039 || c === 0x203a || c >= 0x203b && c <= 0x203e || c >= 0x2041 && c <= 0x2043 || c === 0x2044 || c === 0x2045 || c === 0x2046 || c >= 0x2047 && c <= 0x2051 || c === 0x2052 || c === 0x2053 || c >= 0x2055 && c <= 0x205e || c >= 0x2190 && c <= 0x2194 || c >= 0x2195 && c <= 0x2199 || c >= 0x219a && c <= 0x219b || c >= 0x219c && c <= 0x219f || c === 0x21a0 || c >= 0x21a1 && c <= 0x21a2 || c === 0x21a3 || c >= 0x21a4 && c <= 0x21a5 || c === 0x21a6 || c >= 0x21a7 && c <= 0x21ad || c === 0x21ae || c >= 0x21af && c <= 0x21cd || c >= 0x21ce && c <= 0x21cf || c >= 0x21d0 && c <= 0x21d1 || c === 0x21d2 || c === 0x21d3 || c === 0x21d4 || c >= 0x21d5 && c <= 0x21f3 || c >= 0x21f4 && c <= 0x22ff || c >= 0x2300 && c <= 0x2307 || c === 0x2308 || c === 0x2309 || c === 0x230a || c === 0x230b || c >= 0x230c && c <= 0x231f || c >= 0x2320 && c <= 0x2321 || c >= 0x2322 && c <= 0x2328 || c === 0x2329 || c === 0x232a || c >= 0x232b && c <= 0x237b || c === 0x237c || c >= 0x237d && c <= 0x239a || c >= 0x239b && c <= 0x23b3 || c >= 0x23b4 && c <= 0x23db || c >= 0x23dc && c <= 0x23e1 || c >= 0x23e2 && c <= 0x2426 || c >= 0x2427 && c <= 0x243f || c >= 0x2440 && c <= 0x244a || c >= 0x244b && c <= 0x245f || c >= 0x2500 && c <= 0x25b6 || c === 0x25b7 || c >= 0x25b8 && c <= 0x25c0 || c === 0x25c1 || c >= 0x25c2 && c <= 0x25f7 || c >= 0x25f8 && c <= 0x25ff || c >= 0x2600 && c <= 0x266e || c === 0x266f || c >= 0x2670 && c <= 0x2767 || c === 0x2768 || c === 0x2769 || c === 0x276a || c === 0x276b || c === 0x276c || c === 0x276d || c === 0x276e || c === 0x276f || c === 0x2770 || c === 0x2771 || c === 0x2772 || c === 0x2773 || c === 0x2774 || c === 0x2775 || c >= 0x2794 && c <= 0x27bf || c >= 0x27c0 && c <= 0x27c4 || c === 0x27c5 || c === 0x27c6 || c >= 0x27c7 && c <= 0x27e5 || c === 0x27e6 || c === 0x27e7 || c === 0x27e8 || c === 0x27e9 || c === 0x27ea || c === 0x27eb || c === 0x27ec || c === 0x27ed || c === 0x27ee || c === 0x27ef || c >= 0x27f0 && c <= 0x27ff || c >= 0x2800 && c <= 0x28ff || c >= 0x2900 && c <= 0x2982 || c === 0x2983 || c === 0x2984 || c === 0x2985 || c === 0x2986 || c === 0x2987 || c === 0x2988 || c === 0x2989 || c === 0x298a || c === 0x298b || c === 0x298c || c === 0x298d || c === 0x298e || c === 0x298f || c === 0x2990 || c === 0x2991 || c === 0x2992 || c === 0x2993 || c === 0x2994 || c === 0x2995 || c === 0x2996 || c === 0x2997 || c === 0x2998 || c >= 0x2999 && c <= 0x29d7 || c === 0x29d8 || c === 0x29d9 || c === 0x29da || c === 0x29db || c >= 0x29dc && c <= 0x29fb || c === 0x29fc || c === 0x29fd || c >= 0x29fe && c <= 0x2aff || c >= 0x2b00 && c <= 0x2b2f || c >= 0x2b30 && c <= 0x2b44 || c >= 0x2b45 && c <= 0x2b46 || c >= 0x2b47 && c <= 0x2b4c || c >= 0x2b4d && c <= 0x2b73 || c >= 0x2b74 && c <= 0x2b75 || c >= 0x2b76 && c <= 0x2b95 || c === 0x2b96 || c >= 0x2b97 && c <= 0x2bff || c >= 0x2e00 && c <= 0x2e01 || c === 0x2e02 || c === 0x2e03 || c === 0x2e04 || c === 0x2e05 || c >= 0x2e06 && c <= 0x2e08 || c === 0x2e09 || c === 0x2e0a || c === 0x2e0b || c === 0x2e0c || c === 0x2e0d || c >= 0x2e0e && c <= 0x2e16 || c === 0x2e17 || c >= 0x2e18 && c <= 0x2e19 || c === 0x2e1a || c === 0x2e1b || c === 0x2e1c || c === 0x2e1d || c >= 0x2e1e && c <= 0x2e1f || c === 0x2e20 || c === 0x2e21 || c === 0x2e22 || c === 0x2e23 || c === 0x2e24 || c === 0x2e25 || c === 0x2e26 || c === 0x2e27 || c === 0x2e28 || c === 0x2e29 || c >= 0x2e2a && c <= 0x2e2e || c === 0x2e2f || c >= 0x2e30 && c <= 0x2e39 || c >= 0x2e3a && c <= 0x2e3b || c >= 0x2e3c && c <= 0x2e3f || c === 0x2e40 || c === 0x2e41 || c === 0x2e42 || c >= 0x2e43 && c <= 0x2e4f || c >= 0x2e50 && c <= 0x2e51 || c === 0x2e52 || c >= 0x2e53 && c <= 0x2e7f || c >= 0x3001 && c <= 0x3003 || c === 0x3008 || c === 0x3009 || c === 0x300a || c === 0x300b || c === 0x300c || c === 0x300d || c === 0x300e || c === 0x300f || c === 0x3010 || c === 0x3011 || c >= 0x3012 && c <= 0x3013 || c === 0x3014 || c === 0x3015 || c === 0x3016 || c === 0x3017 || c === 0x3018 || c === 0x3019 || c === 0x301a || c === 0x301b || c === 0x301c || c === 0x301d || c >= 0x301e && c <= 0x301f || c === 0x3020 || c === 0x3030 || c === 0xfd3e || c === 0xfd3f || c >= 0xfe45 && c <= 0xfe46;\n}\nfunction pruneLocation(els) {\n  els.forEach(function (el) {\n    delete el.location;\n    if (isSelectElement(el) || isPluralElement(el)) {\n      for (var k in el.options) {\n        delete el.options[k].location;\n        pruneLocation(el.options[k].value);\n      }\n    } else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n      delete el.style.location;\n    } else if ((isDateElement(el) || isTimeElement(el)) && isDateTimeSkeleton(el.style)) {\n      delete el.style.location;\n    } else if (isTagElement(el)) {\n      pruneLocation(el.children);\n    }\n  });\n}\nfunction parse(message, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  opts = _assign({\n    shouldParseSkeletons: true,\n    requiresOtherClause: true\n  }, opts);\n  var result = new Parser(message, opts).parse();\n  if (result.err) {\n    var error = SyntaxError(ErrorKind[result.err.kind]);\n    // @ts-expect-error Assign to error object\n    error.location = result.err.location;\n    // @ts-expect-error Assign to error object\n    error.originalMessage = result.err.message;\n    throw error;\n  }\n  if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n    pruneLocation(result.val);\n  }\n  return result.val;\n}\n\n//\n// Main\n//\nfunction memoize(fn, options) {\n  var cache = options && options.cache ? options.cache : cacheDefault;\n  var serializer = options && options.serializer ? options.serializer : serializerDefault;\n  var strategy = options && options.strategy ? options.strategy : strategyDefault;\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean'; // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic(fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n  return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n  return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n  return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function serializerDefault() {\n  return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n  this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value;\n};\nvar cacheDefault = {\n  create: function create() {\n    // @ts-ignore\n    return new ObjectWithoutPrototypeCache();\n  }\n};\nvar strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n};\nvar ErrorCode;\n(function (ErrorCode) {\n  // When we have a placeholder but no value to format\n  ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n  // When value supplied is invalid\n  ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n  // When we need specific Intl API but it's not available\n  ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */function (_super) {\n  __extends(FormatError, _super);\n  function FormatError(msg, code, originalMessage) {\n    var _this = _super.call(this, msg) || this;\n    _this.code = code;\n    _this.originalMessage = originalMessage;\n    return _this;\n  }\n  FormatError.prototype.toString = function () {\n    return \"[formatjs Error: \".concat(this.code, \"] \").concat(this.message);\n  };\n  return FormatError;\n}(Error);\nvar InvalidValueError = /** @class */function (_super) {\n  __extends(InvalidValueError, _super);\n  function InvalidValueError(variableId, value, options, originalMessage) {\n    return _super.call(this, \"Invalid values for \\\"\".concat(variableId, \"\\\": \\\"\").concat(value, \"\\\". Options are \\\"\").concat(Object.keys(options).join('\", \"'), \"\\\"\"), ErrorCode.INVALID_VALUE, originalMessage) || this;\n  }\n  return InvalidValueError;\n}(FormatError);\nvar InvalidValueTypeError = /** @class */function (_super) {\n  __extends(InvalidValueTypeError, _super);\n  function InvalidValueTypeError(value, type, originalMessage) {\n    return _super.call(this, \"Value for \\\"\".concat(value, \"\\\" must be of type \").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;\n  }\n  return InvalidValueTypeError;\n}(FormatError);\nvar MissingValueError = /** @class */function (_super) {\n  __extends(MissingValueError, _super);\n  function MissingValueError(variableId, originalMessage) {\n    return _super.call(this, \"The intl string context variable \\\"\".concat(variableId, \"\\\" was not provided to the string \\\"\").concat(originalMessage, \"\\\"\"), ErrorCode.MISSING_VALUE, originalMessage) || this;\n  }\n  return MissingValueError;\n}(FormatError);\nvar PART_TYPE;\n(function (PART_TYPE) {\n  PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n  PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n  if (parts.length < 2) {\n    return parts;\n  }\n  return parts.reduce(function (all, part) {\n    var lastPart = all[all.length - 1];\n    if (!lastPart || lastPart.type !== PART_TYPE.literal || part.type !== PART_TYPE.literal) {\n      all.push(part);\n    } else {\n      lastPart.value += part.value;\n    }\n    return all;\n  }, []);\n}\nfunction isFormatXMLElementFn(el) {\n  return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nfunction formatToParts(els, locales, formatters, formats, values, currentPluralValue,\n// For debugging\noriginalMessage) {\n  // Hot path for straight simple msg translations\n  if (els.length === 1 && isLiteralElement(els[0])) {\n    return [{\n      type: PART_TYPE.literal,\n      value: els[0].value\n    }];\n  }\n  var result = [];\n  for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n    var el = els_1[_i];\n    // Exit early for string parts.\n    if (isLiteralElement(el)) {\n      result.push({\n        type: PART_TYPE.literal,\n        value: el.value\n      });\n      continue;\n    }\n    // TODO: should this part be literal type?\n    // Replace `#` in plural rules with the actual numeric value.\n    if (isPoundElement(el)) {\n      if (typeof currentPluralValue === 'number') {\n        result.push({\n          type: PART_TYPE.literal,\n          value: formatters.getNumberFormat(locales).format(currentPluralValue)\n        });\n      }\n      continue;\n    }\n    var varName = el.value;\n    // Enforce that all required values are provided by the caller.\n    if (!(values && varName in values)) {\n      throw new MissingValueError(varName, originalMessage);\n    }\n    var value = values[varName];\n    if (isArgumentElement(el)) {\n      if (!value || typeof value === 'string' || typeof value === 'number') {\n        value = typeof value === 'string' || typeof value === 'number' ? String(value) : '';\n      }\n      result.push({\n        type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n        value: value\n      });\n      continue;\n    }\n    // Recursively format plural and select parts' option — which can be a\n    // nested pattern structure. The choosing of the option to use is\n    // abstracted-by and delegated-to the part helper object.\n    if (isDateElement(el)) {\n      var style = typeof el.style === 'string' ? formats.date[el.style] : isDateTimeSkeleton(el.style) ? el.style.parsedOptions : undefined;\n      result.push({\n        type: PART_TYPE.literal,\n        value: formatters.getDateTimeFormat(locales, style).format(value)\n      });\n      continue;\n    }\n    if (isTimeElement(el)) {\n      var style = typeof el.style === 'string' ? formats.time[el.style] : isDateTimeSkeleton(el.style) ? el.style.parsedOptions : formats.time.medium;\n      result.push({\n        type: PART_TYPE.literal,\n        value: formatters.getDateTimeFormat(locales, style).format(value)\n      });\n      continue;\n    }\n    if (isNumberElement(el)) {\n      var style = typeof el.style === 'string' ? formats.number[el.style] : isNumberSkeleton(el.style) ? el.style.parsedOptions : undefined;\n      if (style && style.scale) {\n        value = value * (style.scale || 1);\n      }\n      result.push({\n        type: PART_TYPE.literal,\n        value: formatters.getNumberFormat(locales, style).format(value)\n      });\n      continue;\n    }\n    if (isTagElement(el)) {\n      var children = el.children,\n        value_1 = el.value;\n      var formatFn = values[value_1];\n      if (!isFormatXMLElementFn(formatFn)) {\n        throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n      }\n      var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n      var chunks = formatFn(parts.map(function (p) {\n        return p.value;\n      }));\n      if (!Array.isArray(chunks)) {\n        chunks = [chunks];\n      }\n      result.push.apply(result, chunks.map(function (c) {\n        return {\n          type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n          value: c\n        };\n      }));\n    }\n    if (isSelectElement(el)) {\n      var opt = el.options[value] || el.options.other;\n      if (!opt) {\n        throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n      }\n      result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n      continue;\n    }\n    if (isPluralElement(el)) {\n      var opt = el.options[\"=\".concat(value)];\n      if (!opt) {\n        if (!Intl.PluralRules) {\n          throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n        }\n        var rule = formatters.getPluralRules(locales, {\n          type: el.pluralType\n        }).select(value - (el.offset || 0));\n        opt = el.options[rule] || el.options.other;\n      }\n      if (!opt) {\n        throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n      }\n      result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n      continue;\n    }\n  }\n  return mergeLiteral(result);\n}\n\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n  if (!c2) {\n    return c1;\n  }\n  return _assign(_assign(_assign({}, c1 || {}), c2 || {}), Object.keys(c1).reduce(function (all, k) {\n    all[k] = _assign(_assign({}, c1[k]), c2[k] || {});\n    return all;\n  }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n  if (!configs) {\n    return defaultConfig;\n  }\n  return Object.keys(defaultConfig).reduce(function (all, k) {\n    all[k] = mergeConfig(defaultConfig[k], configs[k]);\n    return all;\n  }, _assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n  return {\n    create: function create() {\n      return {\n        get: function get(key) {\n          return store[key];\n        },\n        set: function set(key, value) {\n          store[key] = value;\n        }\n      };\n    }\n  };\n}\nfunction createDefaultFormatters(cache) {\n  if (cache === void 0) {\n    cache = {\n      number: {},\n      dateTime: {},\n      pluralRules: {}\n    };\n  }\n  return {\n    getNumberFormat: memoize(function () {\n      var _a;\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n    }, {\n      cache: createFastMemoizeCache(cache.number),\n      strategy: strategies.variadic\n    }),\n    getDateTimeFormat: memoize(function () {\n      var _a;\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n    }, {\n      cache: createFastMemoizeCache(cache.dateTime),\n      strategy: strategies.variadic\n    }),\n    getPluralRules: memoize(function () {\n      var _a;\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n    }, {\n      cache: createFastMemoizeCache(cache.pluralRules),\n      strategy: strategies.variadic\n    })\n  };\n}\nvar IntlMessageFormat$1 = /** @class */function () {\n  function IntlMessageFormat(message, locales, overrideFormats, opts) {\n    var _this = this;\n    if (locales === void 0) {\n      locales = IntlMessageFormat.defaultLocale;\n    }\n    this.formatterCache = {\n      number: {},\n      dateTime: {},\n      pluralRules: {}\n    };\n    this.format = function (values) {\n      var parts = _this.formatToParts(values);\n      // Hot path for straight simple msg translations\n      if (parts.length === 1) {\n        return parts[0].value;\n      }\n      var result = parts.reduce(function (all, part) {\n        if (!all.length || part.type !== PART_TYPE.literal || typeof all[all.length - 1] !== 'string') {\n          all.push(part.value);\n        } else {\n          all[all.length - 1] += part.value;\n        }\n        return all;\n      }, []);\n      if (result.length <= 1) {\n        return result[0] || '';\n      }\n      return result;\n    };\n    this.formatToParts = function (values) {\n      return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n    };\n    this.resolvedOptions = function () {\n      return {\n        locale: _this.resolvedLocale.toString()\n      };\n    };\n    this.getAst = function () {\n      return _this.ast;\n    };\n    // Defined first because it's used to build the format pattern.\n    this.locales = locales;\n    this.resolvedLocale = IntlMessageFormat.resolveLocale(locales);\n    if (typeof message === 'string') {\n      this.message = message;\n      if (!IntlMessageFormat.__parse) {\n        throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n      }\n      // Parse string messages into an AST.\n      this.ast = IntlMessageFormat.__parse(message, {\n        ignoreTag: opts === null || opts === void 0 ? void 0 : opts.ignoreTag,\n        locale: this.resolvedLocale\n      });\n    } else {\n      this.ast = message;\n    }\n    if (!Array.isArray(this.ast)) {\n      throw new TypeError('A message must be provided as a String or AST.');\n    }\n    // Creates a new object with the specified `formats` merged with the default\n    // formats.\n    this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n    this.formatters = opts && opts.formatters || createDefaultFormatters(this.formatterCache);\n  }\n  Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n    get: function get() {\n      if (!IntlMessageFormat.memoizedDefaultLocale) {\n        IntlMessageFormat.memoizedDefaultLocale = new Intl.NumberFormat().resolvedOptions().locale;\n      }\n      return IntlMessageFormat.memoizedDefaultLocale;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  IntlMessageFormat.memoizedDefaultLocale = null;\n  IntlMessageFormat.resolveLocale = function (locales) {\n    var supportedLocales = Intl.NumberFormat.supportedLocalesOf(locales);\n    if (supportedLocales.length > 0) {\n      return new Intl.Locale(supportedLocales[0]);\n    }\n    return new Intl.Locale(typeof locales === 'string' ? locales : locales[0]);\n  };\n  IntlMessageFormat.__parse = parse;\n  // Default format options used as the prototype of the `formats` provided to the\n  // constructor. These are used when constructing the internal Intl.NumberFormat\n  // and Intl.DateTimeFormat instances.\n  IntlMessageFormat.formats = {\n    number: {\n      integer: {\n        maximumFractionDigits: 0\n      },\n      currency: {\n        style: 'currency'\n      },\n      percent: {\n        style: 'percent'\n      }\n    },\n    date: {\n      short: {\n        month: 'numeric',\n        day: 'numeric',\n        year: '2-digit'\n      },\n      medium: {\n        month: 'short',\n        day: 'numeric',\n        year: 'numeric'\n      },\n      long: {\n        month: 'long',\n        day: 'numeric',\n        year: 'numeric'\n      },\n      full: {\n        weekday: 'long',\n        month: 'long',\n        day: 'numeric',\n        year: 'numeric'\n      }\n    },\n    time: {\n      short: {\n        hour: 'numeric',\n        minute: 'numeric'\n      },\n      medium: {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric'\n      },\n      long: {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        timeZoneName: 'short'\n      },\n      full: {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        timeZoneName: 'short'\n      }\n    }\n  };\n  return IntlMessageFormat;\n}();\n\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nvar IntlMessageFormat = IntlMessageFormat$1;\nvar _a;\nvar IcuFormatter = (_a = /** @class */function () {\n  function class_1() {\n    this.locales = new Map();\n  }\n  class_1.prototype.isLocaleValid = function (locale) {\n    try {\n      return Boolean(Intl.NumberFormat.supportedLocalesOf(locale).length);\n    } catch (_a) {\n      return false;\n    }\n  };\n  class_1.prototype.getLocale = function (language) {\n    if (!this.locales.get(language)) {\n      var localeCandidate = String(language).replace(/[^a-zA-Z]/g, '-');\n      while (!this.isLocaleValid(localeCandidate)) {\n        localeCandidate = localeCandidate.split('-').slice(0, -1).join('-') || 'en';\n      }\n      this.locales.set(language, localeCandidate);\n    }\n    return this.locales.get(language);\n  };\n  class_1.prototype.format = function (_a) {\n    var translation = _a.translation,\n      language = _a.language,\n      params = _a.params;\n    var ignoreTag = !Object.values(params).find(function (p) {\n      return typeof p === 'function';\n    });\n    var locale = this.getLocale(language);\n    return new IntlMessageFormat(translation, locale, undefined, {\n      ignoreTag: ignoreTag\n    }).format(params);\n  };\n  return class_1;\n}(), _a.type = 'formatter', _a);\nexport { DEVTOOLS_ID, IcuFormatter, ModifierKey, NodeHelper, RESTRICTED_ASCENDANT_ATTRIBUTE, TOLGEE_ATTRIBUTE_NAME, TOLGEE_HIGHLIGHTER_CLASS, TOLGEE_TARGET_ATTRIBUTE, TOLGEE_WRAPPED_ONLY_DATA_ATTRIBUTE, TextHelper, Tolgee, TolgeeConfig, TranslationData };","map":{"version":3,"sources":["../../../node_modules/.pnpm/@rollup+plugin-typescript@8.3.4_5zsqiitiqqdgwm4iemtywlnhku/node_modules/tslib/tslib.es6.js","../src/Properties.ts","../src/services/Subscription.ts","../src/services/EventEmitter.ts","../src/services/EventService.ts","../src/Errors/ApiHttpError.ts","../src/services/ApiHttpService.ts","../src/types/DTOs.ts","../src/services/TranslationService.ts","../src/services/TextService.ts","../src/Constants/ModifierKey.ts","../src/Constants/Global.ts","../src/highlighter/MouseEventHandler.ts","../src/highlighter/TranslationHighlighter.ts","../src/helpers/NodeHelper.ts","../src/services/ElementRegistrar.ts","../src/Observer.ts","../src/services/CoreService.ts","../src/TolgeeConfig.ts","../src/helpers/sleep.ts","../src/toolsManager/PluginManager.ts","../src/toolsManager/Messages.ts","../src/highlighter/HighlightFunctionsInitializer.ts","../src/services/ScreenshotService.ts","../src/services/ModuleService.ts","../src/wrappers/NodeHandler.ts","../src/wrappers/text/AttributeHandler.ts","../src/helpers/TextHelper.ts","../src/wrappers/text/Coder.ts","../src/wrappers/text/CoreHandler.ts","../src/wrappers/text/ContentHandler.ts","../src/wrappers/WrappedHandler.ts","../src/wrappers/text/TextWrapper.ts","../src/helpers/encoderPolyfill.ts","../src/helpers/secret.ts","../src/wrappers/invisible/AttributeHandler.ts","../src/wrappers/invisible/ValueMemory.ts","../src/wrappers/invisible/Coder.ts","../src/wrappers/invisible/CoreHandler.ts","../src/wrappers/invisible/ContentHandler.ts","../src/wrappers/invisible/InvisibleWrapper.ts","../src/services/DependencyService.ts","../src/Tolgee.ts","../../../node_modules/@formatjs/icu-messageformat-parser/lib/error.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/types.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js","../../../node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js","../../../node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js","../../../node_modules/@formatjs/icu-skeleton-parser/lib/number.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/time-data.generated.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/date-time-pattern-generator.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/parser.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/index.js","../../../node_modules/@formatjs/fast-memoize/lib/index.js","../node_modules/intl-messageformat/lib/src/error.js","../node_modules/intl-messageformat/lib/src/formatters.js","../node_modules/intl-messageformat/lib/src/core.js","../node_modules/intl-messageformat/lib/index.js","../src/modules/IcuFormatter.ts"],"names":["Coder","ContentHandler","AttributeHandler","CoreHandler","_a","IntlMessageFormat"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,cAAa,GAAG,uBAAS,CAAC,EAAE,CAAC,EAAE;EAC/B,cAAa,GAAG,MAAM,CAAC,cAAc,IAChC;IAAE,SAAS,EAAE;EAAE,CAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE;IAAE,CAAC,CAAC,SAAS,GAAG,CAAC;EAAC,CAAG,IAC5E,UAAU,CAAC,EAAE,CAAC,EAAE;IAAE,KAAK,IAAI,CAAC,IAAI,CAAC;MAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAAC;EAAA,CAAE;EACrG,OAAO,cAAa,CAAC,CAAC,EAAE,CAAC,CAAC;AAC9B,CAAC;AAEM,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI,EACrC,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC;EAC7F,cAAa,CAAC,CAAC,EAAE,CAAC,CAAC;EACnB,SAAS,EAAE,GAAG;IAAE,IAAI,CAAC,WAAW,GAAG,CAAC;EAAC;EACrC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC;AACxF;AAEO,IAAI,OAAQ,GAAG,oBAAW;EAC7B,OAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAE;IAC7C,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;MACjD,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;MAChB,KAAK,IAAI,CAAC,IAAI,CAAC;QAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAAC;IACzF;IACQ,OAAO,CAAC;EAChB,CAAA;EACI,OAAO,OAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC;AAC1C,CAAA;AA6BO,SAAS,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;EACzD,SAAS,KAAK,CAAC,KAAK,EAAE;IAAE,OAAO,KAAK,YAAY,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE;MAAE,OAAO,CAAC,KAAK,CAAC;IAAC,CAAE,CAAC;EAAC;EAC1G,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;IACvD,SAAS,SAAS,CAAC,KAAK,EAAE;MAAE,IAAI;QAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;MAAC,CAAE,CAAC,OAAO,CAAC,EAAE;QAAE,MAAM,CAAC,CAAC,CAAC;MAAC;IAAE;IACzF,SAAS,QAAQ,CAAC,KAAK,EAAE;MAAE,IAAI;QAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC;MAAC,CAAE,CAAC,OAAO,CAAC,EAAE;QAAE,MAAM,CAAC,CAAC,CAAC;MAAC;IAAE;IAC5F,SAAS,IAAI,CAAC,MAAM,EAAE;MAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC;IAAC;IAC5G,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC;EAC7E,CAAK,CAAC;AACN;AAEO,SAAS,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE;EACvC,IAAI,CAAC,GAAG;MAAE,KAAK,EAAE,CAAC;MAAE,IAAI,EAAE,gBAAW;QAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;QAAE,OAAO,CAAC,CAAC,CAAC,CAAC;MAAC,CAAE;MAAE,IAAI,EAAE,EAAE;MAAE,GAAG,EAAE;IAAE,CAAE;IAAE,CAAC;IAAE,CAAC;IAAE,CAAC;IAAE,CAAC;EAChH,OAAO,CAAC,GAAG;IAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;IAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;IAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;EAAC,CAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,YAAW;IAAE,OAAO,IAAI;EAAC,CAAE,CAAC,EAAE,CAAC;EACxJ,SAAS,IAAI,CAAC,CAAC,EAAE;IAAE,OAAO,UAAU,CAAC,EAAE;MAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAAC,CAAE;EAAC;EAChE,SAAS,IAAI,CAAC,EAAE,EAAE;IACd,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC;IAC7D,OAAO,CAAC;MAAE,IAAI;QACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC;QAC5J,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;QACvC,QAAQ,EAAE,CAAC,CAAC,CAAC;UACT,KAAK,CAAC;UAAE,KAAK,CAAC;YAAE,CAAC,GAAG,EAAE;YAAE;UACxB,KAAK,CAAC;YAAE,CAAC,CAAC,KAAK,EAAE;YAAE,OAAO;cAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;cAAE,IAAI,EAAE;YAAK,CAAE;UACvD,KAAK,CAAC;YAAE,CAAC,CAAC,KAAK,EAAE;YAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAAE,EAAE,GAAG,CAAC,CAAC,CAAC;YAAE;UACxC,KAAK,CAAC;YAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE;YAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YAAE;UACxC;YACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;cAAE,CAAC,GAAG,CAAC;cAAE;YAAS;YAC1G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAE,CAAC,EAAE;cAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;cAAE;YAAM;YACpF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;cAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;cAAE,CAAC,GAAG,EAAE;cAAE;YAAM;YACnE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;cAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;cAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC;cAAE;YAAM;YACjE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE;YACrB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YAAE;QAAS;QAE/B,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;MACtC,CAAS,CAAC,OAAO,CAAC,EAAE;QAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QAAE,CAAC,GAAG,CAAC;MAAC,CAAE,SAAS;QAAE,CAAC,GAAG,CAAC,GAAG,CAAC;MAAC;IAAE;IAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;IAAE,OAAO;MAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;MAAE,IAAI,EAAE;IAAI,CAAE;EACxF;AACA;AAkBO,SAAS,QAAQ,CAAC,CAAC,EAAE;EACxB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,QAAQ;IAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAAE,CAAC,GAAG,CAAC;EAC7E,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;EACvB,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ,EAAE,OAAO;IAC1C,IAAI,EAAE,gBAAY;MACd,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC;MAClC,OAAO;QAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;QAAE,IAAI,EAAE,CAAC;MAAC,CAAE;IACnD;EACA,CAAK;EACD,MAAM,IAAI,SAAS,CAAC,CAAC,GAAG,yBAAyB,GAAG,iCAAiC,CAAC;AAC1F;AAEO,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;EACzB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;EAC1D,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC;EAChB,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;IAAE,CAAC;IAAE,EAAE,GAAG,EAAE;IAAE,CAAC;EAChC,IAAI;IACA,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI;MAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IAAC;EACnF,CAAK,CACD,OAAO,KAAK,EAAE;IAAE,CAAC,GAAG;MAAE,KAAK,EAAE;IAAK,CAAE;EAAC,CAAE,SAC/B;IACJ,IAAI;MACA,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5D,CAAS,SACO;MAAE,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC,KAAK;IAAC;EACvC;EACI,OAAO,EAAE;AACb;AAkBO,SAAS,aAAa,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;EAC1C,IAAI,IAAI,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IACjF,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,CAAC,EAAE;MACpB,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;MACpD,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IAC3B;EACA;EACI,OAAO,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5D;AC7KA,IAAM,qCAAqC,GAAG,6BAA6B;AAC3E,IAAM,kCAAkC,GAAG,0BAA0B;AAErE,IAAA,UAAA,GAAA,aAAA,YAAA;EAAA,SAAA,UAAA,GAAA,CAyGC;EAjGC,MAAA,CAAA,cAAA,CAAI,UAAe,CAAA,SAAA,EAAA,iBAAA,EAAA;IAAnB,GAAA,EAAA,eAAA;;MACE,IAAI,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,aAAa,EAAE;QAC9B,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa;MACjC;MAED,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;QAC1B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,EAAE;MAClD;MAED,OAAO,IAAI,CAAC,gBAAgB;KAC7B;IAED,GAAA,EAAA,aAAoB,QAAgB,EAAA;;MAClC,IAAI,CAAC,QAAQ,EAAE;QACb,MAAM,IAAI,KAAK,CAAC,iCAAA,CAAA,MAAA,CAAkC,QAAQ,CAAE,CAAC;MAC9D;MACD,IAAI,CAAC,gBAAgB,GAAG,QAAQ;MAEhC,IACE,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,mBAAmB,KAChC,OAAO,YAAY,KAAK,WAAW,EACnC;QACA,YAAY,CAAC,OAAO,CAAC,kCAAkC,EAAE,QAAQ,CAAC;MACnE;KACF;;;EAdA,CAAA,CAAA;EAgBD,MAAA,CAAA,cAAA,CAAI,UAAkB,CAAA,SAAA,EAAA,oBAAA,EAAA;IAAtB,GAAA,EAAA,eAAA;MACE,OAAO,IAAI,GAAG,CACZ,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,qCAAqC,CAAC,CAAC,CACxE;KACF;IAED,GAAA,EAAA,aAAuB,SAAsB,EAAA;MAC3C,YAAY,CAAC,OAAO,CAClB,qCAAqC,EACrC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CACtC;KACF;;;EAPA,CAAA,CAAA;EASO,UAAA,CAAA,SAAA,CAAA,kBAAkB,GAA1B,YAAA;IACE,IAAI,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE;MACnC,IAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,EAAE;MAC/C,IAAI,cAAc,EAAE;QAClB,OAAO,cAAc;MACtB;IACF;IAED,IAAI,IAAI,CAAC,MAAM,CAAC,uBAAuB,EAAE;MACvC,IAAM,gBAAgB,GAAG,IAAI,CAAC,sBAAsB,EAAE;MACtD,IAAI,gBAAgB,EAAE;QACpB,OAAO,gBAAgB;MACxB;IACF;IAED,OAAO,IAAI,CAAC,MAAM,CAAC,eAAe;GACnC;EAEO,UAAA,CAAA,SAAA,CAAA,iBAAiB,GAAzB,YAAA;IACE,IAAI,OAAO,YAAY,KAAK,WAAW,EAAE;MACvC,IAAM,cAAc,GAAG,YAAY,CAAC,OAAO,CACzC,kCAAkC,CACnC;MAED,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,EAAE;QACnC,OAAO,cAAc;MACtB;MAED,IAAM,wBAAwB,GAC5B,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;MAE7D,IAAI,wBAAwB,EAAE;QAC5B,OAAO,cAAc;MACtB;IACF;GACF;EAEO,UAAA,CAAA,SAAA,CAAA,sBAAsB,GAA9B,YAAA;IACE,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,IAAI,CAAC,MAAM,CAAC,kBAAkB,EAAE;MACnE,IAAM,WAAS,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ;MAC3C,IAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CACpD,UAAC,CAAC,EAAA;QAAK,OAAA,CAAC,KAAK,WAAN;MAAA,CAAe,CACvB;MACD,IAAI,UAAU,EAAE;QACd,OAAO,UAAU;MAClB;MAED,IAAM,eAAa,GAAG,SAAhB,eAAa,CAAI,OAAO,EAAA;QAAK,OAAA,OAAO,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC;MAAA,CAAA;MAEzE,IAAM,oBAAkB,GAAG,eAAa,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;MACnE,IAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CACxD,UAAC,CAAC,EAAK;QAAA,OAAA,eAAa,CAAC,CAAC,CAAC,KAAK,oBAAkB;MAAA,CAAA,CAC/C;MACD,IAAI,cAAc,EAAE;QAClB,OAAO,cAAc;MACtB;IACF;GACF;EACH,OAAC,UAAA;AAAD,CAAC,EAAA;AC/GD,IAAA,YAAA,GAAA,aAAA,YAAA;EACE,SAAA,YAAA,CAAoB,aAAyB,EAAA;IAAzB,IAAa,CAAA,aAAA,GAAb,aAAa;EAAgB;EAEjD,YAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;IACE,IAAI,CAAC,aAAa,EAAE;GACrB;EACH,OAAC,YAAA;AAAD,CAAC,EAAA;ACED,IAAA,gBAAA,GAAA,aAAA,YAAA;EAAA,SAAA,gBAAA,GAAA;IACU,IAAS,CAAA,SAAA,GAAG,CAAC;IACb,IAAA,CAAA,cAAc,GAAiC,IAAI,GAAG,EAG3D;EAsCJ;EApCC,MAAA,CAAA,cAAA,CAAY,gBAAa,CAAA,SAAA,EAAA,eAAA,EAAA;IAAzB,GAAA,EAAA,eAAA;MACE,OAAO,IAAI,CAAC,cAAc;KAC3B;;;EAAA,CAAA,CAAA;EAEM,gBAAI,CAAA,SAAA,CAAA,IAAA,GAAX,UAAY,IAAQ,EAAA;;IAClB,IAAM,cAAc,GAAG,EAAE;;MACzB,KAAuB,IAAA,EAAA,GAAA,QAAA,CAAA,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAE,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;QAA/C,IAAM,QAAQ,GAAA,EAAA,CAAA,KAAA;QACjB,IAAM,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC/B,IAAI,QAAO,QAAQ,KAAA,IAAA,IAAR,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAR,QAAQ,CAAG,MAAM,CAAC,CAAA,KAAK,UAAU,EAAE;UAC5C,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC;QAC9B;MACF;;;;;;;;;;;;IAED,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE;MAC/B;IACD;IAED,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAA;MACzB,OAAA,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,YAAA;QAAM,OAAA,OAAO,EAAE;MAAA,CAAA,CAAC;IAAjD,CAAiD,CAClD;GACF;EAEM,gBAAS,CAAA,SAAA,CAAA,SAAA,GAAhB,UAAiB,QAAyB,EAAA;IAA1C,IAKC,KAAA,GAAA,IAAA;IAJC,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,EAAE;IAC9B,IAAM,YAAY,GAAG,IAAI,YAAY,CAAC,YAAA;MAAM,OAAA,KAAI,CAAC,WAAW,CAAC,KAAK,CAAtB;IAAA,CAAuB,CAAC;IACpE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC;IACvC,OAAO,YAAY;GACpB;EAEO,gBAAW,CAAA,SAAA,CAAA,WAAA,GAAnB,UAAoB,EAAU,EAAA;IAC5B,IAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,CAAC;IACjD,IAAI,CAAC,UAAU,EAAE;;MAEf,OAAO,CAAC,IAAI,CAAC,oCAAoC,CAAC;IACnD;GACF;EACH,OAAC,gBAAA;AAAD,CAAC,EAAA;AC/CD,IAAA,YAAA,GAAA,aAAA,YAAA;EAAA,SAAA,YAAA,GAAA;IACkB,IAAA,CAAA,mBAAmB,GACjC,IAAI,gBAAgB,EAAmB;IACzB,IAAA,CAAA,gBAAgB,GAC9B,IAAI,gBAAgB,EAAU;IAChB,IAAA,CAAA,eAAe,GAC7B,IAAI,gBAAgB,EAAU;IAChB,IAAA,CAAA,kBAAkB,GAChC,IAAI,gBAAgB,EAAmB;EAC1C;EAAD,OAAC,YAAA;AAAD,CAAC,EAAA;ACbD,IAAA,YAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAAkC,SAAK,CAAA,YAAA,EAAA,MAAA,CAAA;EACrC,SAAmB,YAAA,CAAA,QAAkB,EAAS,IAAa,EAAA;IAA3D,IACE,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,gBAAgB,CAAC,IAIxB,IAAA;IALkB,KAAQ,CAAA,QAAA,GAAR,QAAQ;IAAmB,KAAI,CAAA,IAAA,GAAJ,IAAI;;IAIhD,MAAM,CAAC,cAAc,CAAC,KAAI,EAAE,YAAY,CAAC,SAAS,CAAC;;EACpD;EACH,OAAC,YAAA;AAAD,CAPA,CAAkC,KAAK,CAOtC;ACQD,IAAA,cAAA,GAAA,aAAA,YAAA;EACE,SAAA,cAAA,CAAoB,UAAsB,EAAA;IAAtB,IAAU,CAAA,UAAA,GAAV,UAAU;EAAgB;EAEzB,cAAY,CAAA,YAAA,GAAjC,UAAkC,QAAkB,EAAA;;;;;;YAC9C,IAAA,EAAA,QAAQ,CAAC,MAAM,IAAI,GAAG,CAAA,EAAtB,OAAsB,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YAClB,KAAK,GAAG,IAAI,YAAY,CAAC,QAAQ,CAAC;;;;YAEzB,OAAA,CAAA,CAAA,CAAA,WAAM,QAAQ,CAAC,IAAI,EAAE,CAAA;;YAA5B,IAAI,GAAG,EAAqB,CAAA,IAAA,EAAA;YAClC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;;;;;YAGtB,OAAO,CAAC,IAAI,CAAC,mDAAmD,CAAC;;UAEnE,KAAA,CAAA;YAAA,MAAM,KAAK;UAEb,KAAA,CAAA;YAAA,OAAA,CAAA,CAAA,CAAA,YAAO,QAAQ,CAAC;QAAA;;;EACjB,CAAA;EAEK,cAAA,CAAA,SAAA,CAAA,KAAK,GAAX,YAAA;IAAY,IAAoC,IAAA,GAAA,EAAA;SAApC,IAAoC,EAAA,GAAA,CAAA,EAApC,EAAoC,GAAA,SAAA,CAAA,MAAA,EAApC,EAAoC,EAAA,EAAA;MAApC,IAAoC,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;;;QAC9C,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;UAC/B,OAAA,CAAA,CAAA,CAAA,YAAO,KAAK,CAAM,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,IAAI,CAAC,CAAC,CAAC,CAAE,EAAA;YAAA,GAAG,EAAE,IAAI,CAAC,MAAM,CAAE,IAAI,CAAC,CAAC,CAAS,CAAC,GAAG;UAAC,CAAA,CAAA,CAAG,CAAC,IAAI,CACvE,UAAC,CAAC,EAAK;YAAA,OAAA,cAAc,CAAC,YAAY,CAAC,CAAC,CAA7B;UAAA,CAA8B,CACtC,CAAC;QACH;QACK,EAAA,GAAA,MAAA,CAAiB,IAAI,CAAA,EAApB,GAAG,GAAA,EAAA,CAAA,CAAA,CAAA,EAAK,IAAI,GAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;QACnB,OAAA,CAAA,CAAA,CAAA,YAAO,KAAK,CAAA,KAAA,CAAA,KAAA,CAAA,EAAA,aAAA,CAAA,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA,EAAA,MAAA,CAAK,IAAI,CAAA,EAAA,KAAA,CAAA,CAAA,CAAE,IAAI,CAAC,UAAC,CAAC,EAAA;UAC7C,OAAA,cAAc,CAAC,YAAY,CAAC,CAAC,CAAC;QAA9B,CAA8B,CAC/B,CAAC;;;EACH,CAAA;EAEK,cAAA,CAAA,SAAA,CAAA,SAAS,GAAf,YAAA;IAAgB,IAAoC,IAAA,GAAA,EAAA;SAApC,IAAoC,EAAA,GAAA,CAAA,EAApC,EAAoC,GAAA,SAAA,CAAA,MAAA,EAApC,EAAoC,EAAA,EAAA;MAApC,IAAoC,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;;QAClD,OAAO,CAAA,CAAA,CAAA,YAAA,IAAI,CAAC,KAAK,CAAV,KAAA,CAAA,IAAI,EAAU,aAAA,CAAA,EAAA,EAAA,MAAA,CAAA,IAAI,CAAE,EAAA,KAAA,CAAA,CAAA,CAAA,IAAI,CAAC,UAAC,GAAG,EAAA;UAClC,OAAO,GAAG,CAAC,IAAI,EAAE;QACnB,CAAC,CAAC,CAAC;;;EACJ,CAAA;EAEK,cAAA,CAAA,SAAA,CAAA,IAAI,GAAV,UACE,GAAG,EACH,IAAI,EACJ,IAAgC,EAAA;IAAhC,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;MAAA,IAAgC,GAAA,CAAA,CAAA;IAAA;IAChC,IAAuC,IAAA,GAAA,EAAA;SAAvC,IAAuC,EAAA,GAAA,CAAA,EAAvC,EAAuC,GAAA,SAAA,CAAA,MAAA,EAAvC,EAAuC,EAAA,EAAA;MAAvC,IAAuC,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;;QAEvC,OAAO,CAAA,CAAA,CAAA,YAAA,IAAI,CAAC,KAAK,CAAA,KAAA,CAAV,IAAI,EACT,aAAA,CAAA,CAAA,GAAG,EAED,OAAA,CAAA;UAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;UAC1B,MAAM,EAAE,MAAM;UACd,OAAO,EAAE;YACP,cAAc,EAAE;UACjB;QAAA,CACE,EAAA,IAAI,CAEN,CAAA,EAAA,MAAA,CAAA,IAAI,CACP,EAAA,KAAA,CAAA,CAAA,CAAA;;;EACH,CAAA;EAEK,cAAA,CAAA,SAAA,CAAA,QAAQ,GAAd,UACE,GAAG,EACH,IAAI,EACJ,IAAgC,EAAA;IAAhC,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;MAAA,IAAgC,GAAA,CAAA,CAAA;IAAA;IAChC,IAAuC,IAAA,GAAA,EAAA;SAAvC,IAAuC,EAAA,GAAA,CAAA,EAAvC,EAAuC,GAAA,SAAA,CAAA,MAAA,EAAvC,EAAuC,EAAA,EAAA;MAAvC,IAAuC,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;;QAEvC,OAAO,CAAA,CAAA,CAAA,YAAA,IAAI,CAAC,IAAI,CAAT,KAAA,CAAA,IAAI,EAAM,aAAA,CAAA,CAAA,GAAG,EAAE,IAAI,EAAE,IAAI,CAAK,EAAA,MAAA,CAAA,IAAI,CAAE,EAAA,KAAA,CAAA,CAAA,CAAA,IAAI,CAAC,UAAC,GAAG,EAAA;UAAK,OAAA,GAAG,CAAC,IAAI,EAAE;QAAA,CAAA,CAAC,CAAC;;;EACtE,CAAA;EAEO,cAAM,CAAA,SAAA,CAAA,MAAA,GAAd,UAAe,IAAY,EAAA;IACzB,IAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG;IACxD,OAAO,EAAA,CAAA,MAAA,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,EAAI,GAAA,CAAA,CAAA,MAAA,CAAA,IAAI,CAAA,CAAA,MAAA,CAAG,cAAc,EAAA,KAAA,CAAA,CAAA,MAAA,CAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAE;GACtG;EACH,OAAC,cAAA;AAAD,CAAC,EAAA;AClFD,IAAA,eAAA,GAAA,aAAA,YAAA;EACE,SAAA,eAAA,CACS,GAAW,EACX,YAAuC,EACvC,EAAW,EAAA;IAFX,IAAG,CAAA,GAAA,GAAH,GAAG;IACH,IAAY,CAAA,YAAA,GAAZ,YAAY;IACZ,IAAE,CAAA,EAAA,GAAF,EAAE;EACP;EACN,OAAC,eAAA;AAAD,CAAC,EAAA;ACmBD,IAAA,kBAAA,GAAA,aAAA,YAAA;EAWE,SAAA,kBAAA,CACU,UAAsB,EACtB,WAAwB,EACxB,cAA8B,EAC9B,YAA0B,EAAA;IAJpC,IAKI,KAAA,GAAA,IAAA;IAJM,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAW,CAAA,WAAA,GAAX,WAAW;IACX,IAAc,CAAA,cAAA,GAAd,cAAc;IACd,IAAY,CAAA,YAAA,GAAZ,YAAY;IAdd,IAAA,CAAA,iBAAiB,GAA8B,IAAI,GAAG,EAG3D;IACK,IAAa,CAAA,aAAA,GAAoC,CAAA,CAAE;;;IAInD,IAAU,CAAA,UAAA,GAA+B,CAAA,CAAE;IAsCnD,IAAwB,CAAA,wBAAA,GAAG,UAAO,IAAS,EAAA;MAAA,OAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,YAAA;;;;;;cACnC,MAAM,GAA2B,CAAA,CAAE;cACzC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,UAAC,EAAmB,EAAA;gBAAnB,IAAA,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAmB;kBAAlB,IAAI,GAAA,EAAA,CAAA,CAAA,CAAA;kBAAE,WAAW,GAAA,EAAA,CAAA,CAAA,CAAA;gBAC3D,IAAM,UAAU,GAAG,KAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC;gBACnD,IAAI,UAAU,EAAE;kBACd,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,WAAW,CAAC,IAAI;gBACzC;gBACD,MAAM,CAAC,IAAI,CAAC,GAAG,WAAW,CAAC,IAAI;cACjC,CAAC,CAAC;cACF,OACE,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,YAAY,CAAC,mBACnB,CAAC,IAAI,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAA;;cAFvD,EAAA,CAAA,IAAA,EAEuD;;;;;KACxD;;IA8JD,IAAA,CAAA,oBAAoB,GAAG,UACrB,GAAW,EACX,SAAmE,EAAA;MAAnE,IAAA,SAAA,KAAA,KAAA,CAAA,EAAA;QAAA,SAA6B,GAAA,IAAA,GAAG,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;MAAA;;;;;;;cAEnE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,mBAAmB,CAAC;;;;cAExC,cAAc,GAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CAAO,SAAS,CAAA,EAAA,KAAA,CAAC;cAC/B,cAAc,GAAG,cAAc,CAClC,GAAG,CAAC,UAAC,CAAC,EAAK;gBAAA,OAAA,YAAA,CAAA,MAAA,CAAa,CAAC,CAAd;cAAA,CAAgB,CAAC,CAC5B,IAAI,CAAC,GAAG,CAAC;cACC,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,cAAc,CAAC,SAAS,CAC9C,2BAAA,CAAA,MAAA,CAA4B,cAAc,EAAA,iBAAA,CAAA,CAAA,MAAA,CAAkB,kBAAkB,CAC5E,GAAG,CACJ,CAAE,CACJ,CAAA;;cAJK,IAAI,GAAG,EAIZ,CAAA,IAAA,EAAA;cAEK,iBAAA,GAAkB,cAAc,CAAC,MAAM,CAC3C,UAAC,GAAG,EAAE,IAAI,EAAA;;gBAAK,OAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAM,GAAG,CAAA,GAAA,EAAA,GAAA,CAAA,CAAA,EAAA,EAAA,CAAG,IAAI,CAAA,GAAG,EAAE,EAAG,EAAA,EAAA;eAAA,EACvC,CAAA,CAAE,CACH;cAEK,SAAS,GAAG,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,IAAI,CAAC,SAAS,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,IAAI,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAG,CAAC,CAE7B;cAEb,IAAI,SAAS,KAAT,IAAA,IAAA,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAE,YAAY,EAAE;gBAC3B,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,OAAO,CAC5C,UAAC,EAAuB,EAAA;kBAAvB,IAAA,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAuB;oBAAtB,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAA;oBAAE,WAAW,GAAA,EAAA,CAAA,CAAA,CAAA;kBACrB,OAAC,iBAAe,CAAC,QAAQ,CAAC,GAAI,WAAmB,CAAC,IAAI;gBAAtD,CAAuD,CAC1D;cACF;cAEK,KAAK,GAAG,CAAA,EAAA,GAAA,IAAI,CAAC,iBAAiB,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,GAAG,CAAC,UAAC,CAAC,EAAA;gBAAK,OAAA,CAAC,CAAC,GAAF;cAAA,CAAK,CAAa;cAEnE,OAAA,CAAA,CAAA,CAAA,YAAO,CAAC,SAAS,EAAE,KAAK,CAAU,CAAC;;;oBAGjC,GAAC,YAAY,YAAY,IACzB,GAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,GAAG,IACzB,GAAC,CAAC,IAAI,KAAK,oBAAoB,CAAA,EAF/B,OAE+B,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;;;cAI/B,EAAA,GAAA,IAAI,CAAC,UAAU;cACb,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAA;;;;cADvC,EAAA,CAAgB,kBAAkB,GAChC,EAAA,CAAA,IAAA,EAAqC;;cAEvC,OAAO,CAAC,KAAK,CAAC,oDAAoD,CAAC;cACnE,QAAQ,CAAC,MAAM,EAAE;;YAEjB,KAAA,CAAA;cAAA,MAAM,GAAC;;;;;;;;KAGZ;EA7PG;;EAEW,kBAAA,CAAA,kBAAkB,GAAjC,UAAkC,OAAe,EAAE,YAAqB,EAAA;IACtE,IAAI,OAAO,EAAE;MACX,OAAO,OAAO;IACf;IAED,IAAI,YAAY,EAAE;MAChB,OAAO,YAAY;IACpB;IAED,OAAO,SAAS;GACjB;EAED,kBAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;IAAA,IAWC,KAAA,GAAA,IAAA;;IAVC,IAAI,QAAO,CAAA,EAAA,GAAA,IAAI,CAAC,UAAU,CAAC,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,UAAU,CAAA,KAAK,QAAQ,EAAE;MAC1D,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CACvD,UAAC,EAAgB,EAAA;QAAhB,IAAA,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAgB;UAAf,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAA;UAAE,IAAI,GAAA,EAAA,CAAA,CAAA,CAAA;;QAEd,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE;UAC9B,KAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC;QACrC;MACH,CAAC,CACF;IACF;GACF;EAED,kBAAA,CAAA,SAAA,CAAA,qBAAqB,GAArB,YAAA;IACE,OAAO,IAAI,CAAC,iBAAiB;GAC9B;EAgBK,kBAAgB,CAAA,SAAA,CAAA,gBAAA,GAAtB,UAAuB,IAA8C,EAAA;IAA9C,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;MAAA,IAAe,GAAA,IAAI,CAAC,UAAU,CAAC,eAAe;IAAA;;;;;YAC/D,IAAA,CAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAxB,OAAwB,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YAC1B,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,OAAO,CAAC,EAAE;cAClD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;YACxD;YACD,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;;YAA9B,EAAA,CAAA,IAAA,EAA8B;YAC7B,IAAI,CAAC,YAAY,CAAC,eAA4C,CAAC,IAAI,CAClE,IAAI,CACL;;;YAEH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,SAAS;YACpC,OAAO,CAAA,CAAA,CAAA,YAAA,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAAA;;;EACzC,CAAA;EAEK,kBAAA,CAAA,SAAA,CAAA,cAAc,GAApB,UACE,GAAW,EACX,IAA8C,EAC9C,YAAqB,EAAA;IADrB,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;MAAA,IAAe,GAAA,IAAI,CAAC,UAAU,CAAC,eAAe;IAAA;;;;;;YAG1C,IAAA,CAAA,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAxB,OAAwB,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YAC1B,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAA;;YAAjC,EAAA,CAAA,IAAA,EAAiC;;;YAE/B,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC;iBAEtC,CAAC,OAAO,EAAR,OAAQ,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YAEJ,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,gBAAgB;YACxD,IAAA,CAAA,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAhC,OAAgC,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YAClC,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAA;;YAApE,EAAA,CAAA,IAAA,EAAoE;;;YAEtE,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,gBAAgB,CAAC;;;YAG3E,OAAO,CAAA,CAAA,CAAA,YAAA,kBAAkB,CAAC,kBAAkB,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QAAA;;;EACrE,CAAA;EAEK,kBAAA,CAAA,SAAA,CAAA,gBAAgB,GAAtB,UACE,EAAU,EACV,IAAuB,EAAA;;;;;;;YAEvB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,mBAAmB,CAAC;YAChC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,cAAc,CAAC,QAAQ,CAChD,mBAAA,CAAA,MAAA,CAAoB,EAAE,EAAiB,iBAAA,CAAA,EAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAElC,IAAI,CACP,EAAA;cAAA,0BAA0B,EAAE,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,0BAA0B,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,MAAM,IAC/D,IAAI,CAAC,0BAA0B,GAC/B,SAAS;cACb,qBAAqB,EAAE,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,qBAAqB,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,MAAM,IACrD,IAAI,CAAC,qBAAqB,GAC1B;YAAS,CAEf,CAAA,EAAA;cAAE,MAAM,EAAE;YAAK,CAAE,CAClB,CAAA;;YAZK,MAAM,GAAI,EAAA,CAAA,IAAA,EAYM;YAEtB,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAA;;YAA3C,EAAA,CAAA,IAAA,EAA2C;YAE3C,OAAA,CAAA,CAAA,CAAA,YAAO,MAAM,CAAC;QAAA;;;EACf,CAAA;EAEK,kBAAS,CAAA,SAAA,CAAA,SAAA,GAAf,UAAgB,IAAkB,EAAA;;;;;;;YAChC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,WAAW,CAAC;YACxB,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,CAChD,yBAAyB,EAEpB,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,IAAI,CACP,EAAA;cAAA,0BAA0B,EAAE,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,0BAA0B,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,MAAM,IAC/D,IAAI,CAAC,0BAA0B,GAC/B;YAAS,CAAA,CAAA,CAEhB,CAAA;;YARK,MAAM,GAAI,EAAA,CAAA,IAAA,EAQM;YAEtB,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAA;;YAA3C,EAAA,CAAA,IAAA,EAA2C;YAE3C,OAAA,CAAA,CAAA,CAAA,YAAO,MAAM,CAAC;QAAA;;;EACf,CAAA;EAEK,kBAAe,CAAA,SAAA,CAAA,eAAA,GAArB,UACE,eAA0C,EAAA;;;;;;YAE1C,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,mBAAmB,CAAC;YAChC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,cAAc,CAAC,QAAQ,CAChD,0BAA0B,EAC1B,eAAe,CAChB,CAAA;;YAHK,MAAM,GAAI,EAAA,CAAA,IAAA,EAGkB;YAElC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,wBAAwB,CAAC;cAClC,EAAE,EAAE,MAAM,CAAC,KAAK;cAChB,IAAI,EAAE,MAAM,CAAC,OAAO;cACpB,YAAY,EAAE,MAAM,CAAC;YACtB,CAAA,CAAC,CAAA;;YAJF,EAAA,CAAA,IAAA,EAIE;YAEF,OAAA,CAAA,CAAA,CAAA,YAAO,MAAM,CAAC;QAAA;;;EACf,CAAA;EAED;;;;;;AAMG;EACG,kBAAkB,CAAA,SAAA,CAAA,kBAAA,GAAxB,UAAyB,EAGP,EAAA;QAFhB,GAAG,GAAA,EAAA,CAAA,GAAA;MACH,YAAY,GAAA,EAAA,CAAA,YAAA;;;;;;;YAEN,GAAG,GAA2B,CAAA,CAAE;YAEtC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,UAAC,EAAiB,EAAA;cAAjB,IAAA,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAiB;gBAAhB,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAA;gBAAE,KAAK,GAAA,EAAA,CAAA,CAAA,CAAA;cACpD,IAAM,IAAI,GAAG,KAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,QAAQ,CAAC;cACjD,IAAI,IAAI,EAAE;gBACR,GAAG,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;gBACzB,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK;cAClB;YACH,CAAC,CAAC;YAEF,OAAA,CAAA,CAAA,CAAA,WACE,IAAI,CAAC,YAAY,CAAC,mBACnB,CAAC,IAAI,CAAC;cACL,GAAG,EAAA,GAAA;cACH,YAAY,EAAA;YACb,CAAA,CAAC,CAAA;;YALF,EAAA,CAAA,IAAA,EAKE;;YAGF,OAAO,CAAA,CAAA,CAAA,YAAA,YAAA;cAAA,OAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,YAAA;;;;;sBACL,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAC,EAAiB,EAAA;wBAAjB,IAAA,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAiB;0BAAhB,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAA;0BAAE,KAAK,GAAA,EAAA,CAAA,CAAA,CAAA;wBAC3C,IAAM,IAAI,GAAG,KAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,QAAQ,CAAC;wBACjD,IAAI,IAAI,EAAE;0BACR,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK;wBAClB;sBACH,CAAC,CAAC;sBACF,OACE,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,YAAY,CACd,mBACJ,CAAC,IAAI,CAAC;wBACL,GAAG,EAAA,GAAA;wBACH,YAAY,EAAE;sBACf,CAAA,CAAC,CAAA;;sBANF,EAAA,CAAA,IAAA,EAME;;;;;aACH,CAAC;QAAA;;;EACH,CAAA;;EAED,kBAAA,CAAA,SAAA,CAAA,sBAAsB,GAAtB,UACE,GAAW,EACX,IAA8C,EAC9C,YAAqB,EAAA;IADrB,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;MAAA,IAAe,GAAA,IAAI,CAAC,UAAU,CAAC,eAAe;IAAA;IAG9C,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,gBAAgB;IAC5D,IAAM,OAAO,GACX,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,YAAY,CAAC;IAEtE,IAAI,CAAC,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,EAAE;MACtE,OAAO,SAAS;IACjB;IACD,OAAO,kBAAkB,CAAC,kBAAkB,CAAC,OAAO,EAAE,YAAY,CAAC;GACpE;EAwDO,kBAAa,CAAA,SAAA,CAAA,aAAA,GAArB,UAAsB,IAAY,EAAA;IAChC,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,aAAa;IACxD,IAAM,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,SAAS;IAClE,IAAM,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACjD,OAAQ,SAAS,IAAI,CAAC,UAAU,IAAK,CAAC,WAAW;GAClD;EAEO,kBAAQ,CAAA,SAAA,CAAA,QAAA,GAAhB,UAAiB,IAAY,EAAA;IAC3B,OAAO,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,SAAS;GACtD;EAEa,kBAAiB,CAAA,SAAA,CAAA,iBAAA,GAA/B,UAAgC,IAAY,EAAA;;;;;;YACpC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,aAAa;YACpD,IAAA,CAAA,SAAS,EAAT,OAAS,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YACJ,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,CAAA;UAApD,KAAA,CAAA;YAAA,OAAA,CAAA,CAAA,CAAA,YAAO,EAAA,CAAA,IAAA,EAA6C,CAAC;UAE9C,KAAA,CAAA;YAAA,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,CAAA;UAAnD,KAAA,CAAA;YAAA,OAAA,CAAA,CAAA,CAAA,YAAO,EAAA,CAAA,IAAA,EAA4C,CAAC;QAAA;;;EAEvD,CAAA;EAEa,kBAA2B,CAAA,SAAA,CAAA,2BAAA,GAAzC,UAA0C,QAAgB,EAAA;;;;;;;YAClD,cAAc,GAAG,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,IAAI,CAAC,UAAU,CAAC,MAAM,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,UAAU,MAAG,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,QAAQ,CAAC;YAEjE,IAAA,EAAA,OAAO,cAAc,KAAK,UAAU,CAAA,EAApC,OAAoC,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YACzB,OAAM,CAAA,CAAA,CAAA,WAAA,cAAc,EAAE,CAAA;;YAA7B,IAAI,GAAG,EAAsB,CAAA,IAAA,EAAA;YACnC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC;YACpC,OAAO,CAAA,CAAA,CAAA,WAAA;;YACF,IAAI,cAAc,KAAK,SAAS,EAAE;cACvC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,cAAc,CAAC;cAC9C,OAAO,CAAA,CAAA,CAAA,WAAA;YACR;;;;YAEK,GAAG,GAAG,EAAA,CAAA,MAAA,CACV,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,cAAc,IAAI,GAAG,CAC3C,CAAA,MAAA,CAAA,QAAQ,EAAA,OAAA,CAAO;;;;YAED,OAAA,CAAA,CAAA,CAAA,WAAM,KAAK,CAAC,GAAG,CAAC,CAAA;;YAAzB,MAAM,GAAG,EAAgB,CAAA,IAAA,EAAA;YAC/B,IAAI,MAAM,CAAC,MAAM,IAAI,GAAG,EAAE;;;cAGxB,OAAO,CAAC,KAAK,CACX,qEAAqE,CACtE;cACD,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAA,CAAE,CAAC;cAClC,OAAO,CAAA,CAAA,CAAA,WAAA;YACR;;;;;YAEc,OAAA,CAAA,CAAA,CAAA,WAAM,MAAM,CAAC,IAAI,EAAE,CAAA;;YAA1B,IAAI,GAAG,EAAmB,CAAA,IAAA,EAAA;YAChC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC;;;;;YAGpC,OAAO,CAAC,KAAK,CAAC,oCAAA,CAAA,MAAA,CAAqC,GAAG,EAAA,GAAA,CAAG,CAAC;YAC1D,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;;;;;;;YAIrC,OAAO,CAAC,KAAK,CAAC,wCAAA,CAAA,MAAA,CAAyC,GAAG,EAAA,GAAA,CAAG,CAAC;YAC9D,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;;;;;;;EAEtC,CAAA;;EAEa,kBAA4B,CAAA,SAAA,CAAA,4BAAA,GAA1C,UAA2C,QAAgB,EAAA;;;;;UACzD,KAAA,CAAA;YAAA,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAA;;YAA1C,EAAA,CAAA,IAAA,EAA0C;YAC1C,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,mBAAmB,CAAC;;;;YAEjC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,cAAc,CAAC,SAAS,CAC9C,2BAA4B,CAAA,MAAA,CAAA,QAAQ,CAAE,CACvC,CAAA;;YAFK,IAAI,GAAG,EAEZ,CAAA,IAAA,EAAA;YACD,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,IAAI;YAChC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAA,CAAE,CAAC;;;;;YAGpD,OAAO,CAAC,KAAK,CAAC,kDAAkD,EAAE,GAAC,CAAC;YACpE,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;YACnC,OAAO,CAAA,CAAA,CAAA,WAAA;;;;;;EAEV,CAAA;;EAEO,kBAAoB,CAAA,SAAA,CAAA,oBAAA,GAA5B,UAA6B,QAAgB,EAAA;IAC3C,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAA,CAAE,CAAC;GACzC;EAEO,kBAAA,CAAA,SAAA,CAAA,eAAe,GAAvB,UAAwB,QAAgB,EAAE,IAA0B,EAAA;;IAElE,IAAM,QAAQ,GAAG,SAAX,QAAQ,CAAI,IAA0B,EAAA;MAC1C,IAAM,MAAM,GAA2B,CAAA,CAAE;MACzC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAC,EAAY,EAAA;QAAZ,IAAA,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAY;UAAX,GAAG,GAAA,EAAA,CAAA,CAAA,CAAA;UAAE,KAAK,GAAA,EAAA,CAAA,CAAA,CAAA;;QAEvC,IAAI,CAAC,KAAK,EAAE;UACV;QACD;QACD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;UAC7B,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,UAAC,EAAoB,EAAA;YAApB,IAAA,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAoB;cAAnB,OAAO,GAAA,EAAA,CAAA,CAAA,CAAA;cAAE,SAAS,GAAA,EAAA,CAAA,CAAA,CAAA;YAC1D,MAAM,CAAC,GAAG,GAAG,GAAG,GAAG,OAAO,CAAC,GAAG,SAAS;UACzC,CAAC,CAAC;UACF;QACD;QACD,MAAM,CAAC,GAAG,CAAC,GAAG,KAAe;MAC/B,CAAC,CAAC;MACF,OAAO,MAAM;IACf,CAAC;IAED,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;GACrD;EAEO,kBAAA,CAAA,SAAA,CAAA,YAAY,GAApB,UACE,GAAW,EACX,IAA8C,EAAA;IAA9C,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;MAAA,IAAe,GAAA,IAAI,CAAC,UAAU,CAAC,eAAe;IAAA;IAE9C,IAAM,IAAI,GAA0B,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC;;IAGpE,IAAI,IAAI,KAAK,SAAS,EAAE;MACtB,OAAO,SAAS;IACjB;IAED,OAAO,IAAI,CAAC,GAAG,CAAW;GAC3B;EACH,OAAC,kBAAA;AAAD,CAAC,EAAA;AC3ZD,IAAA,WAAA,GAAA,aAAA,YAAA;EACE,SAAA,WAAA,CACU,UAAsB,EACtB,kBAAsC,EACtC,aAA4B,EAAA;IAHtC,IAII,KAAA,GAAA,IAAA;IAHM,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAkB,CAAA,kBAAA,GAAlB,kBAAkB;IAClB,IAAa,CAAA,aAAA,GAAb,aAAa;IAkDN,IAAA,CAAA,MAAM,GAAG,UACxB,WAAmB,EACnB,MAAkC,EAClC,IAAwB,EAAA;MAExB,IAAI;;QAEF,IAAI,MAAM,GAAyB,WAAW;QAC9C,IAAI,KAAI,CAAC,aAAa,CAAC,SAAS,EAAE;UAChC,MAAM,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC;YAC3C,WAAW,EAAE,MAAM;YACnB,MAAM,EAAA,MAAA;YACN,QAAQ,EAAE,IAAI,IAAI,KAAI,CAAC,UAAU,CAAC;UACnC,CAAA,CAAC;QACH;QACD,OAAO,MAA8B;MACtC,CAAA,CAAC,OAAO,CAAC,EAAE;;;QAGV,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;MACjB;IACH,CAAC;EAtEG;EAEE,WAAS,CAAA,SAAA,CAAA,SAAA,GAAf,UACE,GAAW,EACX,MAAkC,EAClC,IAAsC,EACtC,OAAiB,EACjB,YAAqB,EAAA;IAFrB,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;MAAA,IAAO,GAAA,IAAI,CAAC,UAAU,CAAC,eAAe;IAAA;;;;;UAIlB,KAAA,CAAA;YAAA,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAC9D,GAAG,EACH,IAAI,EACJ,YAAY,CACb,CAAA;;YAJK,WAAW,GAAG,EAInB,CAAA,IAAA,EAAA;YACD,OAAA,CAAA,CAAA,CAAA,YAAO,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,WAAW,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;QAAA;;;EACxE,CAAA;EAED,WAAO,CAAA,SAAA,CAAA,OAAA,GAAP,UACE,GAAW,EACX,MAAkC,EAClC,IAAsC,EACtC,OAAiB,EACjB,YAAqB,EAAA;IAFrB,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;MAAA,IAAO,GAAA,IAAI,CAAC,UAAU,CAAC,eAAe;IAAA;IAItC,IAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,sBAAsB,CAChE,GAAG,EACH,IAAI,EACJ,YAAY,CACb;IAED,OAAO,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,WAAW,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC;GACvE;EAEO,WAAiB,CAAA,SAAA,CAAA,iBAAA,GAAzB,UACE,GAAW,EACX,WAA+B,EAC/B,MAA8C,EAC9C,IAAwB,EACxB,OAA4B,EAAA;IAE5B,IAAI,WAAW,KAAK,SAAS,EAAE;MAC7B,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,EAAE,IAAI,CAAC;IAC9C;IACD,IAAI,CAAC,OAAO,EAAE;MACZ,OAAO,GAAG;IACX;IACD,OAAO,EAAE;GACV;EAwBH,OAAC,WAAA;AAAD,CAAC,EAAA;ICjFW,WAAA;AAAZ,CAAA,UAAY,WAAW,EAAA;EACrB,WAAA,CAAA,WAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAG;EACH,WAAA,CAAA,WAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAO;EACP,WAAA,CAAA,WAAA,CAAA,OAAA,CAAA,GAAA,CAAA,CAAA,GAAA,OAAK;EACL,WAAA,CAAA,WAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAI;AACN,CAAC,EALW,WAAW,KAAX,WAAW,GAKtB,CAAA,CAAA,CAAA,CAAA;ACLM,IAAM,8BAA8B,GAAG,wBAAA;AAEvC,IAAM,qBAAqB,GAAG,SAAA;AAC9B,IAAM,uBAAuB,GAAG,gBAAA;AAChC,IAAM,kCAAkC,GAAG,sBAAA;AAC3C,IAAM,wBAAwB,GAAG,qBAAA;AAExC;AACO,IAAM,WAAW,GAAG,oBAAA;ACF3B,IAAM,QAAQ,GAAG;EACf,OAAO,EAAE;CACV;AAED,IAAM,QAAQ,GAAG;EACf,OAAO,EAAE,IAAI;EACb,OAAO,EAAE;CACV;AAUD,IAAA,iBAAA,GAAA,aAAA,YAAA;EAQE,SAAA,iBAAA,CAAoB,YAA+B,EAAA;IAAnD,IAAuD,KAAA,GAAA,IAAA;IAAnC,IAAY,CAAA,YAAA,GAAZ,YAAY;IAPxB,IAAA,CAAA,QAAQ,GAAG,IAAI,GAAG,EAAe;IAEjC,IAAA,CAAA,cAAc,GAAG,IAAI,gBAAgB,EAAmB;IACxD,IAAA,CAAA,WAAW,GACjB,IAAI,gBAAgB,EAAW;IAiBhB,IAAS,CAAA,SAAA,GAAG,UAAC,EAA+B,EAAA;MAC3D,IAAI,KAAI,CAAC,WAAW,KAAK,EAAE,EAAE;QAC3B,KAAI,CAAC,WAAW,EAAE;QAClB,IAAI,EAAE,EAAE;UACN,EAAE,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI;UAC9B,EAAE,CAAC,OAAO,CAAC,SAAS,EAAE;UACtB,KAAI,CAAC,WAAW,GAAG,EAAE;UACrB,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC;QAC7B;MACF;IACH,CAAC;IAEgB,IAAA,CAAA,WAAW,GAAG,YAAA;MAC7B,IAAI,KAAI,CAAC,WAAW,EAAE;QACpB,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,GAAG,KAAK;QAC7C,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,WAAW,EAAE;QACtC,KAAI,CAAC,WAAW,GAAG,SAAS;QAC5B,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC;MAC3C;IACH,CAAC;IAmBO,IAAW,CAAA,WAAA,GAAG,UAAC,CAAa,EAAA;MAClC,IAAI,KAAI,CAAC,WAAW,EAAE,IAAI,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC,CAAC,MAAiB,CAAC,EAAE;QACjE,CAAC,CAAC,eAAe,EAAE;QACnB,CAAC,CAAC,cAAc,EAAE;MACnB;IACH,CAAC;IACO,IAAW,CAAA,WAAA,GAAG,UAAC,CAAa,EAAA;MAClC,KAAI,CAAC,oBAAoB,CAAC;QAAE,CAAC,EAAE,CAAC,CAAC,OAAO;QAAE,CAAC,EAAE,CAAC,CAAC;MAAO,CAAE,CAAC;IAC3D,CAAC;IACO,IAAA,CAAA,MAAM,GAAG,YAAA;MACf,KAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,EAAE;MACzB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,EAAE,CAAC;MACzC,KAAI,CAAC,eAAe,EAAE;IACxB,CAAC;IACO,IAAS,CAAA,SAAA,GAAG,UAAC,CAAgB,EAAA;MACnC,IAAM,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC;MACtC,IAAI,WAAW,KAAK,SAAS,EAAE;QAC7B,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC;QAC9B,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,EAAE,CAAC;MAC1C;MACD,KAAI,CAAC,eAAe,EAAE;IACxB,CAAC;IACO,IAAO,CAAA,OAAA,GAAG,UAAC,CAAgB,EAAA;MACjC,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;MACxC,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,EAAE,CAAC;MACzC,KAAI,CAAC,eAAe,EAAE;IACxB,CAAC;IACO,IAAA,CAAA,QAAQ,GAAG,YAAA;;MACjB,CAAA,EAAA,GAAA,KAAI,CAAC,WAAW,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,OAAO,CAAC,SAAS,EAAE;IACvC,CAAC;IACO,IAAO,CAAA,OAAA,GAAG,UAAC,CAAa,EAAA;MAC9B,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;MACnB,IAAI,KAAI,CAAC,WAAW,EAAE,EAAE;QACtB,IAAM,OAAO,GAAG,KAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,MAAuB,CAAC;QACvE,IAAI,OAAO,IAAI,OAAO,KAAK,KAAI,CAAC,WAAW,EAAE;UAC3C,KAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,eAAe,CAAC,CAAC,EAAE,OAAO,CAAC;UACpE,KAAI,CAAC,WAAW,EAAE;QACnB;MACF;IACH,CAAC;EA3FsD;EAEvD,iBAAA,CAAA,SAAA,CAAA,GAAG,GAAH,YAAA;IACE,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;MACjC,IAAI,CAAC,kBAAkB,EAAE;IAC1B;GACF;EAED,iBAAA,CAAA,SAAA,CAAA,IAAI,GAAJ,YAAA;IACE,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;MACjC,IAAI,CAAC,oBAAoB,EAAE;IAC5B;GACF;EAuBO,iBAAA,CAAA,SAAA,CAAA,eAAe,GAAvB,YAAA;IACE,IAAM,QAAQ,GAAG,IAAI,CAAC,cAAc;IAEpC,IAAI,cAA+B;IACnC,IAAI,QAAQ,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;MAClC,cAAc,GAAG,IAAI,CAAC,uBAAuB,CAC3C,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAClD;IACF;IACD,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC;GAC/B;EAEO,iBAAoB,CAAA,SAAA,CAAA,oBAAA,GAA5B,UAA6B,QAAqB,EAAA;IAChD,IAAI,CAAC,cAAc,GAAG,QAAQ;IAC9B,IAAI,CAAC,eAAe,EAAE;GACvB;EA2CO,iBAAA,CAAA,SAAA,CAAA,kBAAkB,GAA1B,YAAA;IACE,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;IACtD,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC;IAC5D,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;IACxD,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IAChE,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC1D,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;IAExD,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IACjE,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IAChE,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IAC/D,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IACjE,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IAChE,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;GAC/D;EAEO,iBAAA,CAAA,SAAA,CAAA,oBAAoB,GAA5B,YAAA;IACE,MAAM,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;IACzD,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC;IAC/D,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;IAC3D,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IACnE,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC7D,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;IAE3D,MAAM,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IACpE,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IACnE,MAAM,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IAClE,MAAM,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IACpE,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;IACnE,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC;GAClE;EAEO,iBAAY,CAAA,SAAA,CAAA,YAAA,GAApB,UAAqB,OAAgB,EAAA;IACnC,OAAO,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,UAAC,EAAE,EAAA;MAAK,OAAA,EAAE,CAAC,EAAE,KAAK,WAAV;IAAA,CAAqB,CAAC,CAAC;GAC1E;EAEO,iBAAuB,CAAA,SAAA,CAAA,uBAAA,GAA/B,UACE,OAAgB,EAAA;IAEhB,OAAO,IAAI,CAAC,YAAY,CACtB,OAAO,EACP,UAAC,EAAE,EAAK;MAAA,OAAC,EAAsB,KAAtB,IAAA,IAAA,EAAE,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAF,EAAE,CAAsB,OAAzB;IAAA,CAAgC,CACtB;GACrB;EAEO,iBAAA,CAAA,SAAA,CAAA,YAAY,GAApB,UACE,OAAO,EACP,IAA0B,EAAA;IAE1B,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE;MACjB,OAAO,OAAO;IACf;IACD,IAAI,OAAO,KAAP,IAAA,IAAA,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAP,OAAO,CAAE,aAAa,EAAE;MAC1B,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC;IACtD;IACD,OAAO,SAAS;GACjB;EAEO,iBAAA,CAAA,SAAA,CAAA,WAAW,GAAnB,YAAA;;;MACE,KAAkB,IAAA,EAAA,GAAA,QAAA,CAAA,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAE,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;QAAhE,IAAM,GAAG,GAAA,EAAA,CAAA,KAAA;QACZ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;UAC3B,OAAO,KAAK;QACb;MACF;;;;;;;;;;;;IACD,OAAO,IAAI;GACZ;EACH,OAAC,iBAAA;AAAD,CAAC,EAAA;ACxLD,IAAA,sBAAA,GAAA,aAAA,YAAA;EAIE,SAAA,sBAAA,CAAoB,YAA+B,EAAA;IAAnD,IAAuD,KAAA,GAAA,IAAA;IAAnC,IAAY,CAAA,YAAA,GAAZ,YAAY;IA2FzB,IAAA,CAAA,eAAe,GAAG,UAAO,CAAa,EAAE,OAAwB,EAAA;MAAA,OAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,YAAA;;;;YACpD,KAAA,CAAA;cAAA,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,WAAW,EAAE,CAAA;;cAAnC,QAAQ,GAAG,EAAwB,CAAA,IAAA,EAAA;cACrC,IAAA,EAAA,OAAO,QAAQ,KAAK,QAAQ,CAAA,EAA5B,OAA4B,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;cAClB,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,OAAO,CAAC,CAAA;;cAA7C,GAAG,GAAG,EAAuC,CAAA,IAAA,EAAA;cACnD,IAAI,GAAG,EAAE;gBACP,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,YAAY,CAAC;gBAChD,OAAO,CAAA,CAAA,CAAA,WAAA;cACR;;cACD,OAAO,CAAA,CAAA,CAAA,WAAA;;;;;;KAEV;EArGsD;;EAExC,sBAAa,CAAA,aAAA,GAA5B,UAA6B,IAAqB,EAAA;IAChD,IAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;IAC5C,OAAO,KAAK,CAAC,MAAM,CACjB,UAAC,GAAG,EAAE,IAAI,EAAK;MAAA,OAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CACV,GAAG,CAAA,EAAA,KAAA,CAAA,EAAA,MAAA,CACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,UAAC,CAAC,EAAK;QAAA,OAAC;UAC/B,GAAG,EAAE,CAAC,CAAC,GAAG;UACV,YAAY,EAAE,CAAC,CAAC;SACjB;MAAC,CAAA,CAAC,CAAA,EAAA,KAAA,CAAA;IAAA,CACJ,EACD,EAAE,CACH;GACF;EAED,sBAAM,CAAA,SAAA,CAAA,MAAA,GAAN,UAAO,OAAgD,EAAA;IACrD,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC,aAAa,CAAC,OAAO,CAAC;GACtE;EAEa,sBAAA,CAAA,SAAA,CAAA,WAAW,GAAzB,YAAA;;;;;;;YACM,IAAA,EAAA,IAAI,CAAC,SAAS,KAAK,SAAS,CAAA,EAA5B,OAA4B,CAAA,CAAA,CAAA,WAAA,EAAA,CAAA;YACxB,iBAAiB,GAAG,CACxB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,EACtC,MAAM,CAAC,YAAY,CAAC,CACrB;;;;YAC6B,mBAAA,GAAA,QAAA,CAAA,iBAAiB,CAAA,EAAA,qBAAA,GAAA,mBAAA,CAAA,IAAA,EAAA;;;;YAApC,eAAe,GAAA,qBAAA,CAAA,KAAA;YAGtB,IAAA,EAAA,eAAe,YAAY,OAAO,CAAA,EAAlC,OAAkC,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YAC9B,OAAA,CAAA,CAAA,CAAA,WAAM,eAAe,CAAA;;YAArB,EAAA,GAAA,EAAA,CAAA,IAAA,EAAqB;;;YACrB,EAAA,GAAA,eAAe;;;YAHf,cAAc,GAGC,EAAA;YAGf,gBAAgB,GACpB,OAAO,cAAc,KAAK,QAAQ,GAC9B,cAAc,KAAA,IAAA,IAAd,cAAc,KAAd,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,cAAc,CAAE,EAAE,GAClB,cAAc;YAEpB,IAAI,OAAO,gBAAgB,KAAK,UAAU,EAAE;cAC1C,IAAI,CAAC,SAAS,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC;cACxD,OAAM,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YACP;;;;;;;;;;;;;;;;;;;;;YAEH,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;;cAEhC,OAAO,CAAC,IAAI,CACV,sHAAsH,GACpH,8CAA8C,CACjD;YACF;;;YAEH,OAAO,CAAA,CAAA,CAAA,YAAA,IAAI,CAAC,SAAS,CAAC;QAAA;;;EACvB,CAAA;EAEa,sBAAA,CAAA,SAAA,CAAA,gBAAgB,GAA9B,UACE,UAAsB,EACtB,OAAwB,EAAA;;;;;;YAExB,IAAI,OAAO,CAAC,OAAO,CAAC,yBAAyB,EAAE;cAC7C,OAAO,CAAA,CAAA,CAAA,YAAA;gBACL,GAAG,EAAE,OAAO,CAAC,OAAO,CAAC,yBAAyB;gBAC9C,YAAY,EAAE,OAAO,CAAC,OAAO,CAAC;eAC/B,CAAC;YACH;YACK,gBAAgB,GAAG,sBAAsB,CAAC,aAAa,CAAC,OAAO,CAAC;YAGhE,MAAM,GAAG,IAAI,GAAG,CACpB,gBAAgB,CAAC,GAAG,CAAC,UAAC,cAAc,EAAK;cAAA,OAAA,cAAc,CAAC,GAAG;YAAA,CAAA,CAAC,CAC7D;YACG,IAAA,EAAA,MAAM,CAAC,IAAI,GAAG,CAAC,CAAA,EAAf,OAAe,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YACA,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,WAAW,EAAE,CAAA;;YAAnC,QAAQ,GAAG,EAAwB,CAAA,IAAA,EAAA;YAErB,OAAM,CAAA,CAAA,CAAA,WAAA,QAAQ,CAAC,MAAM,CAAC;cACxC,IAAI,EAAE,MAAM;cACZ,SAAS,EAAE;YACZ,CAAA,CAAC,CAAA;;YAHI,aAAA,GAAc,EAGlB,CAAA,IAAA,EAAA;YAEI,KAAK,GAAG,gBAAgB,CAAC,IAAI,CAAC,UAAC,GAAG,EAAA;cAAK,OAAA,GAAG,CAAC,GAAG,KAAK,aAAZ;YAAA,CAAuB,CAAC;YACrE,IAAI,KAAK,EAAE;cACT,OAAA,CAAA,CAAA,CAAA,YAAO,KAAK,CAAC;YACd;;;YAEH,IAAI,MAAM,CAAC,IAAI,KAAK,CAAC,EAAE;cACrB,OAAA,CAAA,CAAA,CAAA,YAAO,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAC5B;;YAED,OAAO,CAAC,KAAK,CAAC,uDAAuD,CAAC;;;;;EACvE,CAAA;;EAaH,OAAC,sBAAA;AAAD,CAAC,EAAA;AC7GD,IAAA,UAAA,GAAA,aAAA,YAAA;EAAA,SAAA,UAAA,GAAA,CAsFC;EArFQ,UAAA,CAAA,QAAQ,GAAf,YAAA;IACE,IAA2D,IAAA,GAAA,EAAA;SAA3D,IAA2D,EAAA,GAAA,CAAA,EAA3D,EAA2D,GAAA,SAAA,CAAA,MAAA,EAA3D,EAA2D,EAAA,EAAA;MAA3D,IAA2D,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;IAE3D,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAA,KAAA,CAAtB,IAAI,EAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CAAsB,IAAI,CAAA,EAAA,KAAA,CAAA,CAAA,CAAS;GAC1D;EAEM,UAAA,CAAA,gBAAgB,GAAvB,YAAA;IACE,IAA2D,IAAA,GAAA,EAAA;SAA3D,IAA2D,EAAA,GAAA,CAAA,EAA3D,EAA2D,GAAA,SAAA,CAAA,MAAA,EAA3D,EAA2D,EAAA,EAAA;MAA3D,IAA2D,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;IAE3D,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAA,KAAA,CAAb,IAAI,EAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CAAgB,IAAI,CAAA,EAAA,KAAA,CAAA,CAAC;IACrC,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;MACpB,OAAO,GAAG,CAAC,CAAC,CAAC;IACd;IACD,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;MAClB,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC;IACpC;IACD,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;GAC3C;EAEa,UAAc,CAAA,cAAA,GAA5B,UAA6B,IAAoB,EAAA;IAC/C,IAAI,IAAI,YAAY,IAAI,EAAE;MACxB,OAAO,IAAI,CAAC,aAAa;IAC1B;IACD,OAAO,IAAI;GACZ;EAEM,UAAgB,CAAA,gBAAA,GAAvB,UAAwB,IAAU,EAAA;IAChC,IAAI,IAAI,CAAC,aAAa,EAAE;MACtB,OAAO,IAAI,CAAC,aAAa;IAC1B;IACD,IAAK,IAAa,CAAC,YAAY,EAAE;MAC/B,OAAQ,IAAa,CAAC,YAAY;IACnC;GACF;EAEM,UAAsB,CAAA,sBAAA,GAA7B,UAA8B,OAAgB,EAAA;IAC5C,OAAO,OAAO,CAAC,YAAY,CAAC,uBAAuB,CAAC;GACrD;EAEM,UAA0B,CAAA,0BAAA,GAAjC,UAAkC,OAAgB,EAAA;IAChD,OAAO,CAAC,YAAY,CAAC,uBAAuB,EAAE,EAAE,CAAC;GAClD;EAEM,UAA4B,CAAA,4BAAA,GAAnC,UAAoC,OAAgB,EAAA;IAClD,OAAO,CAAC,eAAe,CAAC,uBAAuB,CAAC;GACjD;EAEM,UAAA,CAAA,YAAY,GAAnB,UAAoB,UAAgB,EAAE,IAAU,EAAA;IAC9C,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;MAC7B,OAAO,IAAI;IACZ;IACD,IAAI,IAAI,YAAY,IAAI,EAAE;MACxB,IAAM,iBAAiB,GACrB,IAAI,CAAC,YAAY,IACjB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;MAChE,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,iBAAiB,EAAE;QAC/D,OAAO,IAAI;MACZ;IACF;IACD,OAAO,KAAK;GACb;EAEe,UAAA,CAAA,iBAAiB,GAAjC,UACE,UAAkB,EAClB,UAAgB,EAAA;;;;;UAGV,SAAS,GAAG,QAAQ,CAAC,QAAQ,CACjC,UAAU,EACV,UAAU,EACV,SAAS,EACT,WAAW,CAAC,QAAQ,CACrB;;;gBACM,CAAC,IAAI,GAAG,SAAS,CAAC,WAAW,EAAE,MAAM,IAAI,CAAA,EAAA,OAAA,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;UAC9C,OAAA,CAAA,CAAA,CAAA,WAAM,IAAS,CAAA;;UAAf,EAAA,CAAA,IAAA,EAAe;;;;;;EAElB,CAAA;;EAEM,UAAW,CAAA,WAAA,GAAlB,UAAmB,IAAU,EAAA;IAC3B,OAAO,IAAI,CAAC,WAAW;GACxB;EAEM,UAAA,CAAA,WAAW,GAAlB,UAAmB,IAAU,EAAE,IAAY,EAAA;IACzC,IAAI,CAAC,WAAW,GAAG,IAAI;GACxB;EACH,OAAC,UAAA;AAAD,CAAC,EAAA;ACjFD,IAAA,gBAAA,GAAA,aAAA,YAAA;EAGE,SAAA,gBAAA,CACU,UAAsB,EACtB,sBAA8C,EAC9C,YAA0B,EAAA;IAF1B,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAsB,CAAA,sBAAA,GAAtB,sBAAsB;IACtB,IAAY,CAAA,YAAA,GAAZ,YAAY;IALd,IAAA,CAAA,kBAAkB,GAAyB,IAAI,GAAG,EAAE;EAMxD;EAEJ,gBAAQ,CAAA,SAAA,CAAA,QAAA,GAAR,UAAS,OAAwB,EAAA;;IAE/B,IACE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,KAAK,SAAS,IACvD,CAAC,OAAO,CAAC,OAAO,CAAC,yBAAyB,EAC1C;MACA;IACD;IACD,IACE,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,aAAa,IACtC,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,OAAO,CAAC,EACrC;MACA,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,OAAO,CAAC;IAC5C;IACD,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,OAAO,CAAC;IAElC,IAAI,CAAC,YAAY,CAAC,kBACnB,CAAC,IAAI,CAAC,OAAO,CAAC;GAChB;EAED,gBAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;;;MACE,KAAsB,IAAA,EAAA,GAAA,QAAA,CAAA,IAAI,CAAC,kBAAkB,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAE,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;QAA1C,IAAM,OAAO,GAAA,EAAA,CAAA,KAAA;QAChB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE;UACjC,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC;UACvC,IACE,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,IAChC,CAAC,OAAO,CAAC,OAAO,CAAC,yBAAyB,EAC1C;YACA,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;UAC3B;QACF;MACF;;;;;;;;;;;;GACF;EAED,gBAAA,CAAA,SAAA,CAAA,QAAQ,GAAR,YAAA;;;MACE,KAAgC,IAAA,EAAA,GAAA,QAAA,CAAA,IAAI,CAAC,kBAAkB,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAE,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;QAApD,IAAM,iBAAiB,GAAA,EAAA,CAAA,KAAA;QAC1B,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC;MACrC;;;;;;;;;;;;GACF;EAED,gBAAY,CAAA,SAAA,CAAA,YAAA,GAAZ,UAAa,GAAW,EAAA;;IACtB,IAAM,MAAM,GAAsB,EAAE;;MACpC,KAAgC,IAAA,EAAA,GAAA,QAAA,CAAA,IAAI,CAAC,kBAAkB,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAE,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;QAApD,IAAM,iBAAiB,GAAA,EAAA,CAAA,KAAA;QAC1B,IAAI,iBAAiB,CAAC,OAAO,CAAC,yBAAyB,KAAK,GAAG,EAAE;UAC/D,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC;UAC9B;QACD;;UACD,KAAmB,IAAA,EAAA,IAAA,GAAA,GAAA,KAAA,CAAA,EAAA,QAAA,CAAA,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAA,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAE,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;YAA/C,IAAM,IAAI,GAAA,EAAA,CAAA,KAAA;YACb,IACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CACzB,UAAC,aAAa,EAAA;cAAK,OAAA,aAAa,CAAC,GAAG,KAAK,GAAG;YAAA,CAAA,CAC7C,GAAG,CAAC,CAAC,EACN;cACA,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC;cAC9B;YACD;UACF;;;;;;;;;;;;MACF;;;;;;;;;;;;IACD,OAAO,MAAM;GACd;EAEO,gBAAyB,CAAA,SAAA,CAAA,yBAAA,GAAjC,UAAkC,OAAwB,EAAA;IACxD,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE;MACjC,OAAO,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;MAC7D;IACD;GACF;EAEO,gBAAY,CAAA,SAAA,CAAA,YAAA,GAApB,UAAqB,OAAwB,EAAA;IAC3C,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE;MACjC,IAAI,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE;QAC/B,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE;MAC9B;MACD,OAAO,CAAC,eAAe,CAAC,qBAAqB,CAAC;MAC9C,OAAO,OAAO,CAAC,OAAO;MACtB,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC;IACxC;GACF;EAEQ,gBAAc,CAAA,SAAA,CAAA,cAAA,GAAvB,UAAwB,OAAwB,EAAA;;;;;;;UAC3B,EAAA,GAAA,QAAA,CAAA,OAAO,CAAC,OAAO,CAAC,KAAK,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA;;;;UAA7B,IAAI,GAAA,EAAA,CAAA,KAAA;UACT,IAAA,CAAA,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,EAAnE,OAAmE,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;UACrE,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAA;;UAAV,EAAA,CAAA,IAAA,EAAU;;;;;;;;;;;;;;;;;;;;;;;;EAGf,CAAA;;EAEO,gBAAe,CAAA,SAAA,CAAA,eAAA,GAAvB,UAAwB,OAAwB,EAAA;IAC9C,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC;GAC9D;EACH,OAAC,gBAAA;AAAD,CAAC,EAAA;ACvGD,IAAA,QAAA,GAAA,aAAA,YAAA;EACE,SAAA,QAAA,CACU,UAAsB,EACtB,WAA4B,EAC5B,aAA+B,EAAA;IAF/B,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAW,CAAA,WAAA,GAAX,WAAW;IACX,IAAa,CAAA,aAAA,GAAb,aAAa;IAGf,IAAS,CAAA,SAAA,GAAG,SAAS;IACrB,IAAU,CAAA,UAAA,GAAG,KAAK;EAHtB;EAKJ,MAAA,CAAA,cAAA,CAAY,QAAQ,CAAA,SAAA,EAAA,UAAA,EAAA;IAApB,GAAA,EAAA,eAAA;MAAA,IA4BC,KAAA,GAAA,IAAA;MA3BC,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;QACpD,IAAI,CAAC,SAAS,GAAG,IAAI,gBAAgB,CACnC,UAAO,aAA+B,EAAA;UAAA,OAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,YAAA;;;;;;;kBACb,eAAA,GAAA,QAAA,CAAA,aAAa,CAAA,EAAA,iBAAA,GAAA,eAAA,CAAA,IAAA,EAAA;;;;kBAAzB,QAAQ,GAAA,iBAAA,CAAA,KAAA;kBACjB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;;oBAEpB,OAAO,CAAA,CAAA,CAAA,WAAA;kBACR;;kBACG,IAAA,EAAA,QAAQ,CAAC,IAAI,KAAK,eAAe,CAAA,EAAjC,OAAiC,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;kBACnC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAiB,CAAC,CAAA;;kBAA7D,EAAA,CAAA,IAAA,EAA6D;kBAC7D,OAAS,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;;kBAEP,IAAA,EAAA,QAAQ,CAAC,IAAI,KAAK,WAAW,CAAA,EAA7B,OAA6B,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;kBAC/B,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAiB,CAAC,CAAA;;kBAAhE,EAAA,CAAA,IAAA,EAAgE;kBAChE,OAAS,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;;kBAEP,IAAA,EAAA,QAAQ,CAAC,IAAI,KAAK,YAAY,CAAA,EAA9B,OAA8B,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;kBAChC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,WAAW,CAAC,eAAe,CACpC,QAAQ,CAAC,MAAiB,CAC3B,CAAA;;kBAFD,EAAA,CAAA,IAAA,EAEC;;;;;;;;;;;;;;;;;;;;;kBAGL,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;;;;UAChC,CAAA,CAAA;QAAA,CAAA,CACF;MACF;;MACD,OAAO,IAAI,CAAC,SAAS;KACtB;;;EAAA,CAAA,CAAA;EAEM,QAAA,CAAA,SAAA,CAAA,OAAO,GAAd,YAAA;IACE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;MAClB;IACD;IACD,IAAI,IAAI,CAAC,UAAU,EAAE;MACnB;IACD;IACD,IAAI,CAAC,UAAU,GAAG,IAAI;IACtB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,EAAE;MAC1D,UAAU,EAAE,IAAI;MAChB,SAAS,EAAE,IAAI;MACf,OAAO,EAAE,IAAI;MACb,aAAa,EAAE;IAChB,CAAA,CAAC;GACH;EAEM,QAAA,CAAA,SAAA,CAAA,aAAa,GAApB,YAAA;IACE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;MAClB;IACD;IACD,IAAI,CAAC,UAAU,GAAG,KAAK;IACvB,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE;GAC3B;EACH,OAAC,QAAA;AAAD,CAAC,EAAA;AC1DD,IAAA,WAAA,GAAA,aAAA,YAAA;EAGE,SACU,WAAA,CAAA,UAAsB,EACtB,cAA8B,EAAA;IAD9B,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAc,CAAA,cAAA,GAAd,cAAc;EACpB;EAEE,WAAA,CAAA,SAAA,CAAA,YAAY,GAAlB,YAAA;;;;;;YACE,IAAI,EAAE,IAAI,CAAC,eAAe,YAAY,OAAO,CAAC,EAAE;cAC9C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAClD,0CAA0C,CAC3C;YACF;iBAEqB,GAAG,CAAA,IAAA;YACtB,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,eAAe,CAAA;;YADvB,SAAS,GAAG,KAAI,EAAA,CAAA,KAAA,CAAA,GAAG,EACvB,CAAA,KAAA,CAAA,EAAC,EAAA,CAAA,IAAA,EAA0B,CAAE,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,UAAC,CAAC,EAAA;cAAK,OAAA,CAAC,CAAC,GAAG;YAAA,CAAA,CAAC,CACnE,CAAA,GAAA;YACD,IAAI,CAAC,UAAU,CAAC,kBAAkB,GAAG,IAAI,GAAG,CAC1C,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,UAAC,CAAC,EAAA;cACtD,OAAA,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aAAA,CACjB,CACF;YACD,OAAA,CAAA,CAAA,CAAA,YAAO,SAAS,CAAC;QAAA;;;EAClB,CAAA;EAEK,WAAA,CAAA,SAAA,CAAA,gBAAgB,GAAtB,YAAA;;;;;;YACE,IAAI,CAAC,YAAY,EAAE;YACD,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,eAAe,CAAA;;YAAtC,SAAS,GAAG,EAA0B,CAAA,IAAA,EAAA;YAC5C,OAAA,CAAA,CAAA,CAAA,YAAO,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC;QAAA;;;EACtC,CAAA;EAEK,WAAA,CAAA,SAAA,CAAA,gBAAgB,GAAtB,YAAA;;;;;;;YAEW,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAA;UAAjE,KAAA,CAAA;YAAA,OAAA,CAAA,CAAA,CAAA,YAAO,EAAA,CAAA,IAAA,EAA0D,CAAC;;;;YAGlE,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC;;YAEhB,OAAO,CAAC,KAAK,CACX,4DAA4D,CAC7D;YACD,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,YAAY;;;;;;;EAEtC,CAAA;;EAED,WAAc,CAAA,SAAA,CAAA,cAAA,GAAd,UAAe,KAAY,EAAA;IACzB,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;GAClD;EAED,WAAU,CAAA,SAAA,CAAA,UAAA,GAAV,UAAW,KAAY,EAAA;IACrB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;MAC/B,MAAM,IAAI,KAAK,CACb,yEAAyE,CAC1E;IACF;GACF;EAEK,WAAA,CAAA,SAAA,CAAA,iBAAiB,GAAvB,YAAA;;;;;;kBACM,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,SAAS,CAAA,EAApC,OAAoC,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YACtB,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,gBAAgB,EAAE,CAAA;;YAAvC,OAAO,GAAG,EAA6B,CAAA,IAAA,EAAA;YAC7C,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,OAAO,CAAC,MAAiB;YAClD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS;YAC7C,IAAI,CAAC,UAAU,CAAC,oBAAoB,GAAG,OAAO,CAAC,oBAAoB;;;;;;;EAEtE,CAAA;;EACH,OAAC,WAAA;AAAD,CAAC,EAAA;ACtED,IAAM,qBAAqB,GAAG,iBAAiB;AAC/C,IAAM,qBAAqB,GAAG,iBAAiB;AAE/C,IAAM,+BAA+B,GAAG,SAAlC,+BAA+B,GAAG;EACtC,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;IACnC,OAAO,QAAQ,CAAC,IAAI;EACrB;AACH,CAAC;AAcD,IAAA,YAAA,GAAA,aAAA,YAAA;EAgEE,SAAA,YAAA,CAAY,MAAqB,EAAA;IAxDjC,IAAW,CAAA,WAAA,GAAY,YAAY;IACnC,IAAW,CAAA,WAAA,GAAY,KAAK;IAK5B;;AAEG;IACH,IAAe,CAAA,eAAA,GAAY,IAAI;IAU/B;;AAEG;IACH,IAAmB,CAAA,mBAAA,GAAa,IAAI;IACpC;;AAEG;IACH,IAAuB,CAAA,uBAAA,GAAa,IAAI;IACxC,IAAc,CAAA,cAAA,GAAY,OAAO;IAIjC,IAAA,CAAA,aAAa,GAAiC;MAC5C,QAAQ,EAAE,CAAC,aAAa,CAAC;MACzB,KAAK,EAAE,CAAC,OAAO,EAAE,aAAa,CAAC;MAC/B,GAAG,EAAE,CAAC,KAAK,CAAC;MACZ,GAAG,EAAE,CAAC,YAAY,EAAE,OAAO;KAC5B;IACD,IAAA,CAAA,aAAa,GAAmB,CAAC,WAAW,CAAC,GAAG,CAAC;IACjD,IAAA,CAAA,YAAY,GAEuB,CAAC,QAAQ,EAAE,UAAU,CAAC;IACzD,IAAA,CAAA,kBAAkB,GAAc,CAAC,QAAQ,EAAE,OAAO,CAAC;IACnD,IAAc,CAAA,cAAA,GAAY,gBAAgB;IAC1C,IAAc,CAAA,cAAA,GAAY,CAAC;IAK3B,IAAW,CAAA,WAAA,GAA0B,MAAM;IAE3C;;AAEG;IACH,IAAe,CAAA,eAAA,GAAa,KAAK;;IAK/B,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,eAAe,EAAE;MAC3C,GAAG,EAAH,aAAI,aAAsB,EAAA;QACxB,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;UACpC,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC;QACtD;QACD,IAAI,aAAa,KAAK,SAAS,EAAE;UAC/B,IAAI,CAAC,cAAc,GAAG,+BAA+B,EAAE;QACxD;QACD,IAAI,UAAU,CAAC,sBAAsB,CAAC,aAAa,CAAC,EAAE;;UAEpD,OAAO,CAAC,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,cAAc,CAAC;UACtD,MAAM,IAAI,KAAK,CACb,2DAA2D,CAC5D;QACF;QACD,IAAI,CAAC,cAAc,GAAG,aAAa;QACnC,UAAU,CAAC,0BAA0B,CAAC,IAAI,CAAC,cAAc,CAAC;OAC3D;MACD,GAAG,EAAA,eAAA;QACD,OAAO,IAAI,CAAC,cAAc;MAC3B;IACF,CAAA,CAAC;IAEF,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,IAAI,CAAA,CAAE,CAAC;IACjC,IAAI,OAAO,cAAc,KAAK,WAAW,EAAE;MACzC,IAAI,CAAC,MAAM,GACT,cAAc,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,IAAI,CAAC,MAAM;MAC9D,IAAI,CAAC,MAAM,GACT,cAAc,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,IAAI,CAAC,MAAM;IAC/D;IACD,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE;MACrC,IAAI,CAAC,cAAc,GAAG,+BAA+B,EAAE;IACxD;IACD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,eAAe;IACrE,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;MAC5B,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC;IACjD;IACD,IAAI,IAAI,CAAC,kBAAkB,KAAK,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE;MAC5D,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;IACvD;EACF;EACH,OAAC,YAAA;AAAD,CAAC,EAAA;ACrIM,IAAM,KAAK,GAAG,SAAR,KAAK,CAAI,EAAU,EAAA;EAC9B,OAAA,IAAI,OAAO,CAAC,UAAC,OAAO,EAAK;IAAA,OAAA,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC;EAAA,CAAA,CAAC;AAAjD,CAAiD;ACQnD,IAAA,aAAA,GAAA,aAAA,YAAA;EAGE,SACU,aAAA,CAAA,QAAkB,EAClB,UAAsB,EACtB,YAA0B,EAC1B,gBAAkC,EAClC,kBAAsC,EAAA;IALhD,IAMI,KAAA,GAAA,IAAA;IALM,IAAQ,CAAA,QAAA,GAAR,QAAQ;IACR,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAY,CAAA,YAAA,GAAZ,YAAY;IACZ,IAAgB,CAAA,gBAAA,GAAhB,gBAAgB;IAChB,IAAkB,CAAA,kBAAA,GAAlB,kBAAkB;IAPrB,IAAgB,CAAA,gBAAA,GAAG,KAAK;IA4Bf,IAAc,CAAA,cAAA,GAAG,UAC/B,eAAgC,EAAA;MAEhC,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAA;QACjC,KAAI,CAAC,kBAAkB,CACpB,kBAAkB,CAAC,eAAe,CAAC,CACnC,IAAI,CAAC,UAAO,YAAY,EAAA;UAAA,OAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,YAAA;;;;;;;kBAErB,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,GAAG,CAAC;kBAC3C,OAAA,CAAA,CAAA,CAAA,WAAM,KAAK,CAAC,GAAG,CAAC,CAAA;;kBAAhB,EAAA,CAAA,IAAA,EAAgB;kBAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,wBAAwB,CAAC;kBACtC,QAAS,GAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,CACjC,yBAAyB,EACzB,UAAC,IAAI,EAAA;oBACH,KAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,GAAG,CAAC;oBAC7C,OAAO,CAAC,IAAI,CAAC;oBACb,YAAY,EAAE;oBACd,QAAM,EAAE;kBACV,CAAC,CACF;;;;kBAED,YAAY,EAAE;kBACd,MAAM,CAAC,GAAC,CAAC;;;;;;;SAEZ,CAAC,CACD,KAAK,CAAC,UAAC,CAAC,EAAA;UACP,MAAM,CAAC,CAAC,CAAC;QACX,CAAC,CAAC;MACN,CAAC,CAAC;IACJ,CAAC;IAcgB,IAAA,CAAA,SAAS,GAAG,YAAA;MAC3B,IAAM,mBAAmB,GAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAKpB,KAAI,CAAC,UAAU,CAAA,EAAA;QAClB,MAAM,EAAE,OACH,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,KAAI,CAAC,UAAU,CAAC,MAAM,CAAA,EAAA;;UAEzB,UAAU,EAAE,SAAS;UACrB,aAAa,EAAE,SAAS;UACxB,cAAc,EAAE,SAAS;UACzB,EAAE,EAAE;QAAS,CAAA,CACS;QACxB,SAAS,EAAE,OAAO,CAAC,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;QAC7C,SAAS,EAAE;MAA6B,CAAA,CACzC;MAED,IAAI,KAAK,GAAiB,IAAI;MAE9B,IAAM,IAAI,GAAG,SAAP,IAAI,GAAG;QACX,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,mBAAmB,CAAC;MACzD,CAAC;MACD,IAAM,MAAM,GAAG,SAAT,MAAM,GAAG;QACb,aAAa,CAAC,KAAK,CAAC;MACtB,CAAC;MAED,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,YAAA;QAC1C,KAAI,CAAC,gBAAgB,GAAG,IAAI;QAC5B,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,mBAAmB,CAAC;QACvD,MAAM,EAAE;MACV,CAAC,CAAC;MAEF,IAAI,EAAE;;MAGN,IAAI,OAAO,GAAG,CAAC;MACf,KAAK,GAAG,WAAW,CAAC,YAAA;QAClB,IAAI,CAAC,KAAI,CAAC,gBAAgB,IAAI,OAAO,GAAG,CAAC,EAAE;UACzC,IAAI,EAAE;UACN,OAAO,IAAI,CAAC;QACb,CAAA,MAAM;UACL,MAAM,EAAE;QACT;OACF,EAAE,GAAG,CAAC;IACT,CAAC;EA7GG;EAEJ,aAAA,CAAA,SAAA,CAAA,GAAG,GAAH,YAAA;IACE,IAAI;MACF,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE;MAC9B,IAAI,CAAC,SAAS,EAAE;IACjB,CAAA,CAAC,OAAO,CAAC,EAAE;;MAEV,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;;MAEf,OAAO,CAAC,IAAI,CACV,sEAAsE,CACvE;IACF;GACF;EAED,aAAA,CAAA,SAAA,CAAA,IAAI,GAAJ,YAAA;IACE,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;GAC9B;EAiCO,aAAiB,CAAA,SAAA,CAAA,iBAAA,GAAzB,UAA0B,GAAW,EAAA;IACnC,IAAI,CAAC,gBAAgB,CAClB,YAAY,CAAC,GAAG,CAAC,CACjB,OAAO,CAAC,UAAC,EAAE,EAAA;MAAK,OAAA,EAAE,CAAC,OAAO,CAAC,SAAS,EAApB;IAAA,CAAsB,CAAC;GAC3C;EAEO,aAAmB,CAAA,SAAA,CAAA,mBAAA,GAA3B,UAA4B,GAAW,EAAA;IACrC,IAAI,CAAC,gBAAgB,CAClB,YAAY,CAAC,GAAG,CAAC,CACjB,OAAO,CAAC,UAAC,EAAE,EAAA;MAAK,OAAA,EAAE,CAAC,OAAO,CAAC,WAAW,EAAtB;IAAA,CAAwB,CAAC;GAC7C;EAiDH,OAAC,aAAA;AAAD,CAAC,EAAA;AClHD,IAAA,QAAA,GAAA,aAAA,YAAA;EAAA,SAAA,QAAA,GAAA;IAAA,IA6CC,KAAA,GAAA,IAAA;IA5CS,IAAS,CAAA,SAAA,GAAe,EAAE;IAGzB,IAAA,CAAA,cAAc,GAAG,YAAA;MACxB,IAAM,cAAc,GAAG,SAAjB,cAAc,CAAI,KAAkB,EAAA;QACxC,IAAI,KAAK,CAAC,MAAM,IAAI,MAAM,EAAE;UAC1B;QACD;QACD,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,QAAQ,EAAA;UAC9B,IAAI,QAAQ,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE;YACpC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;UACnC;QACH,CAAC,CAAC;MACJ,CAAC;MAED,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,cAAc,EAAE,KAAK,CAAC;MAEzD,OAAO,KAAI,CAAC,cAAc,KAAK,UAAU,IAAI,KAAI,CAAC,cAAc,EAAE;MAClE,KAAI,CAAC,cAAc,GAAG,YAAA;QACpB,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,cAAc,EAAE,KAAK,CAAC;MAC9D,CAAC;IACH,CAAC;IAMQ,IAAA,CAAA,MAAM,GAAG,UAAC,IAAY,EAAE,QAAwB,EAAA;MACvD,IAAM,YAAY,GAAG;QAAE,IAAI,EAAA,IAAA;QAAE,QAAQ,EAAA;MAAA,CAAE;MACvC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC;;MAEjC,OAAO,YAAA;QACL,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;MAChE,CAAC;IACH,CAAC;IAEQ,IAAA,CAAA,IAAI,GAAG,UAAC,IAAY,EAAE,IAAU,EAAA;MACvC,IAAI;QACF,MAAM,CAAC,WAAW,CAAC;UAAE,IAAI,EAAA,IAAA;UAAE,IAAI,EAAA;QAAA,CAAE,EAAE,MAAM,CAAC,MAAM,CAAC;MAClD,CAAA,CAAC,OAAO,CAAC,EAAE;;QAEV,OAAO,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC,CAAC;MACxC;IACH,CAAC;EACF;EArBQ,QAAA,CAAA,SAAA,CAAA,aAAa,GAApB,YAAA;IACE,IAAI,CAAC,cAAc,EAAE;GACtB;EAmBH,OAAC,QAAA;AAAD,CAAC,EAAA;ACvDD,IAAM,sBAAsB,GAAiC;EAC3D,aAAa,EAAE,MAAM;EACrB,QAAQ,EAAE,OAAO;EACjB,SAAS,EAAE,aAAa;EACxB,MAAM,EAAE,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC;EACvC,OAAO,EAAE,QAAQ;EACjB,OAAO,EAAE,OAAO;EAChB,WAAW,EAAE,OAAO;EACpB,YAAY,EAAE;CACf;AAED,IAAA,6BAAA,GAAA,aAAA,YAAA;EACE,SAAA,6BAAA,CAAoB,UAAsB,EAAA;IAAtB,IAAU,CAAA,UAAA,GAAV,UAAU;EAAgB;EAE9C,6BAAa,CAAA,SAAA,CAAA,aAAA,GAAb,UAAc,OAAwB,EAAA;IACpC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC;IACnC,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC;GACtC;EAGO,6BAAqB,CAAA,SAAA,CAAA,qBAAA,GAA7B,UAA8B,OAAwB,EAAA;IAAtD,IA4BC,KAAA,GAAA,IAAA;IA3BC,OAAO,CAAC,OAAO,CAAC,SAAS,GAAG,YAAA;MAC1B,IAAM,cAAc,GAAG,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,cAAc;MAC5D,IAAM,cAAc,GAAG,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,cAAc;MAC5D,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;QACxB;MACD;MACD,IAAI,WAAW,GAAG,OAAO,CAAC,OAAO,CAAC,WAAW;MAC7C,IAAI,CAAC,WAAW,EAAE;QAChB,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC3C,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC;QACnD,MAAM,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC,OAAO,CAAC,UAAC,EAAY,EAAA;UAAZ,IAAA,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAY;YAAX,GAAG,GAAA,EAAA,CAAA,CAAA,CAAA;YAAE,KAAK,GAAA,EAAA,CAAA,CAAA,CAAA;UACzD,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK;QAChC,CAAC,CAAC;QACF,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,cAAc;QAE9C,OAAO,CAAC,OAAO,CAAC,WAAW,GAAG,WAAW;QACzC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;MACvC;MAED,IAAM,KAAK,GAAG,OAAO,CAAC,qBAAqB,EAAE;MAE7C,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,cAAc,GAAG,IAAI;MACrD,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG,cAAc,GAAG,IAAI;MACzD,WAAW,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,cAAc,GAAG,IAAI;MAC3D,WAAW,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG,IAAI;MAC5C,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,IAAI;IAChD,CAAC;GACF;EAEO,6BAAuB,CAAA,SAAA,CAAA,uBAAA,GAA/B,UAAgC,OAAwB,EAAA;IACtD,OAAO,CAAC,OAAO,CAAC,WAAW,GAAG,YAAA;;MAC5B,CAAA,EAAA,GAAA,OAAO,CAAC,OAAO,CAAC,WAAW,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAM,EAAE;MACrC,OAAO,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI;IACpC,CAAC;GACF;EACH,OAAC,6BAAA;AAAD,CAAC,EAAA;ACxDD,IAAA,iBAAA,GAAA,aAAA,YAAA;EACE,SACU,iBAAA,CAAA,WAAwB,EACxB,cAA8B,EAAA;IAD9B,IAAW,CAAA,WAAA,GAAX,WAAW;IACX,IAAc,CAAA,cAAA,GAAd,cAAc;EACpB;EAEE,iBAAW,CAAA,SAAA,CAAA,WAAA,GAAjB,UAAkB,IAAU,EAAA;;;;QACpB,QAAQ,GAAG,IAAI,QAAQ,EAAE;QAE/B,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC;QAE9B,OAAO,CAAA,CAAA,CAAA,YAAA,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,iBAAiB,EAAE,SAAS,EAAE;UAChE,OAAO,EAAE,CAAA,CAAE;UACX,IAAI,EAAE;QACP,CAAA,CAAgC,CAAC;;;EACnC,CAAA;EAEK,iBAAY,CAAA,SAAA,CAAA,YAAA,GAAlB,UAAmB,GAAa,EAAA;;;QAC9B,OAAA,CAAA,CAAA,CAAA,YAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAC7B,kBAAmB,CAAA,MAAA,CAAA,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAE,EAClC,SAAS,EACT;UACE,MAAM,EAAE;QACT,CAAA,CACmB,CAAC;;;EACxB,CAAA;EACH,OAAC,iBAAA;AAAD,CAAC,EAAA;AC5BD,IAAA,aAAA,GAAA,aAAA,YAAA;EAAA,SAAA,aAAA,GAAA;IAAA,IAWC,KAAA,GAAA,IAAA;IAVC,IAAS,CAAA,SAAA,GAAqB,IAAI;IAElC,IAAS,CAAA,SAAA,GAAG,UAAC,MAAoB,EAAA;MAC/B,IAAI,MAAM,CAAC,IAAI,KAAK,WAAW,EAAE;QAC/B,IAAM,QAAQ,GAAG,IAAI,MAAM,EAAE;QAC7B,KAAI,CAAC,SAAS,GAAG,QAAQ;MAC1B,CAAA,MAAM;QACL,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC;MAC5C;IACH,CAAC;EACF;EAAD,OAAC,aAAA;AAAD,CAAC,EAAA;ACKD,IAAA,WAAA,GAAA,aAAA,YAAA;EACE,SAAA,WAAA,CACU,UAAsB,EACtB,gBAAkC,EAClC,OAAwB,EAAA;IAFxB,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAgB,CAAA,gBAAA,GAAhB,gBAAgB;IAChB,IAAO,CAAA,OAAA,GAAP,OAAO;EACb;EAEG,WAAiB,CAAA,iBAAA,GAAxB,UAAyB,OAAgB,EAAA;IACvC,IAAI,OAAO,CAAC,qBAAqB,CAAC,KAAK,SAAS,EAAE;MAChD,OAAO,CAAC,qBAAqB,CAAC,GAAG;QAC/B,KAAK,EAAE,IAAI,GAAG;OACA;MAChB,OAAO,CAAC,YAAY,CAAC,qBAAqB,EAAE,EAAE,CAAC;IAChD;IAED,OAAO,OAA0B;GAClC;EAED,WAAgB,CAAA,SAAA,CAAA,gBAAA,GAAhB,UAA2C,KAAU,EAAA;IACnD,IAAM,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,kBAAkB;IACpE,OAAO,KAAK,CAAC,MAAM,CAAC,UAAC,CAAC,EAAA;MACpB,IAAM,CAAC,GAAG,UAAU,CAAC,cAAc,CAAC,CAAC,CAAC;MACtC,IAAI,CAAC,CAAC,EAAE;QACN,OAAO,KAAK;MACb;MACD,OACE,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,IAC1D,CAAC,CAAC,OAAO,CAAC,GAAI,CAAA,MAAA,CAAA,8BAA8B,EAAA,YAAA,CAAU,CAAC,KAAK,IAAI;IAEpE,CAAC,CAAC;GACH;EAEK,WAAW,CAAA,SAAA,CAAA,WAAA,GAAjB,UAAkB,KAAyB,EAAA;;;;;;;;YAClB,OAAA,GAAA,QAAA,CAAA,KAAK,CAAA,EAAA,SAAA,GAAA,OAAA,CAAA,IAAA,EAAA;;;;YAAjB,QAAQ,GAAA,SAAA,CAAA,KAAA;YACjB,IAAI,QAAQ,CAAC,qBAAqB,CAAC,KAAK,SAAS,EAAE;cACjD,QAAQ,CAAC,qBAAqB,CAAC,GAAG,CAAA,CAAc;YACjD;YACK,UAAU,GAAG,QAAQ,CAAC,qBAAqB,CAGpC;YACT,IAAA,EAAA,CAAA,UAAU,KAAV,IAAA,IAAA,UAAU,KAAV,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,UAAU,CAAE,MAAM,MAAK,IAAI,CAAA,EAA3B,OAA2B,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YAC7B,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACR,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CACtC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CACjC,CAAA;;YAFK,MAAM,GAAG,EAEd,CAAA,IAAA,EAAA;YACD,IAAI,MAAM,EAAE;cACF,IAAI,GAAW,MAAM,CAAjB,IAAA,EAAE,IAAI,GAAK,MAAM,CAAA,IAAX;cACZ,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC;cAC9D,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC;cAC3D,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC;cAC/C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,aAAa,CAAC;YAC9C;YACD,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;EAG9B,CAAA;;EAED,WAAA,CAAA,SAAA,CAAA,kBAAkB,GAAlB,UACE,IAAiB,EACjB,QAAQ,EACR,IAA6B,EAAA;IAE7B,IAAI,CAAC,qBAAqB,CAAC,GAAG;MAC5B,cAAc,EAAE,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC;MAC5C,IAAI,EAAA;KACL;IACD,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC;IACtC,OAAO,IAA4B;GACpC;EAEO,WAAQ,CAAA,SAAA,CAAA,QAAA,GAAhB,UAAiB,IAAiB,EAAA;IAChC,IAAI,IAAI,CAAC,qBAAqB,CAAC,KAAK,SAAS,EAAE;MAC7C,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAA,CAAc;IAC7C;IAED,IAAM,UAAU,GAAG,IAAI,CAAC,qBAAqB,CAAwB;IACrE,IAAI,CAAA,UAAU,KAAA,IAAA,IAAV,UAAU,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAV,UAAU,CAAE,MAAM,MAAK,IAAI,EAAE;MAC/B,UAAU,CAAC,MAAM,GAAG,IAAI;IACzB;IAED,OAAO,IAAoB;GAC5B;EAEO,WAAU,CAAA,SAAA,CAAA,UAAA,GAAlB,UAAmB,IAAiB,EAAA;IAClC,IAAI,IAAI,CAAC,qBAAqB,CAAC,EAAE;MAC/B,IAAI,CAAC,qBAAqB,CAAC,CAAC,MAAM,GAAG,KAAK;IAC3C;GACF;EAEO,WAAgB,CAAA,SAAA,CAAA,gBAAA,GAAxB,UAAyB,IAAU,EAAA;IACjC,IAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;IAC3C,OAAO,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC;GAC7C;EAEO,WAAiB,CAAA,SAAA,CAAA,iBAAA,GAAzB,UAA0B,IAAU,EAAA;IAClC,IAAM,SAAS,GAAG,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC;IAEnD,IAAI,SAAS,KAAK,SAAS,EAAE;;MAE3B,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;MACnB,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC;IAC5D;IAED,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,EAAE;MACxC,OAAO,SAAS;IACjB;IAED,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE;MACtD,IAAM,aAAa,GAAG,SAAhB,aAAa,CAAI,cAAsB,EAAA;QAC3C,OAAA,SAAS,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,cAAc,CAAC,WAAW,EAAE;MAAhE,CAAgE;MAClE,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE;QACvE,OAAO,SAAS;MACjB;IACF;IAED,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,KAAK,UAAU,EAAE;MAC7D,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE;QACnD,OAAO,SAAS;MACjB;IACF;IAED,OAAO,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;GACzC;EACH,OAAC,WAAA;AAAD,CAAC,EAAA;AC1ID,IAAA,kBAAA,GAAA,aAAA,YAAA;EACE,SACU,gBAAA,CAAA,UAAsB,EACtB,WAAwB,EAAA;IADxB,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAW,CAAA,WAAA,GAAX,WAAW;EACjB;EAEE,gBAAM,CAAA,SAAA,CAAA,MAAA,GAAZ,UAAa,IAAa,EAAA;;;;;;;YAClB,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW;YAChD,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW;;;;YAEtB,EAAA,GAAA,QAAA,CAAA,MAAM,CAAC,OAAO,CAC5C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,CACrC,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA;;;;YAFU,EAAA,GAAA,MAAA,CAAA,EAAA,CAAA,KAAA,EAAA,CAAA,CAAiB,EAAhB,GAAG,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,UAAU,GAAA,EAAA,CAAA,CAAA,CAAA;;;;YAGD,YAAA,IAAA,GAAA,GAAA,KAAA,CAAA,EAAA,QAAA,CAAA,UAAU,CAAA,CAAA,EAAA,cAAA,GAAA,YAAA,CAAA,IAAA,EAAA;;;;YAAvB,SAAS,GAAA,cAAA,CAAA,KAAA;YACZ,UAAU,GAAG,sBAAuB,CAAA,MAAA,CAAA,GAAG,EAAK,IAAA,CAAA,CAAA,MAAA,CAAA,SAAS,EAAA,gBAAA,CAAA,CAAA,MAAA,CAAiB,WAAW,EAAA,sBAAA,CAAA,CAAA,MAAA,CAAuB,WAAW,EAAA,KAAA,CAAK;YACxH,KAAK,GAAuB,UAAU,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC;YACvE,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;;YAAzC,EAAA,CAAA,IAAA,EAAyC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAG9C,CAAA;;EACH,OAAC,gBAAA;AAAD,CAAC,EAAA;ACxBD,IAAA,UAAA,GAAA,aAAA,YAAA;EAAA,SAAA,UAAA,GAAA,CAyDC;EAxDe,UAAA,CAAA,0BAA0B,GAAxC,UACE,MAAc,EACd,SAAiB,EAAA;IAEjB,IAAM,MAAM,GAAG,EAAE;IACjB,IAAI,MAAM,GAAG,EAAE;IACf,IAAI,OAAO,GAAG,KAAK;IACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;MACtC,IAAM,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC;MACtB,IAAI,IAAI,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE;QAC7B,OAAO,GAAG,IAAI;QACd;MACD;MACD,IAAI,OAAO,EAAE;QACX,OAAO,GAAG,KAAK;QACf,MAAM,IAAI,IAAI;QACd;MACD;MACD,IAAI,IAAI,KAAK,SAAS,EAAE;QACtB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QACnB,MAAM,GAAG,EAAE;QACX;MACD;MACD,MAAM,IAAI,IAAI;IACf;IACD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACnB,OAAO,MAAM;GACd;EAEa,UAAA,CAAA,aAAa,GAA3B,UAA4B,QAAgB,EAAE,UAAkB,EAAA;IAC9D,IAAI,gBAAgB,GAAG,CAAC;IACxB,OAAO,QAAQ,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,QAAQ,GAAG,CAAC,CAAC,KAAK,IAAI,EAAE;MACzD,gBAAgB,EAAE;MAClB,QAAQ,EAAE;IACX;IACD,OAAO,gBAAgB,GAAG,CAAC,IAAI,CAAC;GACjC;EAEa,UAAa,CAAA,aAAA,GAA3B,UAA4B,MAAc,EAAA;IACxC,IAAI,MAAM,GAAG,EAAE;IACf,IAAI,OAAO,GAAG,KAAK;IACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;MACtC,IAAM,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC;MACtB,IAAI,IAAI,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE;QAC7B,OAAO,GAAG,IAAI;QACd;MACD;MACD,IAAI,OAAO,EAAE;QACX,OAAO,GAAG,KAAK;QACf,MAAM,IAAI,IAAI;QACd;MACD;MACD,MAAM,IAAI,IAAI;IACf;IACD,OAAO,MAAM;GACd;EACH,OAAC,UAAA;AAAD,CAAC,EAAA;AC9CD,IAAA,OAAA,GAAA,aAAA,YAAA;EACE,SACU,KAAA,CAAA,UAAsB,EACtB,WAAwB,EAAA;IADxB,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAW,CAAA,WAAA,GAAX,WAAW;IA0KJ,IAAe,CAAA,eAAA,GAAG,UAAC,MAAc,EAAA;MAChD,OAAO,MAAM,CAAC,OAAO,CAAC,qBAAqB,EAAE,MAAM,CAAC;IACtD,CAAC;IAEgB,IAAW,CAAA,WAAA,GAAG,UAAC,KAAU,EAAA;MACxC,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAC7B,OAAO,KAAK,CAAC,OAAO,CAAC,SAAU,EAAE,MAAM,CAAC;MACzC;MACD,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAC1D,OAAO,KAAK,CAAC,QAAQ,EAAE;MACxB;;MAED,OAAO,CAAC,IAAI,CACV,uBAAA,CAAA,MAAA,CAAuB,OAAO,KAAK,EAAA,gDAAA,CAA6C,CACjF;MACD,OAAO,KAAK;IACd,CAAC;EAzLG;EAEJ,MAAA,CAAA,cAAA,CAAY,KAAc,CAAA,SAAA,EAAA,gBAAA,EAAA;IAA1B,GAAA,EAAA,eAAA;MACE,IAAM,aAAa,GAAG,IAAI,CAAC,eAAe,CACxC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CACnC;MACD,IAAM,aAAa,GAAG,IAAI,CAAC,eAAe,CACxC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CACnC;MACD,OAAO,UAAW,CAAA,MAAA,CAAA,aAAa,EAAQ,OAAA,CAAA,CAAA,MAAA,CAAA,aAAa,EAAA,GAAA,CAAG;KACxD;;;EAAA,CAAA,CAAA;EAEc,KAAc,CAAA,cAAA,GAA7B,UAA8B,eAAuB,EAAA;;IACnD,IAAI,OAAO,GAAG,KAAK;IACnB,IAAI,MAAM,GAAG,EAAE;IACf,IAAI,SAAS,GAAG,EAAE;IAClB,IAAI,YAAY,GACd,KAAK;IAEP,IAAM,MAAM,GAAG;MACb,GAAG,EAAE,EAAE;MACP,MAAM,EAAE,CAAA,CAAE;MACV,YAAY,EAAE;KACC;;MAEjB,KAAmB,IAAA,iBAAA,GAAA,QAAA,CAAA,eAAe,CAAA,EAAA,mBAAA,GAAA,iBAAA,CAAA,IAAA,EAAA,EAAE,CAAA,mBAAA,CAAA,IAAA,EAAA,mBAAA,GAAA,iBAAA,CAAA,IAAA,EAAA,EAAA;QAA/B,IAAM,IAAI,GAAA,mBAAA,CAAA,KAAA;QACb,IAAI,IAAI,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE;UAC7B,OAAO,GAAG,IAAI;UACd;QACD;QACD,IAAI,OAAO,EAAE;UACX,OAAO,GAAG,KAAK;UACf,MAAM,IAAI,IAAI;UACd;QACD;QACD,IAAI,YAAY,KAAK,KAAK,IAAI,IAAI,KAAK,GAAG,EAAE;UAC1C,YAAY,GAAG,eAAe;UAC9B,MAAM,CAAC,GAAG,GAAG,MAAM;UACnB,MAAM,GAAG,EAAE;UACX;QACD;QAED,IAAI,YAAY,KAAK,KAAK,IAAI,IAAI,KAAK,GAAG,EAAE;UAC1C,YAAY,GAAG,YAAY;UAC3B,MAAM,CAAC,GAAG,GAAG,MAAM;UACnB,MAAM,GAAG,EAAE;UACX;QACD;QAED,IAAI,YAAY,KAAK,eAAe,IAAI,IAAI,KAAK,GAAG,EAAE;UACpD,YAAY,GAAG,YAAY;UAC3B,MAAM,CAAC,YAAY,GAAG,MAAM;UAC5B,MAAM,GAAG,EAAE;UACX;QACD;QAED,IAAI,YAAY,KAAK,YAAY,IAAI,IAAI,KAAK,GAAG,EAAE;UACjD,YAAY,GAAG,aAAa;UAC5B,SAAS,GAAG,MAAM;UAClB,MAAM,GAAG,EAAE;UACX;QACD;QAED,IAAI,YAAY,KAAK,aAAa,IAAI,IAAI,KAAK,GAAG,EAAE;UAClD,YAAY,GAAG,YAAY;UAC3B,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,MAAM;UACjC,MAAM,GAAG,EAAE;UACX;QACD;QACD,MAAM,IAAI,IAAI;MACf;;;;;;;;;;;;IAED,IAAI,YAAY,KAAK,KAAK,EAAE;MAC1B,MAAM,CAAC,GAAG,GAAG,MAAM;IACpB;IAED,IAAI,YAAY,KAAK,eAAe,EAAE;MACpC,MAAM,CAAC,YAAY,GAAG,MAAM;IAC7B;IAED,IAAI,YAAY,KAAK,aAAa,EAAE;MAClC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,MAAM;IAClC;IAED,OAAO,MAAM;GACd;EAED,KAAM,CAAA,SAAA,CAAA,MAAA,GAAN,UAAO,IAAY,EAAA;IACjB,IAAM,WAAW,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC;IAEzD,IAAM,aAAa,GAA4B,EAAE;IAEjD,IAAI,OAAO,GAAG,KAAK;IAEnB,IAAI,KAAK;IACT,IAAI,KAAK,GAAG,CAAC;IACb,IAAI,MAAM,GAAG,EAAE;IACf,OAAO,CAAC,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE;MAChD,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC,CAAW;MACtB,IAAA,EAAA,GAAA,MAAqC,CAAA,KAK1C,EAAA,CAAA,CAAA;QALM,SAAS,GAAA,EAAA,CAAA,CAAA,CAAA;MAAG,EAAA,CAAA,CAAA,CAAA;MAAA,IAAE,OAAO,GAAA,EAAA,CAAA,CAAA,CAAA;QAAE,SAAS,GAAA,EAAA,CAAA,CAAA,CAAA;MAM/B,IAAA,KAAK,GAAY,KAAK,CAAA,KAAjB;QAAE,KAAK,GAAK,KAAK,CAAA,KAAV;MACpB,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,GAAG,KAAK,CAAC;MAC5C,KAAK,GAAG,KAAK,GAAG,SAAS,CAAC,MAAM;MAChC,IAAI,GAAG,KAAK,IAAI,EAAE;QAChB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE;UAC1C,MAAM,IAAI,OAAO;UACjB;QACD;QACD,GAAG,GAAG,EAAE;MACT;MACD,IAAM,UAAU,GAAG,IAAI,CAAC,yBAAyB,CAAC,SAAS,CAAC;MAC5D,aAAa,CAAC,IAAI,CAAC;QACjB,GAAG,EAAE,UAAU,CAAC,GAAG;QACnB,MAAM,EAAE,UAAU,CAAC,MAAM;QACzB,YAAY,EAAE,UAAU,CAAC;MAC1B,CAAA,CAAC;MACF,OAAO,GAAG,IAAI;MACd,MAAM,IAAI,GAAG,GAAG,UAAU,CAAC,UAAU;IACtC;IAED,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;IAE/B,IAAI,OAAO,EAAE;MACX,OAAO;QAAE,IAAI,EAAE,MAAM;QAAE,IAAI,EAAE;MAAa,CAAE;IAC7C;IAED,OAAO,SAAS;GACjB;EAEM,KAAA,CAAA,SAAA,CAAA,IAAI,GAAX,UACE,GAAW,EACX,MAA8B,EAC9B,YAA4C,EAAA;IAH9C,IAmBC,KAAA,GAAA,IAAA;IAjBC,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA;MAAA,MAA8B,GAAA,CAAA,CAAA;IAAA;IAC9B,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA;MAAA,YAA4C,GAAA,SAAA;IAAA;IAE5C,IAAI,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CACrC,GAAG,CACF,UAAC,EAAa,EAAA;MAAb,IAAA,EAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,CAAa;QAAZ,IAAI,GAAA,EAAA,CAAA,CAAA,CAAA;QAAE,KAAK,GAAA,EAAA,CAAA,CAAA,CAAA;MACX,OAAA,EAAG,CAAA,MAAA,CAAA,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAI,GAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAAC,WAAW,CAAC,KAAe,CAAC,CAAE;IAAhE,CAAgE,CACnE,CACA,IAAI,CAAC,GAAG,CAAC;IACZ,WAAW,GAAG,WAAW,CAAC,MAAM,GAAG,GAAI,CAAA,MAAA,CAAA,WAAW,CAAE,GAAG,EAAE;IAEzD,IAAM,aAAa,GACjB,YAAY,KAAK,SAAS,GAAG,GAAI,CAAA,MAAA,CAAA,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAE,GAAG,EAAE;IAExE,OAAO,EAAG,CAAA,MAAA,CAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAG,CAAA,MAAA,CAAA,IAAI,CAAC,WAAW,CAC7D,GAAG,CACJ,CAAA,CAAA,MAAA,CAAG,aAAa,CAAA,CAAA,MAAA,CAAG,WAAW,CAAA,CAAA,MAAA,CAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAE;GACvE;EAEO,KAAyB,CAAA,SAAA,CAAA,yBAAA,GAAjC,UACE,IAAY,EAAA;IAEN,IAAA,EAAA,GAAgC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC;MAAxD,GAAG,GAAA,EAAA,CAAA,GAAA;MAAE,MAAM,GAAA,EAAA,CAAA,MAAA;MAAE,YAAY,GAAA,EAAA,CAAA,YAA+B;IAChE,IAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CACzC,GAAG,EACH,MAAM,EACN,SAAS,EACT,KAAK,EACL,YAAY,CACb;IACD,OAAO;MAAE,UAAU,EAAA,UAAA;MAAE,GAAG,EAAA,GAAA;MAAE,MAAM,EAAA,MAAA;MAAE,YAAY,EAAA;IAAA,CAAE;GACjD;EAmBH,OAAC,KAAA;AAAD,CAAC,EAAA;AChMD,IAAA,aAAA,GAAA,aAAA,YAAA;EACE,SACU,WAAA,CAAA,WAA2B,EAC3B,YAA0B,EAC1B,UAAsB,EACtB,gBAAkC,EAClC,KAAY,EACZ,cAA8B,EAAA;IAL9B,IAAW,CAAA,WAAA,GAAX,WAAW;IACX,IAAY,CAAA,YAAA,GAAZ,YAAY;IACZ,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAgB,CAAA,gBAAA,GAAhB,gBAAgB;IAChB,IAAK,CAAA,KAAA,GAAL,KAAK;IACL,IAAc,CAAA,cAAA,GAAd,cAAc;IAEtB,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;MACjC,YAAY,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;MAChE,YAAY,CAAC,mBAAmB,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpE;EACF;EAEY,WAAa,CAAA,SAAA,CAAA,aAAA,GAA1B,UAA2B,MAAe,EAAA;;;;;YACxC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;;YAA1C,EAAA,CAAA,IAAA,EAA0C;YAC1C,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;;YAArC,EAAA,CAAA,IAAA,EAAqC;YACrC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;;YAAxC,EAAA,CAAA,IAAA,EAAwC;;;;;EACzC,CAAA;;EAEa,WAAA,CAAA,SAAA,CAAA,OAAO,GAArB,YAAA;;;;;;;YACQ,KAAK,GAAsB,UAAU,CAAC,QAAQ,CAClD,eAAe,EACf,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,CACrC;;;;YACkB,OAAA,GAAA,QAAA,CAAA,KAAK,CAAA,EAAA,SAAA,GAAA,OAAA,CAAA,IAAA,EAAA;;;;YAAb,IAAI,GAAA,SAAA,CAAA,KAAA;;;;YACU,EAAA,IAAA,GAAA,GAAA,KAAA,CAAA,EAAA,QAAA,CAAA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAA,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA;;;;YAA9B,QAAQ,GAAA,EAAA,CAAA,KAAA;YACF,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,CAAA;;YAAjE,MAAM,GAAG,EAAwD,CAAA,IAAA,EAAA;YACvE,IAAI,MAAM,EAAE;cACV,UAAU,CAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC;YAC9C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAGN,CAAA;;EACH,OAAC,WAAA;AAAD,CAAC,EAAA;ACxCD,IAAA,gBAAA,GAAA,aAAA,YAAA;EACE,SACU,cAAA,CAAA,UAAsB,EACtB,WAAwB,EAAA;IADxB,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAW,CAAA,WAAA,GAAX,WAAW;EACjB;EAEE,cAAM,CAAA,SAAA,CAAA,MAAA,GAAZ,UAAa,IAAU,EAAA;;;;;;YACf,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW;YAChD,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW;YAEhD,KAAK,GAAG,4CAA6C,CAAA,MAAA,CAAA,WAAW,EAAuB,sBAAA,CAAA,CAAA,MAAA,CAAA,WAAW,EAAA,KAAA,CAAK;YACvG,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC;YACxC,QAAQ,GAAW,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAe,CAAC;YAE3E,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAA;;YAA5C,EAAA,CAAA,IAAA,EAA4C;;;;;EAC7C,CAAA;;EACH,OAAC,cAAA;AAAD,CAAC,EAAA;ACfD,IAAA,cAAA,GAAA,aAAA,YAAA;EACE,SACU,cAAA,CAAA,gBAAkC,EAClC,WAAwB,EAAA;IADxB,IAAgB,CAAA,gBAAA,GAAhB,gBAAgB;IAChB,IAAW,CAAA,WAAA,GAAX,WAAW;EACjB;EAEE,cAAM,CAAA,SAAA,CAAA,MAAA,GAAZ,UAAa,IAAU,EAAA;;;;;QACf,KAAK,GAAG,2BAAA,CAAA,MAAA,CAA4B,kCAAkC,EAAA,GAAA,CAAG;QACzE,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC;QACxC,QAAQ,GAAc,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAC3D,KAAkB,CACnB;QACD,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAO,EAAA;UACvB,IAAM,eAAe,GAAG,WAAW,CAAC,iBAAiB,CAAC,OAAO,CAAC;UAC9D,eAAe,CAAC,OAAO,CAAC,yBAAyB,GAAG,OAAO,CAAC,YAAY,CACtE,kCAAkC,CACnC;UACD,eAAe,CAAC,OAAO,CAAC,iCAAiC,GACvD,OAAO,CAAC,SAAS;UACnB,KAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,eAAe,CAAC;QACjD,CAAC,CAAC;;;;EACH,CAAA;;EACH,OAAC,cAAA;AAAD,CAAC,EAAA;ACdD,IAAA,WAAA,GAAA,aAAA,YAAA;EAOE,SAAA,WAAA,CACE,YAA0B,EAC1B,UAAsB,EACtB,WAAwB,EACxB,gBAAkC,EAAA;IAElC,IAAI,CAAC,KAAK,GAAG,IAAIA,OAAK,CAAC,UAAU,EAAE,WAAW,CAAC;IAC/C,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,CAAC,UAAU,EAAE,gBAAgB,EAAE,IAAI,CAAC;IACtE,IAAI,CAAC,WAAW,GAAG,IAAIC,gBAAc,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC;IACnE,IAAI,CAAC,gBAAgB,GAAG,IAAIC,kBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC;IAC1E,IAAI,CAAC,cAAc,GAAG,IAAI,cAAc,CACtC,gBAAgB,EAChB,IAAI,CAAC,WAAW,CACjB;IACD,IAAI,CAAC,WAAW,GAAG,IAAIC,aAAW,CAChC,IAAI,CAAC,WAAW,EAChB,YAAY,EACZ,UAAU,EACV,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,cAAc,CACpB;EACF;EAEM,WAAU,CAAA,SAAA,CAAA,UAAA,GAAjB,UAAkB,IAAa,EAAA;IAC7B,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC;GACrC;EAEM,WAAa,CAAA,SAAA,CAAA,aAAA,GAApB,UAAqB,IAAa,EAAA;IAChC,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC;GAC5C;EAEM,WAAe,CAAA,SAAA,CAAA,eAAA,GAAtB,UAAuB,IAAa,EAAA;IAClC,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC;GAC1C;EAEM,WAAI,CAAA,SAAA,CAAA,IAAA,GAAX,UACE,GAAW,EACX,MAA8B,EAC9B,YAA4C,EAC5C,WAAmB,EAAA;IAFnB,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA;MAAA,MAA8B,GAAA,CAAA,CAAA;IAAA;IAC9B,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA;MAAA,YAA4C,GAAA,SAAA;IAAA;IAG5C,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,YAAY,CAAC;GAClD;EAEM,WAAM,CAAA,SAAA,CAAA,MAAA,GAAb,UAAc,IAAY,EAAA;IACxB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;GAC/B;EACH,OAAC,WAAA;AAAD,CAAC,EAAA;;ACpED;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA,SAAS,YAAY,GAAA,CAAA;AAErB,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,MAAM,EAAA;EAC9C,IAAM,MAAM,GAAG,EAAE;EACjB,IAAM,MAAM,GAAG,MAAM,CAAC,MAAM;EAC5B,IAAI,CAAC,GAAG,CAAC;EACT,OAAO,CAAC,GAAG,MAAM,EAAE;IACjB,IAAM,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;IACvC,IAAI,CAAC,GAAG,CAAC;IACT,IAAI,IAAI,GAAG,CAAC;IACZ,IAAI,SAAS,IAAI,UAAU,EAAE;MAC3B,CAAC,GAAG,CAAC;MACL,IAAI,GAAG,IAAI;IACZ,CAAA,MAAM,IAAI,SAAS,IAAI,UAAU,EAAE;MAClC,CAAC,GAAG,CAAC;MACL,IAAI,GAAG,IAAI;IACZ,CAAA,MAAM,IAAI,SAAS,IAAI,UAAU,EAAE;MAClC,CAAC,GAAG,EAAE;MACN,IAAI,GAAG,IAAI;IACZ,CAAA,MAAM,IAAI,SAAS,IAAI,UAAU,EAAE;MAClC,CAAC,GAAG,EAAE;MACN,IAAI,GAAG,IAAI;IACZ;IACD,MAAM,CAAC,IAAI,CAAC,IAAI,GAAI,SAAS,IAAI,CAAE,CAAC;IACpC,CAAC,IAAI,CAAC;IACN,OAAO,CAAC,IAAI,CAAC,EAAE;MACb,MAAM,CAAC,IAAI,CAAC,IAAI,GAAK,SAAS,IAAI,CAAC,GAAI,IAAK,CAAC;MAC7C,CAAC,IAAI,CAAC;IACP;IACD,CAAC,IAAI,SAAS,IAAI,OAAO,GAAG,CAAC,GAAG,CAAC;EAClC;EACD,OAAO,MAAM;AACf,CAAC;AAED,SAAS,YAAY,GAAA,CAAA;AAErB,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,MAAM,EAAA;EAC9C,IAAI,MAAM,GAAG,EAAE;EACf,IAAI,CAAC,GAAG,CAAC;EACT,OAAO,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE;IACxB,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC;IACrB,IAAI,WAAW,GAAG,CAAC;IACnB,IAAI,SAAS,GAAG,CAAC;IACjB,IAAI,KAAK,IAAI,IAAI,EAAE;MACjB,WAAW,GAAG,CAAC;MACf,SAAS,GAAG,KAAK,GAAG,IAAI;IACzB,CAAA,MAAM,IAAI,KAAK,IAAI,IAAI,EAAE;MACxB,WAAW,GAAG,CAAC;MACf,SAAS,GAAG,KAAK,GAAG,IAAI;IACzB,CAAA,MAAM,IAAI,KAAK,IAAI,IAAI,EAAE;MACxB,WAAW,GAAG,CAAC;MACf,SAAS,GAAG,KAAK,GAAG,IAAI;IACzB,CAAA,MAAM,IAAI,KAAK,IAAI,IAAI,EAAE;MACxB,WAAW,GAAG,CAAC;MACf,SAAS,GAAG,KAAK,GAAG,IAAI;IACzB;IACD,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,WAAW,GAAG,CAAC,EAAE;MACvC,IAAI,CAAC,GAAG,CAAC;MACT,OAAO,CAAC,GAAG,WAAW,EAAE;QACtB,KAAK,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACzB,SAAS,GAAI,SAAS,IAAI,CAAC,GAAK,KAAK,GAAG,IAAK;QAC7C,CAAC,IAAI,CAAC;MACP;IACF,CAAA,MAAM;MACL,SAAS,GAAG,MAAM;MAClB,WAAW,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC;IAChC;IACD,MAAM,IAAI,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC;IACzC,CAAC,IAAI,WAAW,GAAG,CAAC;EACrB;EACD,OAAO,MAAM;AACf,CAAC;AAEM,IAAM,OAAO,GAAI,OAAO,WAAW,KAAK,WAAW,GACtD,YAAY,GACZ,WAA6C;AAC1C,IAAM,OAAO,GAAI,OAAO,WAAW,KAAK,WAAW,GACtD,YAAY,GACZ,WAA6C;AC7F1C,IAAM,oBAAoB,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC;AAEjD,IAAM,eAAe,GAAG,MAAM,CACnC,IAAK,CAAA,MAAA,CAAA,oBAAoB,CAAC,IAAI,CAAC,EAAE,CAAC,EAAA,QAAA,CAAQ,EAC1C,IAAI,CACL;AAED,IAAM,OAAO,GAAG,SAAV,OAAO,CAAI,IAAY,EAAA;EAC3B,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,OAAO,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC/C,CAAC;AAED,IAAM,SAAS,GAAG,SAAZ,SAAS,CAAI,KAAK,EAAA;EACtB,OAAO,IAAI,OAAO,EAAE,CAAC,MAAM,CAAC,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC;AACpD,CAAC;AAED,IAAM,eAAe,GAAG,SAAlB,eAAe,CAAI,MAAc,EAAA;EACrC,IAAM,UAAU,GAAG,CAAC,GAAG,MAAM,CAAC,MAAM;EACpC,OAAO,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,MAAM;AACxC,CAAC;AAEM,IAAM,aAAa,GAAG,SAAhB,aAAa,CAAI,IAAY,EAAA;EACxC,IAAM,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;EACvC,IAAM,MAAM,GAAG,KAAK,CACjB,GAAG,CAAC,UAAC,IAAI,EAAA;IAAK,OAAA,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG;EAAA,CAAA,CAAC,CACtD,IAAI,CAAC,EAAE,CAAC;EAEX,IAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAC9B,GAAG,CAAC,UAAC,CAAC,EAAA;IAAK,OAAA,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EAAA,CAAA,CAAC,CAC3C,IAAI,CAAC,EAAE,CAAC;EAEX,OAAO,MAAM;AACf,CAAC;AAED,IAAM,aAAa,GAAG,SAAhB,aAAa,CAAI,OAAe,EAAA;EACpC,IAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAC/B,GAAG,CAAC,UAAC,SAAS,EAAA;IACb,OAAO,oBAAoB,CAAC,OAAO,CAAC,SAAS,CAAC;EAChD,CAAC,CAAC,CACD,GAAG,CAAC,MAAM,CAAC,CACX,IAAI,CAAC,EAAE,CAAC;EAEX,IAAM,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC;EACzC,IAAM,KAAK,GAAG,UAAU,CAAC,IAAI,CAC3B,SAAS,CAAC,GAAG,CAAC,UAAC,IAAI,EAAA;IAAK,OAAA,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;EAAA,CAAA,CAAC,CACvD;EACD,OAAO,SAAS,CAAC,KAAK,CAAC;AACzB,CAAC;AAEM,IAAM,cAAc,GAAG,SAAjB,cAAc,CAAI,IAAY,EAAA;;EACzC,IAAM,iBAAiB,GAAG,CAAA,EAAA,GAAA,IAAI,CAC3B,KAAK,CAAC,eAAe,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CACrB,MAAM,CAAC,UAAC,CAAC,EAAA;IAAK,OAAA,CAAC,CAAC,MAAM,GAAG,CAAX;EAAA,CAAY,CAAC;EAC/B,OAAO,CAAA,iBAAiB,KAAjB,IAAA,IAAA,iBAAiB,KAAjB,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,iBAAiB,CAAE,GAAG,CAAC,aAAa,CAAC,KAAI,EAAE;AACpD,CAAC;AAEM,IAAM,aAAa,GAAG,SAAhB,aAAa,CAAI,IAAY,EAAA;EACxC,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC;AAC1C,CAAC;AAEM,IAAM,kBAAkB,GAAG,SAArB,kBAAkB,CAAI,IAAY,EAAA;;EAC7C,IAAM,MAAM,GAAa,EAAE;;IAC3B,KAAwB,IAAA,MAAA,GAAA,QAAA,CAAA,IAAI,CAAA,EAAA,QAAA,GAAA,MAAA,CAAA,IAAA,EAAA,EAAE,CAAA,QAAA,CAAA,IAAA,EAAA,QAAA,GAAA,MAAA,CAAA,IAAA,EAAA,EAAA;MAAzB,IAAM,SAAS,GAAA,QAAA,CAAA,KAAA;MAClB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IACtC;;;;;;;;;;;;EACD,OAAO,MAAM;AACf,CAAC;AC9DD,IAAA,gBAAA,GAAA,aAAA,YAAA;EACE,SACU,gBAAA,CAAA,UAAsB,EACtB,WAAwB,EAAA;IADxB,IAAU,CAAA,UAAA,GAAV,UAAU;IACV,IAAW,CAAA,WAAA,GAAX,WAAW;EACjB;EAEE,gBAAM,CAAA,SAAA,CAAA,MAAA,GAAZ,UAAa,IAAa,EAAA;;;;;;;;YACQ,EAAA,GAAA,QAAA,CAAA,MAAM,CAAC,OAAO,CAC5C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,CACrC,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA;;;;YAFU,EAAA,GAAA,MAAA,CAAA,EAAA,CAAA,KAAA,EAAA,CAAA,CAAiB,EAAhB,GAAG,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,UAAU,GAAA,EAAA,CAAA,CAAA,CAAA;;;;YAGD,YAAA,IAAA,GAAA,GAAA,KAAA,CAAA,EAAA,QAAA,CAAA,UAAU,CAAA,CAAA,EAAA,cAAA,GAAA,YAAA,CAAA,IAAA,EAAA;;;;YAAvB,SAAS,GAAA,cAAA,CAAA,KAAA;YACZ,UAAU,GAAG,sBAAuB,CAAA,MAAA,CAAA,GAAG,EAAK,IAAA,CAAA,CAAA,MAAA,CAAA,SAAS,EAAiB,gBAAA,CAAA,CAAA,MAAA,CAAA,oBAAoB,CAAC,CAAC,CAAC,EAAA,KAAA,CAAK;YAClG,KAAK,GAAuB,UAAU,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC;YACvE,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;;YAAzC,EAAA,CAAA,IAAA,EAAyC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAG9C,CAAA;;EACH,OAAC,gBAAA;AAAD,CAAC,EAAA;ACtBD,IAAA,WAAA,GAAA,aAAA,YAAA;EAAA,SAAA,WAAA,GAAA;IACU,IAAM,CAAA,MAAA,GAAa,EAAE;EAc9B;EAZQ,WAAa,CAAA,SAAA,CAAA,aAAA,GAApB,UAAqB,GAAW,EAAA;IAC9B,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;IACpC,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;MAC1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;IACtB;IACD,OAAO,KAAK;GACb;EAEM,WAAa,CAAA,SAAA,CAAA,aAAA,GAApB,UAAqB,GAAW,EAAA;IAC9B,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;GACxB;EACH,OAAC,WAAA;AAAD,CAAC,EAAA;ACDD,IAAA,KAAA,GAAA,aAAA,YAAA;EAAA,SAAA,KAAA,GAAA;IACU,IAAA,CAAA,SAAS,GAAG,IAAI,WAAW,EAAE;IAC7B,IAAA,CAAA,aAAa,GAAG,IAAI,WAAW,EAAE;EAgD1C;EA9CC,KAAM,CAAA,SAAA,CAAA,MAAA,GAAN,UAAO,IAAY,EAAA;IAAnB,IAwBC,KAAA,GAAA,IAAA;IAvBC,IAAM,aAAa,GAAG,EAAoB;IAC1C,IAAM,QAAQ,GAAG,cAAc,CAAC,IAAI,CAAC;IAErC,QAAQ,CAAC,OAAO,CAAC,UAAC,GAAG,EAAA;MACb,IAAA,EAAA,GAAA,MAAA,CAAyB,kBAAkB,CAAC,GAAG,CAAC,EAAA,CAAA,CAAA;QAA/C,OAAO,GAAA,EAAA,CAAA,CAAA,CAAA;QAAE,WAAW,GAAA,EAAA,CAAA,CAAA,CAA2B;MACtD,IAAM,GAAG,GAAG,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC;MACjD,IAAM,YAAY,GAChB,WAAW,KAAK,SAAS,GACrB,KAAI,CAAC,aAAa,CAAC,aAAa,CAAC,WAAW,CAAC,GAC7C,SAAS;MACf,aAAa,CAAC,IAAI,CAAC;QACjB,GAAG,EAAE,GAAG;QACR,MAAM,EAAE,SAAS;QACjB,YAAY,EAAA;MACb,CAAA,CAAC;IACJ,CAAC,CAAC;IAEF,IAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC;IAElC,IAAI,aAAa,CAAC,MAAM,EAAE;MACxB,OAAO;QAAE,IAAI,EAAE,MAAM;QAAE,IAAI,EAAE;MAAa,CAAE;IAC7C;IACD,OAAO,SAAS;GACjB;EAEM,KAAI,CAAA,SAAA,CAAA,IAAA,GAAX,UACE,GAAW,EACX,OAAwC,EACxC,YAA4C,EAC5C,WAAmD,EAAA;IADnD,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA;MAAA,YAA4C,GAAA,SAAA;IAAA;IAC5C,IAAA,WAAA,KAAA,KAAA,CAAA,EAAA;MAAA,WAAmD,GAAA,SAAA;IAAA;IAEnD,IAAM,KAAK,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;IACjD,IAAI,YAAY,EAAE;MAChB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IAC3D;IAED,IAAM,KAAK,GAAG,WAAW,IAAI,EAAE;IAC/B,IAAM,aAAa,GAAG,aAAa,CAAC,MAAM,CAAC,aAAa,CAAA,KAAA,CAApB,MAAM,EAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CAAkB,KAAK,CAAA,EAAA,KAAA,CAAA,CAAA,CAAE;IAEnE,OAAO,OAAO,KAAK,KAAK,QAAQ,GAC5B,KAAK,GAAG,aAAa,GACrB,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAChB,aAAA,CAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CAAA,KAAK,CAAE,EAAA,KAAA,CAAA,EAAA,CAAA,aAAa,CAC1B,EAAA,KAAA,CAAA,GAAE,CAAC,KAAK,EAAE,aAAa,CAAC;GAC3B;EACH,OAAC,KAAA;AAAD,CAAC,EAAA;AC5DD,IAAA,WAAA,GAAA,aAAA,YAAA;EACE,SAAA,WAAA,CACU,WAA2B,EAC3B,gBAAkC,EAClC,cAA8B,EAAA;IAF9B,IAAW,CAAA,WAAA,GAAX,WAAW;IACX,IAAgB,CAAA,gBAAA,GAAhB,gBAAgB;IAChB,IAAc,CAAA,cAAA,GAAd,cAAc;EACpB;EAES,WAAa,CAAA,SAAA,CAAA,aAAA,GAA1B,UAA2B,MAAe,EAAA;;;;;YACxC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;;YAA1C,EAAA,CAAA,IAAA,EAA0C;YAC1C,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;;YAArC,EAAA,CAAA,IAAA,EAAqC;YACrC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;;YAAxC,EAAA,CAAA,IAAA,EAAwC;;;;;EACzC,CAAA;;EACH,OAAC,WAAA;AAAD,CAAC,EAAA;ACZD,IAAA,cAAA,GAAA,aAAA,YAAA;EACE,SAAA,cAAA,CAAoB,WAAwB,EAAA;IAAxB,IAAW,CAAA,WAAA,GAAX,WAAW;EAAiB;EAE1C,cAAM,CAAA,SAAA,CAAA,MAAA,GAAZ,UAAa,IAAU,EAAA;;;;;;YACf,KAAK,GAAG,4CAA6C,CAAA,MAAA,CAAA,oBAAoB,CAAC,CAAC,CAAC,EAAA,KAAA,CAAK;YACjF,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC;YACxC,QAAQ,GAAW,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAe,CAAC;YAE3E,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAA;;YAA5C,EAAA,CAAA,IAAA,EAA4C;;;;;EAC7C,CAAA;;EACH,OAAC,cAAA;AAAD,CAAC,EAAA;ACHD,IAAA,gBAAA,GAAA,aAAA,YAAA;EAOE,SAAY,gBAAA,CAAA,UAAsB,EAAE,gBAAkC,EAAA;IACpE,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE;IACxB,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,CAAC,UAAU,EAAE,gBAAgB,EAAE,IAAI,CAAC;IACtE,IAAI,CAAC,WAAW,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC;IACvD,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC;IAC1E,IAAI,CAAC,cAAc,GAAG,IAAI,cAAc,CACtC,gBAAgB,EAChB,IAAI,CAAC,WAAW,CACjB;IACD,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,CAChC,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,cAAc,CACpB;EACF;EAEM,gBAAU,CAAA,SAAA,CAAA,UAAA,GAAjB,UAAkB,IAAa,EAAA;IAC7B,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC;GACrC;EAEM,gBAAa,CAAA,SAAA,CAAA,aAAA,GAApB,UAAqB,IAAa,EAAA;IAChC,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC;GAC5C;EAEM,gBAAe,CAAA,SAAA,CAAA,eAAA,GAAtB,UAAuB,IAAa,EAAA;IAClC,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC;GAC1C;EAEM,gBAAI,CAAA,SAAA,CAAA,IAAA,GAAX,UACE,GAAW,EACX,MAA8B,EAC9B,YAA4C,EAC5C,WAAgB,EAAA;IAFhB,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA;MAAA,MAA8B,GAAA,CAAA,CAAA;IAAA;IAC9B,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA;MAAA,YAA4C,GAAA,SAAA;IAAA;IAC5C,IAAA,WAAA,KAAA,KAAA,CAAA,EAAA;MAAA,WAAgB,GAAA,EAAA;IAAA;IAEhB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,CAAC;GAC/D;EAEM,gBAAM,CAAA,SAAA,CAAA,MAAA,GAAb,UAAc,IAAY,EAAA;IACxB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;GAC/B;EACH,OAAC,gBAAA;AAAD,CAAC,EAAA;ACrCD,IAAA,iBAAA,GAAA,aAAA,YAAA;EAgDE,SAAA,iBAAA,GAAA;IAAA,IAEC,KAAA,GAAA,IAAA;IAjDM,IAAA,CAAA,UAAU,GAAe,IAAI,UAAU,EAAE;IACzC,IAAA,CAAA,YAAY,GAAiB,IAAI,YAAY,EAAE;IAC/C,IAAc,CAAA,cAAA,GAAmB,IAAI,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC;IACpE,IAAA,CAAA,iBAAiB,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC;IAC/C,IAAA,CAAA,aAAa,GAAG,IAAI,aAAa,EAAE;IACnC,IAAA,CAAA,WAAW,GAAgB,IAAI,WAAW,CAC/C,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,cAAc,CACpB;IACM,IAAA,CAAA,iBAAiB,GAAG,IAAI,iBAAiB,CAC9C,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,cAAc,CACpB;IACM,IAAkB,CAAA,kBAAA,GAAuB,IAAI,kBAAkB,CACpE,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,YAAY,CAClB;IACM,IAAA,CAAA,WAAW,GAAgB,IAAI,WAAW,CAC/C,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,aAAa,CACnB;IAEM,IAA4B,CAAA,4BAAA,GAAG,IAAI,6BAA6B,CACrE,IAAI,CAAC,UAAU,CAChB;IAEM,IAAA,CAAA,sBAAsB,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC;IAEzD,IAAA,CAAA,gBAAgB,GAAqB,IAAI,gBAAgB,CAC9D,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,sBAAsB,EAC3B,IAAI,CAAC,YAAY,CAClB;IAEM,IAAA,CAAA,QAAQ,GAAa,IAAI,QAAQ,EAAE;IAEnC,IAAa,CAAA,aAAA,GAAkB,IAAI,aAAa,CACrD,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,gBAAgB,EACrB,IAAI,CAAC,kBAAkB,CACxB;IAoCD,IAAA,CAAA,GAAG,GAAG,YAAA;MACJ,KAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE;IAC9B,CAAC;IAED,IAAA,CAAA,IAAI,GAAG,YAAA;MACL,KAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;MAC7B,KAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE;MAChC,KAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE;MAC7B,UAAU,CAAC,4BAA4B,CACrC,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,CACrC;IACH,CAAC;IA5CC,IAAI,CAAC,sBAAsB,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa;EAC/D;EAKD,iBAAI,CAAA,SAAA,CAAA,IAAA,GAAJ,UAAK,MAAoB,EAAA;IACvB,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;MAC1B,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC;IACtD;IACD,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,MAAM,CAAC;IACjD,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,KAAK,WAAW,EAAE;MACtD,IAAI,CAAC,OAAO,GAAG,IAAI,gBAAgB,CACjC,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,gBAAgB,CACtB;IACF,CAAA,MAAM;MACL,IAAI,CAAC,OAAO,GAAG,IAAI,WAAW,CAC5B,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,gBAAgB,CACtB;IACF;IAED,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAC1B,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,gBAAgB,CACtB;IACD,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE;GACrC;EAcH,OAAC,iBAAA;AAAD,CAAC,EAAA;ACpGD,IAAA,MAAA,GAAA,aAAA,YAAA;EAGE,SAAA,MAAA,GAAA;IAAA,IAEC,KAAA,GAAA,IAAA;IAkTM,IAAA,CAAA,IAAI,GAAG,YAAA;MACZ,KAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE;IAC/B,CAAC;IArTC,IAAI,CAAC,iBAAiB,GAAG,IAAI,iBAAiB,EAAE;EACjD;EAED,MAAA,CAAA,cAAA,CAAI,MAAU,CAAA,SAAA,EAAA,YAAA,EAAA;IAAd,GAAA,EAAA,eAAA;MACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU;KACzC;;;EAAA,CAAA,CAAA;EAED,MAAA,CAAA,cAAA,CAAW,MAAI,CAAA,SAAA,EAAA,MAAA,EAAA;IAAf,GAAA,EAAA,eAAA;MACE,OAAO,IAAI,CAAC,UAAU,CAAC,eAAe;KACvC;IAED;;;;;;;AAOG;IACH,GAAA,EAAA,aAAgB,WAAW,EAAA;MAA3B,IAQC,KAAA,GAAA,IAAA;MAPC,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,WAAW;MAE7C,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CACtC,gBAAgB,CAAC,WAAW,CAAC,CAC7B,IAAI,CAAC,YAAA;QACJ,KAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC;MACvC,CAAC,CAAC;KACL;;;EAlBA,CAAA,CAAA;EAoBD,MAAA,CAAA,cAAA,CAAW,MAAe,CAAA,SAAA,EAAA,iBAAA,EAAA;IAA1B,GAAA,EAAA,eAAA;MACE,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,eAAe;KAC9C;;;EAAA,CAAA,CAAA;EAED,MAAA,CAAA,cAAA,CAAW,MAAY,CAAA,SAAA,EAAA,cAAA,EAAA;IAAvB,GAAA,EAAA,eAAA;MACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,gBAAgB;KAC5D;;;EAAA,CAAA,CAAA;EAED,MAAA,CAAA,cAAA,CAAW,MAAmB,CAAA,SAAA,EAAA,qBAAA,EAAA;IAA9B,GAAA,EAAA,eAAA;MACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,mBAAmB;KAC/D;;;EAAA,CAAA,CAAA;EAKD,MAAA,CAAA,cAAA,CAAW,MAAY,CAAA,SAAA,EAAA,cAAA,EAAA;IAHvB;;AAEG;IACH,GAAA,EAAA,eAAA;MACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,eAAe;KAC3D;;;EAAA,CAAA,CAAA;EAQD,MAAA,CAAA,cAAA,CAAI,MAAc,CAAA,SAAA,EAAA,gBAAA,EAAA;IANlB;;;;;AAKG;IACH,GAAA,EAAA,eAAA;;MACE,IAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe;MACnD,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,gBAAgB;MAC5D,IAAM,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,eAAe;MACjE,IAAM,oBAAoB,GAAG,SAAvB,oBAAoB,CAAI,IAAU,EAAA;QACtC,OAAO,IAAI,KAAK,SAAS,IAAI,OAAO,IAAI,KAAK,UAAU;MACzD,CAAC;MAED,OACE,CAAC,oBAAoB,CAAC,CAAA,EAAA,GAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,MAAG,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,WAAW,CAAC,CAAC,IACtE,CAAC,CAAC,kBAAkB,IACnB,CAAC,oBAAoB,CACnB,CAAA,EAAA,GAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAG,YAAY,CAAC,CACjD;KAEP;;;EAAA,CAAA,CAAA;EAED,MAAA,CAAA,cAAA,CAAY,MAAW,CAAA,SAAA,EAAA,aAAA,EAAA;IAAvB,GAAA,EAAA,eAAA;MACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,WAAW;KAC1C;;;EAAA,CAAA,CAAA;EAEM,MAAG,CAAA,GAAA,GAAV,UAAW,MAAoB,EAAA;IAC7B,OAAO,IAAI,MAAM,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC;GAChC;EAEM,MAAI,CAAA,IAAA,GAAX,UAAY,MAAoB,EAAA;IAC9B,OAAO,IAAI,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC;GACjC;EAED;;;;;;;AAOG;EACU,MAAc,CAAA,SAAA,CAAA,cAAA,GAA3B,UAA4B,WAAmB,EAAA;;;;;YAC7C,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,gBAAgB,CAC9D,WAAW,CACZ,CAAA;;YAFD,EAAA,CAAA,IAAA,EAEC;YACD,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,WAAW;YAC7C,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC;;;;;EACtC,CAAA;;EAED,MAAG,CAAA,SAAA,CAAA,GAAA,GAAH,UAAI,MAAoB,EAAA;IACtB,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC;IACtD,OAAO,IAAI;GACZ;EAED,MAAI,CAAA,SAAA,CAAA,IAAA,GAAJ,UAAK,MAAoB,EAAA;IACvB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC;IAC7B,IAAA,EAAqB,GAAA,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,MAAM;MAA3D,MAAM,GAAA,EAAA,CAAA,MAAA;MAAE,MAAM,GAAA,EAAA,CAAA,MAA6C;IACnE,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,GACpC,MAAM,IAAI,MAAM,GAAG,aAAa,GAAG,YAAY;IAEjD,OAAO,IAAI;GACZ;EAEY,MAAA,CAAA,SAAA,CAAA,GAAG,GAAhB,YAAA;;;;;;YACE,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE;kBACxB,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,aAAa,CAAA,EAAtC,OAAsC,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;;;;YAEtC,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAA;;YAA1C,EAAA,CAAA,IAAA,EAA0C;;;;;YAG1C,OAAO,CAAC,KAAK,CAAC,4BAA4B,CAAC;;YAE3C,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC;YAChB,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,YAAY;;;YAIvC,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,CAAA;;YAAlE,EAAA,CAAA,IAAA,EAAkE;YAClE,OAAM,CAAA,CAAA,CAAA,WAAA,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,GAAG,EAAE,CAAA;;YAAhD,EAAA,CAAA,IAAA,EAAgD;YAE5C,IAAA,CAAA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,eAAe,EAAtC,OAAsC,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YACxC,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,gBAAgB,CAC9D,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,gBAAgB,CACxC,CAAA;;YAFD,EAAA,CAAA,IAAA,EAEC;;UAGH,KAAA,CAAA;YAAA,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,OAAO,EAAE,CAAA;;YAApB,EAAA,CAAA,IAAA,EAAoB;YAEpB,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE;cAChC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,OAAO,EAAE;YAC1C;;;;;EACF,CAAA;;EAEY,MAAA,CAAA,SAAA,CAAA,OAAO,GAApB,YAAA;;;QACE,OAAA,CAAA,CAAA,CAAA,YAAO,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,aAAa,CACjD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,CACrC,CAAC;;;EACH,CAAA;EAkBK,MAAS,CAAA,SAAA,CAAA,SAAA,GAAf,UACE,UAA4C,EAC5C,MAAuC,EACvC,MAAc,EACd,YAA4C,EAAA;IAF5C,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA;MAAA,MAAuC,GAAA,CAAA,CAAA;IAAA;IACvC,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA;MAAA,MAAc,GAAA,KAAA;IAAA;IACd,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA;MAAA,YAA4C,GAAA,SAAA;IAAA;;;;;;YAEtC,GAAG,GAAG,OAAO,UAAU,KAAK,QAAQ,GAAG,UAAU,GAAG,UAAU,CAAC,GAAG;YACpE,OAAO,GAAG,SAAS;YACvB,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;cAC5B,KAAK,GAAG,UAA4B;;;cAG1C,MAAM,GAAG,KAAK,CAAC,MAAM,KAAK,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG,MAAM;cAC3D,MAAM,GAAG,KAAK,CAAC,MAAM,KAAK,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG,MAAM;cAC3D,YAAY,GACV,KAAK,CAAC,YAAY,KAAK,SAAS,GAAG,KAAK,CAAC,YAAY,GAAG,YAAY;cACtE,OAAO,GAAG,KAAK,CAAC,OAAO;YACxB;YAEmB,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,SAAS,CACpE,GAAG,EACH,MAAM,EACN,SAAS,EACT,OAAO,EACP,YAAY,CACb,CAAA;;YANK,WAAW,GAAG,EAMnB,CAAA,IAAA,EAAA;YAEG,IAAA,EAAA,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,aAAa,IAAI,CAAC,MAAM,CAAA,EAAjD,OAAiD,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;YACnD,OAAA,CAAA,CAAA,CAAA,WAAM,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAA;;YAA1C,EAAA,CAAA,IAAA,EAA0C;YAC1C,OAAA,CAAA,CAAA,CAAA,YAAO,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,IAAI,CACxC,GAAG,EACH,MAAM,EACN,YAAY,EACZ,WAAW,CACZ,CAAC;UAGJ,KAAA,CAAA;YAAA,OAAA,CAAA,CAAA,CAAA,YAAO,WAAW,CAAC;QAAA;;;EACpB,CAAA;EAeD,MAAI,CAAA,SAAA,CAAA,IAAA,GAAJ,UACE,GAAW,EACX,MAAY,EACZ,YAAiC,EACjC,WAAkC,EAAA;IAElC,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,aAAa,EAAE;MAC1C,OAAO,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,IAAI,CACxC,GAAG,EACH,MAAM,EACN,YAAY,EACZ,WAAW,CACZ;IACF,CAAA,MAAM;MACL,OAAO,WAAW,IAAI,YAAY;IACnC;GACF;EAoBD,MAAO,CAAA,SAAA,CAAA,OAAA,GAAP,UACE,UAA0C,EAC1C,MAA8B,EAC9B,MAAc,EACd,OAAiB,EACjB,YAAqB,EAAA;IAHrB,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA;MAAA,MAA8B,GAAA,CAAA,CAAA;IAAA;IAC9B,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA;MAAA,MAAc,GAAA,KAAA;IAAA;IAId,IAAM,GAAG,GAAG,OAAO,UAAU,KAAK,QAAQ,GAAG,UAAU,GAAG,UAAU,CAAC,GAAG;IACxE,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;MAClC,IAAM,KAAK,GAAG,UAA0B;;;MAGxC,MAAM,GAAG,KAAK,CAAC,MAAM,KAAK,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG,MAAM;MAC3D,MAAM,GAAG,KAAK,CAAC,MAAM,KAAK,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG,MAAM;MAC3D,YAAY,GACV,KAAK,CAAC,YAAY,KAAK,SAAS,GAAG,KAAK,CAAC,YAAY,GAAG,YAAY;MACtE,OAAO,GAAG,KAAK,CAAC,OAAO,KAAK,SAAS,GAAG,KAAK,CAAC,OAAO,GAAG,OAAO;IAChE;IAED,IAAM,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,OAAO,CAC5D,GAAG,EACH,MAAM,EACN,SAAS,EACT,OAAO,EACP,YAAY,CACb;IAED,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,aAAa,IAAI,CAAC,MAAM,EAAE;MACrD,OAAO,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,IAAI,CACxC,GAAG,EACH,MAAM,EACN,YAAY,EACZ,WAAW,CACZ;IACF;IACD,OAAO,WAAW;GACnB;EAED;;AAEG;EACI,MAAA,CAAA,SAAA,CAAA,qBAAqB,GAA5B,YAAA;IACE,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,qBAAqB,EAAE;GACzE;EAED;;;AAGG;EACI,MAAgB,CAAA,SAAA,CAAA,gBAAA,GAAvB,UAAwB,IAAY,EAAA;IAClC,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,IAAI,CAAC;GACxE;EAMO,MAAmB,CAAA,SAAA,CAAA,mBAAA,GAA3B,UAA4B,KAAa,EAAA;IACvC,IAAM,kBAAkB,GAAG,IAAI,CAAC,YAAqC;IACrE,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC;GAC/B;EACH,OAAC,MAAA;AAAD,CAAC,EAAA;AC9UM,IAAI,SAAS;AACpB,CAAC,UAAU,SAAS,EAAE;EACtB;EACI,SAAS,CAAC,SAAS,CAAC,+BAA+B,CAAC,GAAG,CAAC,CAAC,GAAG,+BAA+B;EAC/F;EACI,SAAS,CAAC,SAAS,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,GAAG,gBAAgB;EACjE;EACI,SAAS,CAAC,SAAS,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC,GAAG,oBAAoB;EACzE;EACI,SAAS,CAAC,SAAS,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC,GAAG,sBAAsB;EAC7E;EACI,SAAS,CAAC,SAAS,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC,GAAG,uBAAuB;EAC/E;EACI,SAAS,CAAC,SAAS,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC,GAAG,uBAAuB;EAC/E;EACI,SAAS,CAAC,SAAS,CAAC,yBAAyB,CAAC,GAAG,CAAC,CAAC,GAAG,yBAAyB;EACnF;EACI,SAAS,CAAC,SAAS,CAAC,4BAA4B,CAAC,GAAG,CAAC,CAAC,GAAG,4BAA4B;EACzF;EACI,SAAS,CAAC,SAAS,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC,GAAG,wBAAwB;EACjF;EACI,SAAS,CAAC,SAAS,CAAC,2BAA2B,CAAC,GAAG,EAAE,CAAC,GAAG,2BAA2B;EACxF;EACI,SAAS,CAAC,SAAS,CAAC,kCAAkC,CAAC,GAAG,EAAE,CAAC,GAAG,kCAAkC;EACtG;EACI,SAAS,CAAC,SAAS,CAAC,gCAAgC,CAAC,GAAG,EAAE,CAAC,GAAG,gCAAgC;EAClG;EACI,SAAS,CAAC,SAAS,CAAC,qCAAqC,CAAC,GAAG,EAAE,CAAC,GAAG,qCAAqC;EAC5G;EACI,SAAS,CAAC,SAAS,CAAC,sCAAsC,CAAC,GAAG,EAAE,CAAC,GAAG,sCAAsC;EAC9G;EACI,SAAS,CAAC,SAAS,CAAC,iCAAiC,CAAC,GAAG,EAAE,CAAC,GAAG,iCAAiC;EACpG;EACI,SAAS,CAAC,SAAS,CAAC,iCAAiC,CAAC,GAAG,EAAE,CAAC,GAAG,iCAAiC;EACpG;EACI,SAAS,CAAC,SAAS,CAAC,0CAA0C,CAAC,GAAG,EAAE,CAAC,GAAG,0CAA0C;EACtH;AACA;AACA;AACA;EACI,SAAS,CAAC,SAAS,CAAC,0CAA0C,CAAC,GAAG,EAAE,CAAC,GAAG,0CAA0C;EACtH;EACI,SAAS,CAAC,SAAS,CAAC,kCAAkC,CAAC,GAAG,EAAE,CAAC,GAAG,kCAAkC;EACtG;AACA;AACA;AACA;EACI,SAAS,CAAC,SAAS,CAAC,oCAAoC,CAAC,GAAG,EAAE,CAAC,GAAG,oCAAoC;EAC1G;AACA;AACA;EACI,SAAS,CAAC,SAAS,CAAC,oCAAoC,CAAC,GAAG,EAAE,CAAC,GAAG,oCAAoC;EAC1G;EACI,SAAS,CAAC,SAAS,CAAC,sBAAsB,CAAC,GAAG,EAAE,CAAC,GAAG,sBAAsB;EAC9E;EACI,SAAS,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,GAAG,aAAa;EAC5D;EACI,SAAS,CAAC,SAAS,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC,GAAG,kBAAkB;EACtE;EACI,SAAS,CAAC,SAAS,CAAC,uBAAuB,CAAC,GAAG,EAAE,CAAC,GAAG,uBAAuB;EAChF;EACI,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,GAAG,cAAc;AAC9D,CAAC,EAAE,SAAS,KAAK,SAAS,GAAG,CAAA,CAAE,CAAC,CAAC;AC9D1B,IAAI,IAAI;AACf,CAAC,UAAU,IAAI,EAAE;EACjB;AACA;AACA;EACI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS;EACzC;AACA;AACA;EACI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU;EAC3C;AACA;AACA;EACI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ;EACvC;AACA;AACA;EACI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM;EACnC;AACA;AACA;EACI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM;EACnC;AACA;AACA;EACI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ;EACvC;AACA;AACA;EACI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ;EACvC;AACA;AACA;AACA;EACI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO;EACrC;AACA;AACA;EACI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK;AACjC,CAAC,EAAE,IAAI,KAAK,IAAI,GAAG,CAAA,CAAE,CAAC,CAAC;AAChB,IAAI,aAAa;AACxB,CAAC,UAAU,aAAa,EAAE;EACtB,aAAa,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ;EACrD,aAAa,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU;AAC7D,CAAC,EAAE,aAAa,KAAK,aAAa,GAAG,CAAA,CAAE,CAAC,CAAC;AACzC;AACA;AACA;AACO,SAAS,gBAAgB,CAAC,EAAE,EAAE;EACjC,OAAO,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,OAAO;AACnC;AACO,SAAS,iBAAiB,CAAC,EAAE,EAAE;EAClC,OAAO,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ;AACpC;AACO,SAAS,eAAe,CAAC,EAAE,EAAE;EAChC,OAAO,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM;AAClC;AACO,SAAS,aAAa,CAAC,EAAE,EAAE;EAC9B,OAAO,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;AAChC;AACO,SAAS,aAAa,CAAC,EAAE,EAAE;EAC9B,OAAO,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;AAChC;AACO,SAAS,eAAe,CAAC,EAAE,EAAE;EAChC,OAAO,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM;AAClC;AACO,SAAS,eAAe,CAAC,EAAE,EAAE;EAChC,OAAO,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM;AAClC;AACO,SAAS,cAAc,CAAC,EAAE,EAAE;EAC/B,OAAO,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK;AACjC;AACO,SAAS,YAAY,CAAC,EAAE,EAAE;EAC7B,OAAO,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,GAAG;AAC/B;AACO,SAAS,gBAAgB,CAAC,EAAE,EAAE;EACjC,OAAO,CAAC,EAAE,EAAE,IAAI,OAAO,EAAE,KAAK,QAAQ,IAAI,EAAE,CAAC,IAAI,KAAK,aAAa,CAAC,MAAM,CAAC;AAC/E;AACO,SAAS,kBAAkB,CAAC,EAAE,EAAE;EACnC,OAAO,CAAC,EAAE,EAAE,IAAI,OAAO,EAAE,KAAK,QAAQ,IAAI,EAAE,CAAC,IAAI,KAAK,aAAa,CAAC,QAAQ,CAAC;AACjF;;AChFA;AACO,IAAI,qBAAqB,GAAG,8CAA8C;;ACDjF;AACA;AACA;AACA;AACA;AACA,IAAI,eAAe,GAAG,2KAA2K;AACjM;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,qBAAqB,CAAC,QAAQ,EAAE;EAC5C,IAAI,MAAM,GAAG,CAAA,CAAE;EACf,QAAQ,CAAC,OAAO,CAAC,eAAe,EAAE,UAAU,KAAK,EAAE;IAC/C,IAAI,GAAG,GAAG,KAAK,CAAC,MAAM;IACtB,QAAQ,KAAK,CAAC,CAAC,CAAC;MACxB;MACY,KAAK,GAAG;QACJ,MAAM,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,QAAQ,GAAG,OAAO;QAChE;MAChB;MACY,KAAK,GAAG;QACJ,MAAM,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,GAAG,SAAS,GAAG,SAAS;QAC/C;MACJ,KAAK,GAAG;MACR,KAAK,GAAG;MACR,KAAK,GAAG;MACR,KAAK,GAAG;QACJ,MAAM,IAAI,UAAU,CAAC,8DAA8D,CAAC;MACpG;MACY,KAAK,GAAG;MACR,KAAK,GAAG;QACJ,MAAM,IAAI,UAAU,CAAC,4CAA4C,CAAC;MAClF;MACY,KAAK,GAAG;MACR,KAAK,GAAG;QACJ,MAAM,CAAC,KAAK,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QACzE;MAChB;MACY,KAAK,GAAG;MACR,KAAK,GAAG;QACJ,MAAM,IAAI,UAAU,CAAC,yCAAyC,CAAC;MACnE,KAAK,GAAG;QACJ,MAAM,CAAC,GAAG,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC5C;MACJ,KAAK,GAAG;MACR,KAAK,GAAG;MACR,KAAK,GAAG;QACJ,MAAM,IAAI,UAAU,CAAC,2DAA2D,CAAC;MACjG;MACY,KAAK,GAAG;QACJ,MAAM,CAAC,OAAO,GAAG,GAAG,KAAK,CAAC,GAAG,OAAO,GAAG,GAAG,KAAK,CAAC,GAAG,QAAQ,GAAG,OAAO;QACrE;MACJ,KAAK,GAAG;QACJ,IAAI,GAAG,GAAG,CAAC,EAAE;UACT,MAAM,IAAI,UAAU,CAAC,+CAA+C,CAAC;QACzF;QACgB,MAAM,CAAC,OAAO,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC9D;MACJ,KAAK,GAAG;QACJ,IAAI,GAAG,GAAG,CAAC,EAAE;UACT,MAAM,IAAI,UAAU,CAAC,+CAA+C,CAAC;QACzF;QACgB,MAAM,CAAC,OAAO,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC9D;MAChB;MACY,KAAK,GAAG;QAAA;QACJ,MAAM,CAAC,MAAM,GAAG,IAAI;QACpB;MACJ,KAAK,GAAG,CAAC,CAAA;MACT,KAAK,GAAG;QAAA;QACJ,MAAM,IAAI,UAAU,CAAC,4DAA4D,CAAC;MAClG;MACY,KAAK,GAAG;QACJ,MAAM,CAAC,SAAS,GAAG,KAAK;QACxB,MAAM,CAAC,IAAI,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC7C;MACJ,KAAK,GAAG;QACJ,MAAM,CAAC,SAAS,GAAG,KAAK;QACxB,MAAM,CAAC,IAAI,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC7C;MACJ,KAAK,GAAG;QACJ,MAAM,CAAC,SAAS,GAAG,KAAK;QACxB,MAAM,CAAC,IAAI,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC7C;MACJ,KAAK,GAAG;QACJ,MAAM,CAAC,SAAS,GAAG,KAAK;QACxB,MAAM,CAAC,IAAI,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC7C;MACJ,KAAK,GAAG;MACR,KAAK,GAAG;MACR,KAAK,GAAG;QACJ,MAAM,IAAI,UAAU,CAAC,kEAAkE,CAAC;MACxG;MACY,KAAK,GAAG;QACJ,MAAM,CAAC,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC/C;MAChB;MACY,KAAK,GAAG;QACJ,MAAM,CAAC,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC/C;MACJ,KAAK,GAAG;MACR,KAAK,GAAG;QACJ,MAAM,IAAI,UAAU,CAAC,4DAA4D,CAAC;MAClG;MACY,KAAK,GAAG;QAAA;QACJ,MAAM,CAAC,YAAY,GAAG,GAAG,GAAG,CAAC,GAAG,OAAO,GAAG,MAAM;QAChD;MACJ,KAAK,GAAG,CAAC,CAAA;MACT,KAAK,GAAG,CAAC,CAAA;MACT,KAAK,GAAG,CAAC,CAAA;MACT,KAAK,GAAG,CAAC,CAAA;MACT,KAAK,GAAG,CAAC,CAAA;MACT,KAAK,GAAG;QAAA;QACJ,MAAM,IAAI,UAAU,CAAC,sEAAsE,CAAC;IAAC;IAErG,OAAO,EAAE;EACjB,CAAK,CAAC;EACF,OAAO,MAAM;AACjB;;ACxHA;AACO,IAAI,iBAAiB,GAAG,uCAAuC;ACC/D,SAAS,6BAA6B,CAAC,QAAQ,EAAE;EACpD,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;IACvB,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC;EAC1D;EACA;EACI,IAAI,YAAY,GAAG,QAAQ,CACtB,KAAK,CAAC,iBAAiB,CAAC,CACxB,MAAM,CAAC,UAAU,CAAC,EAAE;IAAE,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC;EAAC,CAAE,CAAC;EAClD,IAAI,MAAM,GAAG,EAAE;EACf,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,cAAc,GAAG,YAAY,EAAE,EAAE,GAAG,cAAc,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IAC9E,IAAI,WAAW,GAAG,cAAc,CAAC,EAAE,CAAC;IACpC,IAAI,cAAc,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC;IAC3C,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE;MAC7B,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IACtD;IACQ,IAAI,IAAI,GAAG,cAAc,CAAC,CAAC,CAAC;MAAE,OAAO,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;IAC/D,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,SAAS,GAAG,OAAO,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;MAC/D,IAAI,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC;MAC1B,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;QACrB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;MAC1D;IACA;IACQ,MAAM,CAAC,IAAI,CAAC;MAAE,IAAI,EAAE,IAAI;MAAE,OAAO,EAAE;IAAO,CAAE,CAAC;EACrD;EACI,OAAO,MAAM;AACjB;AACA,SAAS,aAAa,CAAC,IAAI,EAAE;EACzB,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;AACtC;AACA,IAAI,wBAAwB,GAAG,kCAAkC;AACjE,IAAI,2BAA2B,GAAG,uBAAuB;AACzD,IAAI,mBAAmB,GAAG,yBAAyB;AACnD,IAAI,2BAA2B,GAAG,QAAQ;AAC1C,SAAS,yBAAyB,CAAC,GAAG,EAAE;EACpC,IAAI,MAAM,GAAG,CAAA,CAAE;EACf,IAAI,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;IAC7B,MAAM,CAAC,gBAAgB,GAAG,eAAe;EACjD,CAAK,MACI,IAAI,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;IAClC,MAAM,CAAC,gBAAgB,GAAG,eAAe;EACjD;EACI,GAAG,CAAC,OAAO,CAAC,2BAA2B,EAAE,UAAU,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;IAClE;IACQ,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;MACxB,MAAM,CAAC,wBAAwB,GAAG,EAAE,CAAC,MAAM;MAC3C,MAAM,CAAC,wBAAwB,GAAG,EAAE,CAAC,MAAM;IACvD;IACA;IAAA,KACa,IAAI,EAAE,KAAK,GAAG,EAAE;MACjB,MAAM,CAAC,wBAAwB,GAAG,EAAE,CAAC,MAAM;IACvD;IACA;IAAA,KACa,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MACpB,MAAM,CAAC,wBAAwB,GAAG,EAAE,CAAC,MAAM;IACvD;IACA;IAAA,KACa;MACD,MAAM,CAAC,wBAAwB,GAAG,EAAE,CAAC,MAAM;MAC3C,MAAM,CAAC,wBAAwB,GAC3B,EAAE,CAAC,MAAM,IAAI,OAAO,EAAE,KAAK,QAAQ,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;IACpE;IACQ,OAAO,EAAE;EACjB,CAAK,CAAC;EACF,OAAO,MAAM;AACjB;AACA,SAAS,SAAS,CAAC,GAAG,EAAE;EACpB,QAAQ,GAAG;IACP,KAAK,WAAW;MACZ,OAAO;QACH,WAAW,EAAE;MAC7B,CAAa;IACL,KAAK,iBAAiB;IACtB,KAAK,IAAI;MACL,OAAO;QACH,YAAY,EAAE;MAC9B,CAAa;IACL,KAAK,aAAa;IAClB,KAAK,IAAI;MACL,OAAO;QACH,WAAW,EAAE;MAC7B,CAAa;IACL,KAAK,wBAAwB;IAC7B,KAAK,KAAK;MACN,OAAO;QACH,WAAW,EAAE,QAAQ;QACrB,YAAY,EAAE;MAC9B,CAAa;IACL,KAAK,kBAAkB;IACvB,KAAK,IAAI;MACL,OAAO;QACH,WAAW,EAAE;MAC7B,CAAa;IACL,KAAK,6BAA6B;IAClC,KAAK,KAAK;MACN,OAAO;QACH,WAAW,EAAE,YAAY;QACzB,YAAY,EAAE;MAC9B,CAAa;IACL,KAAK,YAAY;IACjB,KAAK,IAAI;MACL,OAAO;QACH,WAAW,EAAE;MAC7B,CAAa;EAAC;AAEd;AACA,SAAS,wCAAwC,CAAC,IAAI,EAAE;EACxD;EACI,IAAI,MAAM;EACV,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACpC,MAAM,GAAG;MACL,QAAQ,EAAE;IACtB,CAAS;IACD,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;EAC5B,CAAK,MACI,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACtB,MAAM,GAAG;MACL,QAAQ,EAAE;IACtB,CAAS;IACD,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;EAC5B;EACI,IAAI,MAAM,EAAE;IACR,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAClC,IAAI,WAAW,KAAK,IAAI,EAAE;MACtB,MAAM,CAAC,WAAW,GAAG,QAAQ;MAC7B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;IAChC,CAAS,MACI,IAAI,WAAW,KAAK,IAAI,EAAE;MAC3B,MAAM,CAAC,WAAW,GAAG,YAAY;MACjC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;IAChC;IACQ,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;MACzC,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC;IACxE;IACQ,MAAM,CAAC,oBAAoB,GAAG,IAAI,CAAC,MAAM;EACjD;EACI,OAAO,MAAM;AACjB;AACA,SAAS,oBAAoB,CAAC,GAAG,EAAE;EAC/B,IAAI,MAAM,GAAG,CAAA,CAAE;EACf,IAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC;EAC7B,IAAI,QAAQ,EAAE;IACV,OAAO,QAAQ;EACvB;EACI,OAAO,MAAM;AACjB;AACA;AACA;AACA;AACO,SAAS,mBAAmB,CAAC,MAAM,EAAE;EACxC,IAAI,MAAM,GAAG,CAAA,CAAE;EACf,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,QAAQ,GAAG,MAAM,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IAC5D,IAAI,KAAK,GAAG,QAAQ,CAAC,EAAE,CAAC;IACxB,QAAQ,KAAK,CAAC,IAAI;MACd,KAAK,SAAS;MACd,KAAK,GAAG;QACJ,MAAM,CAAC,KAAK,GAAG,SAAS;QACxB;MACJ,KAAK,OAAO;QACR,MAAM,CAAC,KAAK,GAAG,SAAS;QACxB,MAAM,CAAC,KAAK,GAAG,GAAG;QAClB;MACJ,KAAK,UAAU;QACX,MAAM,CAAC,KAAK,GAAG,UAAU;QACzB,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;QAClC;MACJ,KAAK,WAAW;MAChB,KAAK,IAAI;QACL,MAAM,CAAC,WAAW,GAAG,KAAK;QAC1B;MACJ,KAAK,mBAAmB;MACxB,KAAK,GAAG;QACJ,MAAM,CAAC,qBAAqB,GAAG,CAAC;QAChC;MACJ,KAAK,cAAc;MACnB,KAAK,MAAM;QACP,MAAM,CAAC,KAAK,GAAG,MAAM;QACrB,MAAM,CAAC,IAAI,GAAG,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC7C;MACJ,KAAK,eAAe;MACpB,KAAK,GAAG;QACJ,MAAM,CAAC,QAAQ,GAAG,SAAS;QAC3B,MAAM,CAAC,cAAc,GAAG,OAAO;QAC/B;MACJ,KAAK,cAAc;MACnB,KAAK,IAAI;QACL,MAAM,CAAC,QAAQ,GAAG,SAAS;QAC3B,MAAM,CAAC,cAAc,GAAG,MAAM;QAC9B;MACJ,KAAK,YAAY;QACb,MAAM,GAAG,OAAQ,CAAC,OAAQ,CAAC,OAAQ,CAAC,CAAA,CAAE,EAAE,MAAM,CAAC,EAAE;UAAE,QAAQ,EAAE;QAAY,CAAE,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE;UAAE,OAAQ,OAAQ,CAAC,OAAQ,CAAC,CAAA,CAAE,EAAE,GAAG,CAAC,EAAE,oBAAoB,CAAC,GAAG,CAAC,CAAC;QAAE,CAAE,EAAE,CAAA,CAAE,CAAC,CAAC;QACjM;MACJ,KAAK,aAAa;QACd,MAAM,GAAG,OAAQ,CAAC,OAAQ,CAAC,OAAQ,CAAC,CAAA,CAAE,EAAE,MAAM,CAAC,EAAE;UAAE,QAAQ,EAAE;QAAa,CAAE,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE;UAAE,OAAQ,OAAQ,CAAC,OAAQ,CAAC,CAAA,CAAE,EAAE,GAAG,CAAC,EAAE,oBAAoB,CAAC,GAAG,CAAC,CAAC;QAAE,CAAE,EAAE,CAAA,CAAE,CAAC,CAAC;QAClM;MACJ,KAAK,iBAAiB;QAClB,MAAM,CAAC,QAAQ,GAAG,UAAU;QAC5B;MAChB;MACY,KAAK,mBAAmB;QACpB,MAAM,CAAC,eAAe,GAAG,cAAc;QACvC,MAAM,CAAC,WAAW,GAAG,QAAQ;QAC7B;MACJ,KAAK,kBAAkB;QACnB,MAAM,CAAC,eAAe,GAAG,MAAM;QAC/B,MAAM,CAAC,WAAW,GAAG,OAAO;QAC5B;MACJ,KAAK,sBAAsB;QACvB,MAAM,CAAC,eAAe,GAAG,MAAM;QAC/B,MAAM,CAAC,WAAW,GAAG,MAAM;QAC3B;MACJ,KAAK,qBAAqB;QACtB,MAAM,CAAC,eAAe,GAAG,QAAQ;QACjC;MACJ,KAAK,OAAO;QACR,MAAM,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC3C;MAChB;MACY,KAAK,eAAe;QAChB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;UAC1B,MAAM,IAAI,UAAU,CAAC,0DAA0D,CAAC;QACpG;QACgB,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,mBAAmB,EAAE,UAAU,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;UAC3E,IAAI,EAAE,EAAE;YACJ,MAAM,CAAC,oBAAoB,GAAG,EAAE,CAAC,MAAM;UAC/D,CAAqB,MACI,IAAI,EAAE,IAAI,EAAE,EAAE;YACf,MAAM,IAAI,KAAK,CAAC,oDAAoD,CAAC;UAC7F,CAAqB,MACI,IAAI,EAAE,EAAE;YACT,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC;UAC3F;UACoB,OAAO,EAAE;QAC7B,CAAiB,CAAC;QACF;IAAS;IAEzB;IACQ,IAAI,2BAA2B,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;MAC9C,MAAM,CAAC,oBAAoB,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM;MAC/C;IACZ;IACQ,IAAI,wBAAwB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;MACvD;MACA;MACA;MACY,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;QAC1B,MAAM,IAAI,UAAU,CAAC,+DAA+D,CAAC;MACrG;MACY,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,UAAU,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;QAC1F;QACgB,IAAI,EAAE,KAAK,GAAG,EAAE;UACZ,MAAM,CAAC,qBAAqB,GAAG,EAAE,CAAC,MAAM;QAC5D;QACA;QAAA,KACqB,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;UAC1B,MAAM,CAAC,qBAAqB,GAAG,EAAE,CAAC,MAAM;QAC5D;QACA;QAAA,KACqB,IAAI,EAAE,IAAI,EAAE,EAAE;UACf,MAAM,CAAC,qBAAqB,GAAG,EAAE,CAAC,MAAM;UACxC,MAAM,CAAC,qBAAqB,GAAG,EAAE,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM;QACxE,CAAiB,MACI;UACD,MAAM,CAAC,qBAAqB,GAAG,EAAE,CAAC,MAAM;UACxC,MAAM,CAAC,qBAAqB,GAAG,EAAE,CAAC,MAAM;QAC5D;QACgB,OAAO,EAAE;MACzB,CAAa,CAAC;MACF,IAAI,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;MACtC;MACY,IAAI,GAAG,KAAK,GAAG,EAAE;QACb,MAAM,GAAG,OAAQ,CAAC,OAAQ,CAAC,CAAA,CAAE,EAAE,MAAM,CAAC,EAAE;UAAE,mBAAmB,EAAE;QAAgB,CAAE,CAAC;MAClG,CAAa,MACI,IAAI,GAAG,EAAE;QACV,MAAM,GAAG,OAAQ,CAAC,OAAQ,CAAC,CAAA,CAAE,EAAE,MAAM,CAAC,EAAE,yBAAyB,CAAC,GAAG,CAAC,CAAC;MACvF;MACY;IACZ;IACA;IACQ,IAAI,2BAA2B,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;MAC9C,MAAM,GAAG,OAAQ,CAAC,OAAQ,CAAC,CAAA,CAAE,EAAE,MAAM,CAAC,EAAE,yBAAyB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;MAC9E;IACZ;IACQ,IAAI,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC;IACpC,IAAI,QAAQ,EAAE;MACV,MAAM,GAAG,OAAQ,CAAC,OAAQ,CAAC,CAAA,CAAE,EAAE,MAAM,CAAC,EAAE,QAAQ,CAAC;IAC7D;IACQ,IAAI,mCAAmC,GAAG,wCAAwC,CAAC,KAAK,CAAC,IAAI,CAAC;IAC9F,IAAI,mCAAmC,EAAE;MACrC,MAAM,GAAG,OAAQ,CAAC,OAAQ,CAAC,CAAA,CAAE,EAAE,MAAM,CAAC,EAAE,mCAAmC,CAAC;IACxF;EACA;EACI,OAAO,MAAM;AACjB;;ACtSA;AACA;AACO,IAAI,QAAQ,GAAG;EAClB,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,CACN;EACD,KAAK,EAAE,CACH,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,OAAO,EAAE,CACL,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,GAAG,EACH,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,QAAQ,EAAE,CACN,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,GAAG,EACH,IAAI,CACP;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,QAAQ,EAAE,CACN,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE,CACF,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,GAAG,CACN;EACD,IAAI,EAAE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CZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACX,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC3B,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI,MAAO,IAC5B,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CAAC,KAAK,MAAM,IACZ,CA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","sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"export var ErrorKind;\n(function (ErrorKind) {\n    /** Argument is unclosed (e.g. `{0`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n    /** Argument is empty (e.g. `{}`). */\n    ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n    /** Argument is malformed (e.g. `{foo!}``) */\n    ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n    /** Expect an argument type (e.g. `{foo,}`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n    /** Unsupported argument type (e.g. `{foo,foo}`) */\n    ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n    /** Expect an argument style (e.g. `{foo, number, }`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n    /** The number skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n    /** The date time skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n    /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n    /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n    /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n    /** Missing select argument options (e.g. `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n    /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n    /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n    /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n    /**\n     * Expecting a message fragment after the `plural` or `selectordinal` selector\n     * (e.g. `{foo, plural, one}`)\n     */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n    /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n    /**\n     * Duplicate selectors in `plural` or `selectordinal` argument.\n     * (e.g. {foo, plural, one {#} one {#}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n    /** Duplicate selectors in `select` argument.\n     * (e.g. {foo, select, apple {apple} apple {apple}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n    /** Plural or select argument option must have `other` clause. */\n    ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n    /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n    ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n    /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n    ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n    /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n    ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n    /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));\n","export var TYPE;\n(function (TYPE) {\n    /**\n     * Raw text\n     */\n    TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n    /**\n     * Variable w/o any format, e.g `var` in `this is a {var}`\n     */\n    TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n    /**\n     * Variable w/ number format\n     */\n    TYPE[TYPE[\"number\"] = 2] = \"number\";\n    /**\n     * Variable w/ date format\n     */\n    TYPE[TYPE[\"date\"] = 3] = \"date\";\n    /**\n     * Variable w/ time format\n     */\n    TYPE[TYPE[\"time\"] = 4] = \"time\";\n    /**\n     * Variable w/ select format\n     */\n    TYPE[TYPE[\"select\"] = 5] = \"select\";\n    /**\n     * Variable w/ plural format\n     */\n    TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n    /**\n     * Only possible within plural argument.\n     * This is the `#` symbol that will be substituted with the count.\n     */\n    TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n    /**\n     * XML-like tag\n     */\n    TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nexport var SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n    SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n    SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nexport function isLiteralElement(el) {\n    return el.type === TYPE.literal;\n}\nexport function isArgumentElement(el) {\n    return el.type === TYPE.argument;\n}\nexport function isNumberElement(el) {\n    return el.type === TYPE.number;\n}\nexport function isDateElement(el) {\n    return el.type === TYPE.date;\n}\nexport function isTimeElement(el) {\n    return el.type === TYPE.time;\n}\nexport function isSelectElement(el) {\n    return el.type === TYPE.select;\n}\nexport function isPluralElement(el) {\n    return el.type === TYPE.plural;\n}\nexport function isPoundElement(el) {\n    return el.type === TYPE.pound;\n}\nexport function isTagElement(el) {\n    return el.type === TYPE.tag;\n}\nexport function isNumberSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nexport function isDateTimeSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\nexport function createLiteralElement(value) {\n    return {\n        type: TYPE.literal,\n        value: value,\n    };\n}\nexport function createNumberElement(value, style) {\n    return {\n        type: TYPE.number,\n        value: value,\n        style: style,\n    };\n}\n","// @generated from regex-gen.ts\nexport var SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/;\n","/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton) {\n    var result = {};\n    skeleton.replace(DATE_TIME_REGEX, function (match) {\n        var len = match.length;\n        switch (match[0]) {\n            // Era\n            case 'G':\n                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            // Year\n            case 'y':\n                result.year = len === 2 ? '2-digit' : 'numeric';\n                break;\n            case 'Y':\n            case 'u':\n            case 'U':\n            case 'r':\n                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n            // Quarter\n            case 'q':\n            case 'Q':\n                throw new RangeError('`q/Q` (quarter) patterns are not supported');\n            // Month\n            case 'M':\n            case 'L':\n                result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n                break;\n            // Week\n            case 'w':\n            case 'W':\n                throw new RangeError('`w/W` (week) patterns are not supported');\n            case 'd':\n                result.day = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'D':\n            case 'F':\n            case 'g':\n                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n            // Weekday\n            case 'E':\n                result.weekday = len === 4 ? 'short' : len === 5 ? 'narrow' : 'short';\n                break;\n            case 'e':\n                if (len < 4) {\n                    throw new RangeError('`e..eee` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            case 'c':\n                if (len < 4) {\n                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            // Period\n            case 'a': // AM, PM\n                result.hour12 = true;\n                break;\n            case 'b': // am, pm, noon, midnight\n            case 'B': // flexible day periods\n                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n            // Hour\n            case 'h':\n                result.hourCycle = 'h12';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'H':\n                result.hourCycle = 'h23';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'K':\n                result.hourCycle = 'h11';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'k':\n                result.hourCycle = 'h24';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'j':\n            case 'J':\n            case 'C':\n                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n            // Minute\n            case 'm':\n                result.minute = ['numeric', '2-digit'][len - 1];\n                break;\n            // Second\n            case 's':\n                result.second = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'S':\n            case 'A':\n                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n            // Zone\n            case 'z': // 1..3, 4: specific non-location format\n                result.timeZoneName = len < 4 ? 'short' : 'long';\n                break;\n            case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n            case 'O': // 1, 4: miliseconds in day short, long\n            case 'v': // 1, 4: generic non-location format\n            case 'V': // 1, 2, 3, 4: time zone ID or city\n            case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n            case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n        }\n        return '';\n    });\n    return result;\n}\n","// @generated from regex-gen.ts\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;\n","import { __assign } from \"tslib\";\nimport { WHITE_SPACE_REGEX } from './regex.generated';\nexport function parseNumberSkeletonFromString(skeleton) {\n    if (skeleton.length === 0) {\n        throw new Error('Number skeleton cannot be empty');\n    }\n    // Parse the skeleton\n    var stringTokens = skeleton\n        .split(WHITE_SPACE_REGEX)\n        .filter(function (x) { return x.length > 0; });\n    var tokens = [];\n    for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n        var stringToken = stringTokens_1[_i];\n        var stemAndOptions = stringToken.split('/');\n        if (stemAndOptions.length === 0) {\n            throw new Error('Invalid number skeleton');\n        }\n        var stem = stemAndOptions[0], options = stemAndOptions.slice(1);\n        for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n            var option = options_1[_a];\n            if (option.length === 0) {\n                throw new Error('Invalid number skeleton');\n            }\n        }\n        tokens.push({ stem: stem, options: options });\n    }\n    return tokens;\n}\nfunction icuUnitToEcma(unit) {\n    return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n    var result = {};\n    if (str[str.length - 1] === 'r') {\n        result.roundingPriority = 'morePrecision';\n    }\n    else if (str[str.length - 1] === 's') {\n        result.roundingPriority = 'lessPrecision';\n    }\n    str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n        // @@@ case\n        if (typeof g2 !== 'string') {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits = g1.length;\n        }\n        // @@@+ case\n        else if (g2 === '+') {\n            result.minimumSignificantDigits = g1.length;\n        }\n        // .### case\n        else if (g1[0] === '#') {\n            result.maximumSignificantDigits = g1.length;\n        }\n        // .@@## or .@@@ case\n        else {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits =\n                g1.length + (typeof g2 === 'string' ? g2.length : 0);\n        }\n        return '';\n    });\n    return result;\n}\nfunction parseSign(str) {\n    switch (str) {\n        case 'sign-auto':\n            return {\n                signDisplay: 'auto',\n            };\n        case 'sign-accounting':\n        case '()':\n            return {\n                currencySign: 'accounting',\n            };\n        case 'sign-always':\n        case '+!':\n            return {\n                signDisplay: 'always',\n            };\n        case 'sign-accounting-always':\n        case '()!':\n            return {\n                signDisplay: 'always',\n                currencySign: 'accounting',\n            };\n        case 'sign-except-zero':\n        case '+?':\n            return {\n                signDisplay: 'exceptZero',\n            };\n        case 'sign-accounting-except-zero':\n        case '()?':\n            return {\n                signDisplay: 'exceptZero',\n                currencySign: 'accounting',\n            };\n        case 'sign-never':\n        case '+_':\n            return {\n                signDisplay: 'never',\n            };\n    }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n    // Engineering\n    var result;\n    if (stem[0] === 'E' && stem[1] === 'E') {\n        result = {\n            notation: 'engineering',\n        };\n        stem = stem.slice(2);\n    }\n    else if (stem[0] === 'E') {\n        result = {\n            notation: 'scientific',\n        };\n        stem = stem.slice(1);\n    }\n    if (result) {\n        var signDisplay = stem.slice(0, 2);\n        if (signDisplay === '+!') {\n            result.signDisplay = 'always';\n            stem = stem.slice(2);\n        }\n        else if (signDisplay === '+?') {\n            result.signDisplay = 'exceptZero';\n            stem = stem.slice(2);\n        }\n        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n            throw new Error('Malformed concise eng/scientific notation');\n        }\n        result.minimumIntegerDigits = stem.length;\n    }\n    return result;\n}\nfunction parseNotationOptions(opt) {\n    var result = {};\n    var signOpts = parseSign(opt);\n    if (signOpts) {\n        return signOpts;\n    }\n    return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nexport function parseNumberSkeleton(tokens) {\n    var result = {};\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        switch (token.stem) {\n            case 'percent':\n            case '%':\n                result.style = 'percent';\n                continue;\n            case '%x100':\n                result.style = 'percent';\n                result.scale = 100;\n                continue;\n            case 'currency':\n                result.style = 'currency';\n                result.currency = token.options[0];\n                continue;\n            case 'group-off':\n            case ',_':\n                result.useGrouping = false;\n                continue;\n            case 'precision-integer':\n            case '.':\n                result.maximumFractionDigits = 0;\n                continue;\n            case 'measure-unit':\n            case 'unit':\n                result.style = 'unit';\n                result.unit = icuUnitToEcma(token.options[0]);\n                continue;\n            case 'compact-short':\n            case 'K':\n                result.notation = 'compact';\n                result.compactDisplay = 'short';\n                continue;\n            case 'compact-long':\n            case 'KK':\n                result.notation = 'compact';\n                result.compactDisplay = 'long';\n                continue;\n            case 'scientific':\n                result = __assign(__assign(__assign({}, result), { notation: 'scientific' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'engineering':\n                result = __assign(__assign(__assign({}, result), { notation: 'engineering' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'notation-simple':\n                result.notation = 'standard';\n                continue;\n            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n            case 'unit-width-narrow':\n                result.currencyDisplay = 'narrowSymbol';\n                result.unitDisplay = 'narrow';\n                continue;\n            case 'unit-width-short':\n                result.currencyDisplay = 'code';\n                result.unitDisplay = 'short';\n                continue;\n            case 'unit-width-full-name':\n                result.currencyDisplay = 'name';\n                result.unitDisplay = 'long';\n                continue;\n            case 'unit-width-iso-code':\n                result.currencyDisplay = 'symbol';\n                continue;\n            case 'scale':\n                result.scale = parseFloat(token.options[0]);\n                continue;\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n            case 'integer-width':\n                if (token.options.length > 1) {\n                    throw new RangeError('integer-width stems only accept a single optional option');\n                }\n                token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n                    if (g1) {\n                        result.minimumIntegerDigits = g2.length;\n                    }\n                    else if (g3 && g4) {\n                        throw new Error('We currently do not support maximum integer digits');\n                    }\n                    else if (g5) {\n                        throw new Error('We currently do not support exact integer digits');\n                    }\n                    return '';\n                });\n                continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n            result.minimumIntegerDigits = token.stem.length;\n            continue;\n        }\n        if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n            // Precision\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n            // precision-integer case\n            if (token.options.length > 1) {\n                throw new RangeError('Fraction-precision stems only accept a single optional option');\n            }\n            token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n                // .000* case (before ICU67 it was .000+)\n                if (g2 === '*') {\n                    result.minimumFractionDigits = g1.length;\n                }\n                // .### case\n                else if (g3 && g3[0] === '#') {\n                    result.maximumFractionDigits = g3.length;\n                }\n                // .00## case\n                else if (g4 && g5) {\n                    result.minimumFractionDigits = g4.length;\n                    result.maximumFractionDigits = g4.length + g5.length;\n                }\n                else {\n                    result.minimumFractionDigits = g1.length;\n                    result.maximumFractionDigits = g1.length;\n                }\n                return '';\n            });\n            var opt = token.options[0];\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n            if (opt === 'w') {\n                result = __assign(__assign({}, result), { trailingZeroDisplay: 'stripIfInteger' });\n            }\n            else if (opt) {\n                result = __assign(__assign({}, result), parseSignificantPrecision(opt));\n            }\n            continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n            result = __assign(__assign({}, result), parseSignificantPrecision(token.stem));\n            continue;\n        }\n        var signOpts = parseSign(token.stem);\n        if (signOpts) {\n            result = __assign(__assign({}, result), signOpts);\n        }\n        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n        if (conciseScientificAndEngineeringOpts) {\n            result = __assign(__assign({}, result), conciseScientificAndEngineeringOpts);\n        }\n    }\n    return result;\n}\n","// @generated from time-data-gen.ts\n// prettier-ignore  \nexport var timeData = {\n    \"AX\": [\n        \"H\"\n    ],\n    \"BQ\": [\n        \"H\"\n    ],\n    \"CP\": [\n        \"H\"\n    ],\n    \"CZ\": [\n        \"H\"\n    ],\n    \"DK\": [\n        \"H\"\n    ],\n    \"FI\": [\n        \"H\"\n    ],\n    \"ID\": [\n        \"H\"\n    ],\n    \"IS\": [\n        \"H\"\n    ],\n    \"ML\": [\n        \"H\"\n    ],\n    \"NE\": [\n        \"H\"\n    ],\n    \"RU\": [\n        \"H\"\n    ],\n    \"SE\": [\n        \"H\"\n    ],\n    \"SJ\": [\n        \"H\"\n    ],\n    \"SK\": [\n        \"H\"\n    ],\n    \"AS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"BT\": [\n        \"h\",\n        \"H\"\n    ],\n    \"DJ\": [\n        \"h\",\n        \"H\"\n    ],\n    \"ER\": [\n        \"h\",\n        \"H\"\n    ],\n    \"GH\": [\n        \"h\",\n        \"H\"\n    ],\n    \"IN\": [\n        \"h\",\n        \"H\"\n    ],\n    \"LS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PG\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PW\": [\n        \"h\",\n        \"H\"\n    ],\n    \"SO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"TO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"VU\": [\n        \"h\",\n        \"H\"\n    ],\n    \"WS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"001\": [\n        \"H\",\n        \"h\"\n    ],\n    \"AL\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TD\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ca-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"fr-CA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"gl-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"it-CH\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"it-IT\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"LU\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"NP\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"PF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SC\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SN\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"TF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"VA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CY\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GR\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"DO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KP\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"VE\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"AI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"BW\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"BZ\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"DG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"FK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GB\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IM\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IO\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"JE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"LT\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MS\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NF\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NR\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NU\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"PN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SH\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"TA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"ZA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"af-ZA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CL\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CU\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"EA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-BO\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-BR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-EC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-GQ\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-PE\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"GT\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"HN\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"IC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KG\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KM\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"LK\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MX\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NI\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"SV\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"UY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"JP\": [\n        \"H\",\n        \"h\",\n        \"K\"\n    ],\n    \"AD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BJ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CV\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"DE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"EE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"FR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GA\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GN\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GP\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"HR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"IL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"IT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"KZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MQ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"ST\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"WF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"YT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BD\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"PK\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"AZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BG\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"CH\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"GE\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LI\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"ME\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"RS\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"UA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"UZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"XK\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"AG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"CA\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"DM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"en-001\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FJ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GD\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"JM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KN\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LR\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MH\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MP\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MW\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"NZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SL\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TT\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"UM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"US\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ZM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BO\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"EC\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"ES\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"GQ\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"PE\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"AE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"ar-001\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"BH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"DZ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EG\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"HK\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"IQ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"JO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"KW\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"LB\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"LY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MR\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"OM\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PS\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"QA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SD\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"TN\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"YE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"AF\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LA\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"CN\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"LV\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"TL\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"zu-ZA\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"CD\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"IR\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"hi-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"kn-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"ml-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"te-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"KH\": [\n        \"hB\",\n        \"h\",\n        \"H\",\n        \"hb\"\n    ],\n    \"ta-IN\": [\n        \"hB\",\n        \"h\",\n        \"hb\",\n        \"H\"\n    ],\n    \"BN\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"MY\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"ET\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"gu-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"mr-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"pa-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"TW\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"KE\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"MM\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"TZ\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"UG\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ]\n};\n","import { timeData } from './time-data.generated';\n/**\n * Returns the best matching date time pattern if a date time skeleton\n * pattern is provided with a locale. Follows the Unicode specification:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#table-mapping-requested-time-skeletons-to-patterns\n * @param skeleton date time skeleton pattern that possibly includes j, J or C\n * @param locale\n */\nexport function getBestPattern(skeleton, locale) {\n    var skeletonCopy = '';\n    for (var patternPos = 0; patternPos < skeleton.length; patternPos++) {\n        var patternChar = skeleton.charAt(patternPos);\n        if (patternChar === 'j') {\n            var extraLength = 0;\n            while (patternPos + 1 < skeleton.length &&\n                skeleton.charAt(patternPos + 1) === patternChar) {\n                extraLength++;\n                patternPos++;\n            }\n            var hourLen = 1 + (extraLength & 1);\n            var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);\n            var dayPeriodChar = 'a';\n            var hourChar = getDefaultHourSymbolFromLocale(locale);\n            if (hourChar == 'H' || hourChar == 'k') {\n                dayPeriodLen = 0;\n            }\n            while (dayPeriodLen-- > 0) {\n                skeletonCopy += dayPeriodChar;\n            }\n            while (hourLen-- > 0) {\n                skeletonCopy = hourChar + skeletonCopy;\n            }\n        }\n        else if (patternChar === 'J') {\n            skeletonCopy += 'H';\n        }\n        else {\n            skeletonCopy += patternChar;\n        }\n    }\n    return skeletonCopy;\n}\n/**\n * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)\n * of the given `locale` to the corresponding time pattern.\n * @param locale\n */\nfunction getDefaultHourSymbolFromLocale(locale) {\n    var hourCycle = locale.hourCycle;\n    if (hourCycle === undefined &&\n        // @ts-ignore hourCycle(s) is not identified yet\n        locale.hourCycles &&\n        // @ts-ignore\n        locale.hourCycles.length) {\n        // @ts-ignore\n        hourCycle = locale.hourCycles[0];\n    }\n    if (hourCycle) {\n        switch (hourCycle) {\n            case 'h24':\n                return 'k';\n            case 'h23':\n                return 'H';\n            case 'h12':\n                return 'h';\n            case 'h11':\n                return 'K';\n            default:\n                throw new Error('Invalid hourCycle');\n        }\n    }\n    // TODO: Once hourCycle is fully supported remove the following with data generation\n    var languageTag = locale.language;\n    var regionTag;\n    if (languageTag !== 'root') {\n        regionTag = locale.maximize().region;\n    }\n    var hourCycles = timeData[regionTag || ''] ||\n        timeData[languageTag || ''] ||\n        timeData[\"\".concat(languageTag, \"-001\")] ||\n        timeData['001'];\n    return hourCycles[0];\n}\n","var _a;\nimport { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { SKELETON_TYPE, TYPE, } from './types';\nimport { SPACE_SEPARATOR_REGEX } from './regex.generated';\nimport { parseNumberSkeleton, parseNumberSkeletonFromString, parseDateTimeSkeleton, } from '@formatjs/icu-skeleton-parser';\nimport { getBestPattern } from './date-time-pattern-generator';\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\".concat(SPACE_SEPARATOR_REGEX.source, \"*\"));\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(\"\".concat(SPACE_SEPARATOR_REGEX.source, \"*$\"));\nfunction createLocation(start, end) {\n    return { start: start, end: end };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith;\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger\n    ? Number.isSafeInteger\n    : function (n) {\n        return (typeof n === 'number' &&\n            isFinite(n) &&\n            Math.floor(n) === n &&\n            Math.abs(n) <= 0x1fffffffffffff);\n    };\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n    var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    /**\n     * legacy Edge or Xbox One browser\n     * Unicode flag support: supported\n     * Pattern_Syntax support: not supported\n     * See https://github.com/formatjs/formatjs/issues/2822\n     */\n    REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';\n}\ncatch (_) {\n    REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith\n    ? // Native\n        function startsWith(s, search, position) {\n            return s.startsWith(search, position);\n        }\n    : // For IE11\n        function startsWith(s, search, position) {\n            return s.slice(position, position + search.length) === search;\n        };\nvar fromCodePoint = hasNativeFromCodePoint\n    ? String.fromCodePoint\n    : // IE11\n        function fromCodePoint() {\n            var codePoints = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                codePoints[_i] = arguments[_i];\n            }\n            var elements = '';\n            var length = codePoints.length;\n            var i = 0;\n            var code;\n            while (length > i) {\n                code = codePoints[i++];\n                if (code > 0x10ffff)\n                    throw RangeError(code + ' is not a valid code point');\n                elements +=\n                    code < 0x10000\n                        ? String.fromCharCode(code)\n                        : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, (code % 0x400) + 0xdc00);\n            }\n            return elements;\n        };\nvar fromEntries = \n// native\nhasNativeFromEntries\n    ? Object.fromEntries\n    : // Ponyfill\n        function fromEntries(entries) {\n            var obj = {};\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var _a = entries_1[_i], k = _a[0], v = _a[1];\n                obj[k] = v;\n            }\n            return obj;\n        };\nvar codePointAt = hasNativeCodePointAt\n    ? // Native\n        function codePointAt(s, index) {\n            return s.codePointAt(index);\n        }\n    : // IE 11\n        function codePointAt(s, index) {\n            var size = s.length;\n            if (index < 0 || index >= size) {\n                return undefined;\n            }\n            var first = s.charCodeAt(index);\n            var second;\n            return first < 0xd800 ||\n                first > 0xdbff ||\n                index + 1 === size ||\n                (second = s.charCodeAt(index + 1)) < 0xdc00 ||\n                second > 0xdfff\n                ? first\n                : ((first - 0xd800) << 10) + (second - 0xdc00) + 0x10000;\n        };\nvar trimStart = hasTrimStart\n    ? // Native\n        function trimStart(s) {\n            return s.trimStart();\n        }\n    : // Ponyfill\n        function trimStart(s) {\n            return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n        };\nvar trimEnd = hasTrimEnd\n    ? // Native\n        function trimEnd(s) {\n            return s.trimEnd();\n        }\n    : // Ponyfill\n        function trimEnd(s) {\n            return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n        };\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n    return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n    // Native\n    var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var _a;\n        IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n        var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n        return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n    };\n}\nelse {\n    // IE11\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var match = [];\n        while (true) {\n            var c = codePointAt(s, index);\n            if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n                break;\n            }\n            match.push(c);\n            index += c >= 0x10000 ? 2 : 1;\n        }\n        return fromCodePoint.apply(void 0, match);\n    };\n}\nvar Parser = /** @class */ (function () {\n    function Parser(message, options) {\n        if (options === void 0) { options = {}; }\n        this.message = message;\n        this.position = { offset: 0, line: 1, column: 1 };\n        this.ignoreTag = !!options.ignoreTag;\n        this.locale = options.locale;\n        this.requiresOtherClause = !!options.requiresOtherClause;\n        this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n    }\n    Parser.prototype.parse = function () {\n        if (this.offset() !== 0) {\n            throw Error('parser can only be used once');\n        }\n        return this.parseMessage(0, '', false);\n    };\n    Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n        var elements = [];\n        while (!this.isEOF()) {\n            var char = this.char();\n            if (char === 123 /* `{` */) {\n                var result = this.parseArgument(nestingLevel, expectingCloseTag);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else if (char === 125 /* `}` */ && nestingLevel > 0) {\n                break;\n            }\n            else if (char === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n                var position = this.clonePosition();\n                this.bump();\n                elements.push({\n                    type: TYPE.pound,\n                    location: createLocation(position, this.clonePosition()),\n                });\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                this.peek() === 47 // char code for '/'\n            ) {\n                if (expectingCloseTag) {\n                    break;\n                }\n                else {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n                }\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                _isAlpha(this.peek() || 0)) {\n                var result = this.parseTag(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else {\n                var result = this.parseLiteral(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n        }\n        return { val: elements, err: null };\n    };\n    /**\n     * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n     * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n     * are accepted:\n     *\n     * ```\n     * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n     * tagName ::= [a-z] (PENChar)*\n     * PENChar ::=\n     *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n     *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n     *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n     * ```\n     *\n     * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n     * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n     * since other tag-based engines like React allow it\n     */\n    Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n        var startPosition = this.clonePosition();\n        this.bump(); // `<`\n        var tagName = this.parseTagName();\n        this.bumpSpace();\n        if (this.bumpIf('/>')) {\n            // Self closing tag\n            return {\n                val: {\n                    type: TYPE.literal,\n                    value: \"<\".concat(tagName, \"/>\"),\n                    location: createLocation(startPosition, this.clonePosition()),\n                },\n                err: null,\n            };\n        }\n        else if (this.bumpIf('>')) {\n            var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n            if (childrenResult.err) {\n                return childrenResult;\n            }\n            var children = childrenResult.val;\n            // Expecting a close tag\n            var endTagStartPosition = this.clonePosition();\n            if (this.bumpIf('</')) {\n                if (this.isEOF() || !_isAlpha(this.char())) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                var closingTagNameStartPosition = this.clonePosition();\n                var closingTagName = this.parseTagName();\n                if (tagName !== closingTagName) {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n                }\n                this.bumpSpace();\n                if (!this.bumpIf('>')) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                return {\n                    val: {\n                        type: TYPE.tag,\n                        value: tagName,\n                        children: children,\n                        location: createLocation(startPosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            else {\n                return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n            }\n        }\n        else {\n            return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n        }\n    };\n    /**\n     * This method assumes that the caller has peeked ahead for the first tag character.\n     */\n    Parser.prototype.parseTagName = function () {\n        var startOffset = this.offset();\n        this.bump(); // the first tag name character\n        while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n            this.bump();\n        }\n        return this.message.slice(startOffset, this.offset());\n    };\n    Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n        var start = this.clonePosition();\n        var value = '';\n        while (true) {\n            var parseQuoteResult = this.tryParseQuote(parentArgType);\n            if (parseQuoteResult) {\n                value += parseQuoteResult;\n                continue;\n            }\n            var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n            if (parseUnquotedResult) {\n                value += parseUnquotedResult;\n                continue;\n            }\n            var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n            if (parseLeftAngleResult) {\n                value += parseLeftAngleResult;\n                continue;\n            }\n            break;\n        }\n        var location = createLocation(start, this.clonePosition());\n        return {\n            val: { type: TYPE.literal, value: value, location: location },\n            err: null,\n        };\n    };\n    Parser.prototype.tryParseLeftAngleBracket = function () {\n        if (!this.isEOF() &&\n            this.char() === 60 /* `<` */ &&\n            (this.ignoreTag ||\n                // If at the opening tag or closing tag position, bail.\n                !_isAlphaOrSlash(this.peek() || 0))) {\n            this.bump(); // `<`\n            return '<';\n        }\n        return null;\n    };\n    /**\n     * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n     * a character that requires quoting (that is, \"only where needed\"), and works the same in\n     * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n     */\n    Parser.prototype.tryParseQuote = function (parentArgType) {\n        if (this.isEOF() || this.char() !== 39 /* `'` */) {\n            return null;\n        }\n        // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n        // Check if is valid escaped character\n        switch (this.peek()) {\n            case 39 /* `'` */:\n                // double quote, should return as a single quote.\n                this.bump();\n                this.bump();\n                return \"'\";\n            // '{', '<', '>', '}'\n            case 123:\n            case 60:\n            case 62:\n            case 125:\n                break;\n            case 35: // '#'\n                if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n                    break;\n                }\n                return null;\n            default:\n                return null;\n        }\n        this.bump(); // apostrophe\n        var codePoints = [this.char()]; // escaped char\n        this.bump();\n        // read chars until the optional closing apostrophe is found\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch === 39 /* `'` */) {\n                if (this.peek() === 39 /* `'` */) {\n                    codePoints.push(39);\n                    // Bump one more time because we need to skip 2 characters.\n                    this.bump();\n                }\n                else {\n                    // Optional closing apostrophe.\n                    this.bump();\n                    break;\n                }\n            }\n            else {\n                codePoints.push(ch);\n            }\n            this.bump();\n        }\n        return fromCodePoint.apply(void 0, codePoints);\n    };\n    Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n        if (this.isEOF()) {\n            return null;\n        }\n        var ch = this.char();\n        if (ch === 60 /* `<` */ ||\n            ch === 123 /* `{` */ ||\n            (ch === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) ||\n            (ch === 125 /* `}` */ && nestingLevel > 0)) {\n            return null;\n        }\n        else {\n            this.bump();\n            return fromCodePoint(ch);\n        }\n    };\n    Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n        var openingBracePosition = this.clonePosition();\n        this.bump(); // `{`\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        if (this.char() === 125 /* `}` */) {\n            this.bump();\n            return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        // argument name\n        var value = this.parseIdentifierIfPossible().value;\n        if (!value) {\n            return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        switch (this.char()) {\n            // Simple argument: `{name}`\n            case 125 /* `}` */: {\n                this.bump(); // `}`\n                return {\n                    val: {\n                        type: TYPE.argument,\n                        // value does not include the opening and closing braces.\n                        value: value,\n                        location: createLocation(openingBracePosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            // Argument with options: `{name, format, ...}`\n            case 44 /* `,` */: {\n                this.bump(); // `,`\n                this.bumpSpace();\n                if (this.isEOF()) {\n                    return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n                }\n                return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n            }\n            default:\n                return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n    };\n    /**\n     * Advance the parser until the end of the identifier, if it is currently on\n     * an identifier character. Return an empty string otherwise.\n     */\n    Parser.prototype.parseIdentifierIfPossible = function () {\n        var startingPosition = this.clonePosition();\n        var startOffset = this.offset();\n        var value = matchIdentifierAtIndex(this.message, startOffset);\n        var endOffset = startOffset + value.length;\n        this.bumpTo(endOffset);\n        var endPosition = this.clonePosition();\n        var location = createLocation(startingPosition, endPosition);\n        return { value: value, location: location };\n    };\n    Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n        var _a;\n        // Parse this range:\n        // {name, type, style}\n        //        ^---^\n        var typeStartPosition = this.clonePosition();\n        var argType = this.parseIdentifierIfPossible().value;\n        var typeEndPosition = this.clonePosition();\n        switch (argType) {\n            case '':\n                // Expecting a style string number, date, time, plural, selectordinal, or select.\n                return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n            case 'number':\n            case 'date':\n            case 'time': {\n                // Parse this range:\n                // {name, number, style}\n                //              ^-------^\n                this.bumpSpace();\n                var styleAndLocation = null;\n                if (this.bumpIf(',')) {\n                    this.bumpSpace();\n                    var styleStartPosition = this.clonePosition();\n                    var result = this.parseSimpleArgStyleIfPossible();\n                    if (result.err) {\n                        return result;\n                    }\n                    var style = trimEnd(result.val);\n                    if (style.length === 0) {\n                        return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n                    styleAndLocation = { style: style, styleLocation: styleLocation };\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_1 = createLocation(openingBracePosition, this.clonePosition());\n                // Extract style or skeleton\n                if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n                    // Skeleton starts with `::`.\n                    var skeleton = trimStart(styleAndLocation.style.slice(2));\n                    if (argType === 'number') {\n                        var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n                        if (result.err) {\n                            return result;\n                        }\n                        return {\n                            val: { type: TYPE.number, value: value, location: location_1, style: result.val },\n                            err: null,\n                        };\n                    }\n                    else {\n                        if (skeleton.length === 0) {\n                            return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n                        }\n                        var dateTimePattern = skeleton;\n                        // Get \"best match\" pattern only if locale is passed, if not, let it\n                        // pass as-is where `parseDateTimeSkeleton()` will throw an error\n                        // for unsupported patterns.\n                        if (this.locale) {\n                            dateTimePattern = getBestPattern(skeleton, this.locale);\n                        }\n                        var style = {\n                            type: SKELETON_TYPE.dateTime,\n                            pattern: dateTimePattern,\n                            location: styleAndLocation.styleLocation,\n                            parsedOptions: this.shouldParseSkeletons\n                                ? parseDateTimeSkeleton(dateTimePattern)\n                                : {},\n                        };\n                        var type = argType === 'date' ? TYPE.date : TYPE.time;\n                        return {\n                            val: { type: type, value: value, location: location_1, style: style },\n                            err: null,\n                        };\n                    }\n                }\n                // Regular style or no style.\n                return {\n                    val: {\n                        type: argType === 'number'\n                            ? TYPE.number\n                            : argType === 'date'\n                                ? TYPE.date\n                                : TYPE.time,\n                        value: value,\n                        location: location_1,\n                        style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null,\n                    },\n                    err: null,\n                };\n            }\n            case 'plural':\n            case 'selectordinal':\n            case 'select': {\n                // Parse this range:\n                // {name, plural, options}\n                //              ^---------^\n                var typeEndPosition_1 = this.clonePosition();\n                this.bumpSpace();\n                if (!this.bumpIf(',')) {\n                    return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, __assign({}, typeEndPosition_1)));\n                }\n                this.bumpSpace();\n                // Parse offset:\n                // {name, plural, offset:1, options}\n                //                ^-----^\n                //\n                // or the first option:\n                //\n                // {name, plural, one {...} other {...}}\n                //                ^--^\n                var identifierAndLocation = this.parseIdentifierIfPossible();\n                var pluralOffset = 0;\n                if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n                    if (!this.bumpIf(':')) {\n                        return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    this.bumpSpace();\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n                    if (result.err) {\n                        return result;\n                    }\n                    // Parse another identifier for option parsing\n                    this.bumpSpace();\n                    identifierAndLocation = this.parseIdentifierIfPossible();\n                    pluralOffset = result.val;\n                }\n                var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n                if (optionsResult.err) {\n                    return optionsResult;\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_2 = createLocation(openingBracePosition, this.clonePosition());\n                if (argType === 'select') {\n                    return {\n                        val: {\n                            type: TYPE.select,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n                else {\n                    return {\n                        val: {\n                            type: TYPE.plural,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            offset: pluralOffset,\n                            pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n            }\n            default:\n                return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n        }\n    };\n    Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n        // Parse: {value, number, ::currency/GBP }\n        //\n        if (this.isEOF() || this.char() !== 125 /* `}` */) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bump(); // `}`\n        return { val: true, err: null };\n    };\n    /**\n     * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n     */\n    Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n        var nestedBraces = 0;\n        var startPosition = this.clonePosition();\n        while (!this.isEOF()) {\n            var ch = this.char();\n            switch (ch) {\n                case 39 /* `'` */: {\n                    // Treat apostrophe as quoting but include it in the style part.\n                    // Find the end of the quoted literal text.\n                    this.bump();\n                    var apostrophePosition = this.clonePosition();\n                    if (!this.bumpUntil(\"'\")) {\n                        return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n                    }\n                    this.bump();\n                    break;\n                }\n                case 123 /* `{` */: {\n                    nestedBraces += 1;\n                    this.bump();\n                    break;\n                }\n                case 125 /* `}` */: {\n                    if (nestedBraces > 0) {\n                        nestedBraces -= 1;\n                    }\n                    else {\n                        return {\n                            val: this.message.slice(startPosition.offset, this.offset()),\n                            err: null,\n                        };\n                    }\n                    break;\n                }\n                default:\n                    this.bump();\n                    break;\n            }\n        }\n        return {\n            val: this.message.slice(startPosition.offset, this.offset()),\n            err: null,\n        };\n    };\n    Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n        var tokens = [];\n        try {\n            tokens = parseNumberSkeletonFromString(skeleton);\n        }\n        catch (e) {\n            return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n        }\n        return {\n            val: {\n                type: SKELETON_TYPE.number,\n                tokens: tokens,\n                location: location,\n                parsedOptions: this.shouldParseSkeletons\n                    ? parseNumberSkeleton(tokens)\n                    : {},\n            },\n            err: null,\n        };\n    };\n    /**\n     * @param nesting_level The current nesting level of messages.\n     *     This can be positive when parsing message fragment in select or plural argument options.\n     * @param parent_arg_type The parent argument's type.\n     * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n     *     the argument. It is a by-product of a previous parsing attempt.\n     * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n     *     between a pair of opening and closing tags. The nested message will not parse beyond\n     *     the closing tag boundary.\n     */\n    Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n        var _a;\n        var hasOtherClause = false;\n        var options = [];\n        var parsedSelectors = new Set();\n        var selector = parsedFirstIdentifier.value, selectorLocation = parsedFirstIdentifier.location;\n        // Parse:\n        // one {one apple}\n        // ^--^\n        while (true) {\n            if (selector.length === 0) {\n                var startPosition = this.clonePosition();\n                if (parentArgType !== 'select' && this.bumpIf('=')) {\n                    // Try parse `={number}` selector\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n                    if (result.err) {\n                        return result;\n                    }\n                    selectorLocation = createLocation(startPosition, this.clonePosition());\n                    selector = this.message.slice(startPosition.offset, this.offset());\n                }\n                else {\n                    break;\n                }\n            }\n            // Duplicate selector clauses\n            if (parsedSelectors.has(selector)) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR\n                    : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n            }\n            if (selector === 'other') {\n                hasOtherClause = true;\n            }\n            // Parse:\n            // one {one apple}\n            //     ^----------^\n            this.bumpSpace();\n            var openingBracePosition = this.clonePosition();\n            if (!this.bumpIf('{')) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\n                    : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n            if (fragmentResult.err) {\n                return fragmentResult;\n            }\n            var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n            if (argCloseResult.err) {\n                return argCloseResult;\n            }\n            options.push([\n                selector,\n                {\n                    value: fragmentResult.val,\n                    location: createLocation(openingBracePosition, this.clonePosition()),\n                },\n            ]);\n            // Keep track of the existing selectors\n            parsedSelectors.add(selector);\n            // Prep next selector clause.\n            this.bumpSpace();\n            (_a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location);\n        }\n        if (options.length === 0) {\n            return this.error(parentArgType === 'select'\n                ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR\n                : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        if (this.requiresOtherClause && !hasOtherClause) {\n            return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        return { val: options, err: null };\n    };\n    Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n        var sign = 1;\n        var startingPosition = this.clonePosition();\n        if (this.bumpIf('+')) {\n        }\n        else if (this.bumpIf('-')) {\n            sign = -1;\n        }\n        var hasDigits = false;\n        var decimal = 0;\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n                hasDigits = true;\n                decimal = decimal * 10 + (ch - 48);\n                this.bump();\n            }\n            else {\n                break;\n            }\n        }\n        var location = createLocation(startingPosition, this.clonePosition());\n        if (!hasDigits) {\n            return this.error(expectNumberError, location);\n        }\n        decimal *= sign;\n        if (!isSafeInteger(decimal)) {\n            return this.error(invalidNumberError, location);\n        }\n        return { val: decimal, err: null };\n    };\n    Parser.prototype.offset = function () {\n        return this.position.offset;\n    };\n    Parser.prototype.isEOF = function () {\n        return this.offset() === this.message.length;\n    };\n    Parser.prototype.clonePosition = function () {\n        // This is much faster than `Object.assign` or spread.\n        return {\n            offset: this.position.offset,\n            line: this.position.line,\n            column: this.position.column,\n        };\n    };\n    /**\n     * Return the code point at the current position of the parser.\n     * Throws if the index is out of bound.\n     */\n    Parser.prototype.char = function () {\n        var offset = this.position.offset;\n        if (offset >= this.message.length) {\n            throw Error('out of bound');\n        }\n        var code = codePointAt(this.message, offset);\n        if (code === undefined) {\n            throw Error(\"Offset \".concat(offset, \" is at invalid UTF-16 code unit boundary\"));\n        }\n        return code;\n    };\n    Parser.prototype.error = function (kind, location) {\n        return {\n            val: null,\n            err: {\n                kind: kind,\n                message: this.message,\n                location: location,\n            },\n        };\n    };\n    /** Bump the parser to the next UTF-16 code unit. */\n    Parser.prototype.bump = function () {\n        if (this.isEOF()) {\n            return;\n        }\n        var code = this.char();\n        if (code === 10 /* '\\n' */) {\n            this.position.line += 1;\n            this.position.column = 1;\n            this.position.offset += 1;\n        }\n        else {\n            this.position.column += 1;\n            // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n            this.position.offset += code < 0x10000 ? 1 : 2;\n        }\n    };\n    /**\n     * If the substring starting at the current position of the parser has\n     * the given prefix, then bump the parser to the character immediately\n     * following the prefix and return true. Otherwise, don't bump the parser\n     * and return false.\n     */\n    Parser.prototype.bumpIf = function (prefix) {\n        if (startsWith(this.message, prefix, this.offset())) {\n            for (var i = 0; i < prefix.length; i++) {\n                this.bump();\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Bump the parser until the pattern character is found and return `true`.\n     * Otherwise bump to the end of the file and return `false`.\n     */\n    Parser.prototype.bumpUntil = function (pattern) {\n        var currentOffset = this.offset();\n        var index = this.message.indexOf(pattern, currentOffset);\n        if (index >= 0) {\n            this.bumpTo(index);\n            return true;\n        }\n        else {\n            this.bumpTo(this.message.length);\n            return false;\n        }\n    };\n    /**\n     * Bump the parser to the target offset.\n     * If target offset is beyond the end of the input, bump the parser to the end of the input.\n     */\n    Parser.prototype.bumpTo = function (targetOffset) {\n        if (this.offset() > targetOffset) {\n            throw Error(\"targetOffset \".concat(targetOffset, \" must be greater than or equal to the current offset \").concat(this.offset()));\n        }\n        targetOffset = Math.min(targetOffset, this.message.length);\n        while (true) {\n            var offset = this.offset();\n            if (offset === targetOffset) {\n                break;\n            }\n            if (offset > targetOffset) {\n                throw Error(\"targetOffset \".concat(targetOffset, \" is at invalid UTF-16 code unit boundary\"));\n            }\n            this.bump();\n            if (this.isEOF()) {\n                break;\n            }\n        }\n    };\n    /** advance the parser through all whitespace to the next non-whitespace code unit. */\n    Parser.prototype.bumpSpace = function () {\n        while (!this.isEOF() && _isWhiteSpace(this.char())) {\n            this.bump();\n        }\n    };\n    /**\n     * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n     * If the input has been exhausted, then this returns null.\n     */\n    Parser.prototype.peek = function () {\n        if (this.isEOF()) {\n            return null;\n        }\n        var code = this.char();\n        var offset = this.offset();\n        var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n        return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n    };\n    return Parser;\n}());\nexport { Parser };\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n    return ((codepoint >= 97 && codepoint <= 122) ||\n        (codepoint >= 65 && codepoint <= 90));\n}\nfunction _isAlphaOrSlash(codepoint) {\n    return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n    return (c === 45 /* '-' */ ||\n        c === 46 /* '.' */ ||\n        (c >= 48 && c <= 57) /* 0..9 */ ||\n        c === 95 /* '_' */ ||\n        (c >= 97 && c <= 122) /** a..z */ ||\n        (c >= 65 && c <= 90) /* A..Z */ ||\n        c == 0xb7 ||\n        (c >= 0xc0 && c <= 0xd6) ||\n        (c >= 0xd8 && c <= 0xf6) ||\n        (c >= 0xf8 && c <= 0x37d) ||\n        (c >= 0x37f && c <= 0x1fff) ||\n        (c >= 0x200c && c <= 0x200d) ||\n        (c >= 0x203f && c <= 0x2040) ||\n        (c >= 0x2070 && c <= 0x218f) ||\n        (c >= 0x2c00 && c <= 0x2fef) ||\n        (c >= 0x3001 && c <= 0xd7ff) ||\n        (c >= 0xf900 && c <= 0xfdcf) ||\n        (c >= 0xfdf0 && c <= 0xfffd) ||\n        (c >= 0x10000 && c <= 0xeffff));\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n    return ((c >= 0x0009 && c <= 0x000d) ||\n        c === 0x0020 ||\n        c === 0x0085 ||\n        (c >= 0x200e && c <= 0x200f) ||\n        c === 0x2028 ||\n        c === 0x2029);\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n    return ((c >= 0x0021 && c <= 0x0023) ||\n        c === 0x0024 ||\n        (c >= 0x0025 && c <= 0x0027) ||\n        c === 0x0028 ||\n        c === 0x0029 ||\n        c === 0x002a ||\n        c === 0x002b ||\n        c === 0x002c ||\n        c === 0x002d ||\n        (c >= 0x002e && c <= 0x002f) ||\n        (c >= 0x003a && c <= 0x003b) ||\n        (c >= 0x003c && c <= 0x003e) ||\n        (c >= 0x003f && c <= 0x0040) ||\n        c === 0x005b ||\n        c === 0x005c ||\n        c === 0x005d ||\n        c === 0x005e ||\n        c === 0x0060 ||\n        c === 0x007b ||\n        c === 0x007c ||\n        c === 0x007d ||\n        c === 0x007e ||\n        c === 0x00a1 ||\n        (c >= 0x00a2 && c <= 0x00a5) ||\n        c === 0x00a6 ||\n        c === 0x00a7 ||\n        c === 0x00a9 ||\n        c === 0x00ab ||\n        c === 0x00ac ||\n        c === 0x00ae ||\n        c === 0x00b0 ||\n        c === 0x00b1 ||\n        c === 0x00b6 ||\n        c === 0x00bb ||\n        c === 0x00bf ||\n        c === 0x00d7 ||\n        c === 0x00f7 ||\n        (c >= 0x2010 && c <= 0x2015) ||\n        (c >= 0x2016 && c <= 0x2017) ||\n        c === 0x2018 ||\n        c === 0x2019 ||\n        c === 0x201a ||\n        (c >= 0x201b && c <= 0x201c) ||\n        c === 0x201d ||\n        c === 0x201e ||\n        c === 0x201f ||\n        (c >= 0x2020 && c <= 0x2027) ||\n        (c >= 0x2030 && c <= 0x2038) ||\n        c === 0x2039 ||\n        c === 0x203a ||\n        (c >= 0x203b && c <= 0x203e) ||\n        (c >= 0x2041 && c <= 0x2043) ||\n        c === 0x2044 ||\n        c === 0x2045 ||\n        c === 0x2046 ||\n        (c >= 0x2047 && c <= 0x2051) ||\n        c === 0x2052 ||\n        c === 0x2053 ||\n        (c >= 0x2055 && c <= 0x205e) ||\n        (c >= 0x2190 && c <= 0x2194) ||\n        (c >= 0x2195 && c <= 0x2199) ||\n        (c >= 0x219a && c <= 0x219b) ||\n        (c >= 0x219c && c <= 0x219f) ||\n        c === 0x21a0 ||\n        (c >= 0x21a1 && c <= 0x21a2) ||\n        c === 0x21a3 ||\n        (c >= 0x21a4 && c <= 0x21a5) ||\n        c === 0x21a6 ||\n        (c >= 0x21a7 && c <= 0x21ad) ||\n        c === 0x21ae ||\n        (c >= 0x21af && c <= 0x21cd) ||\n        (c >= 0x21ce && c <= 0x21cf) ||\n        (c >= 0x21d0 && c <= 0x21d1) ||\n        c === 0x21d2 ||\n        c === 0x21d3 ||\n        c === 0x21d4 ||\n        (c >= 0x21d5 && c <= 0x21f3) ||\n        (c >= 0x21f4 && c <= 0x22ff) ||\n        (c >= 0x2300 && c <= 0x2307) ||\n        c === 0x2308 ||\n        c === 0x2309 ||\n        c === 0x230a ||\n        c === 0x230b ||\n        (c >= 0x230c && c <= 0x231f) ||\n        (c >= 0x2320 && c <= 0x2321) ||\n        (c >= 0x2322 && c <= 0x2328) ||\n        c === 0x2329 ||\n        c === 0x232a ||\n        (c >= 0x232b && c <= 0x237b) ||\n        c === 0x237c ||\n        (c >= 0x237d && c <= 0x239a) ||\n        (c >= 0x239b && c <= 0x23b3) ||\n        (c >= 0x23b4 && c <= 0x23db) ||\n        (c >= 0x23dc && c <= 0x23e1) ||\n        (c >= 0x23e2 && c <= 0x2426) ||\n        (c >= 0x2427 && c <= 0x243f) ||\n        (c >= 0x2440 && c <= 0x244a) ||\n        (c >= 0x244b && c <= 0x245f) ||\n        (c >= 0x2500 && c <= 0x25b6) ||\n        c === 0x25b7 ||\n        (c >= 0x25b8 && c <= 0x25c0) ||\n        c === 0x25c1 ||\n        (c >= 0x25c2 && c <= 0x25f7) ||\n        (c >= 0x25f8 && c <= 0x25ff) ||\n        (c >= 0x2600 && c <= 0x266e) ||\n        c === 0x266f ||\n        (c >= 0x2670 && c <= 0x2767) ||\n        c === 0x2768 ||\n        c === 0x2769 ||\n        c === 0x276a ||\n        c === 0x276b ||\n        c === 0x276c ||\n        c === 0x276d ||\n        c === 0x276e ||\n        c === 0x276f ||\n        c === 0x2770 ||\n        c === 0x2771 ||\n        c === 0x2772 ||\n        c === 0x2773 ||\n        c === 0x2774 ||\n        c === 0x2775 ||\n        (c >= 0x2794 && c <= 0x27bf) ||\n        (c >= 0x27c0 && c <= 0x27c4) ||\n        c === 0x27c5 ||\n        c === 0x27c6 ||\n        (c >= 0x27c7 && c <= 0x27e5) ||\n        c === 0x27e6 ||\n        c === 0x27e7 ||\n        c === 0x27e8 ||\n        c === 0x27e9 ||\n        c === 0x27ea ||\n        c === 0x27eb ||\n        c === 0x27ec ||\n        c === 0x27ed ||\n        c === 0x27ee ||\n        c === 0x27ef ||\n        (c >= 0x27f0 && c <= 0x27ff) ||\n        (c >= 0x2800 && c <= 0x28ff) ||\n        (c >= 0x2900 && c <= 0x2982) ||\n        c === 0x2983 ||\n        c === 0x2984 ||\n        c === 0x2985 ||\n        c === 0x2986 ||\n        c === 0x2987 ||\n        c === 0x2988 ||\n        c === 0x2989 ||\n        c === 0x298a ||\n        c === 0x298b ||\n        c === 0x298c ||\n        c === 0x298d ||\n        c === 0x298e ||\n        c === 0x298f ||\n        c === 0x2990 ||\n        c === 0x2991 ||\n        c === 0x2992 ||\n        c === 0x2993 ||\n        c === 0x2994 ||\n        c === 0x2995 ||\n        c === 0x2996 ||\n        c === 0x2997 ||\n        c === 0x2998 ||\n        (c >= 0x2999 && c <= 0x29d7) ||\n        c === 0x29d8 ||\n        c === 0x29d9 ||\n        c === 0x29da ||\n        c === 0x29db ||\n        (c >= 0x29dc && c <= 0x29fb) ||\n        c === 0x29fc ||\n        c === 0x29fd ||\n        (c >= 0x29fe && c <= 0x2aff) ||\n        (c >= 0x2b00 && c <= 0x2b2f) ||\n        (c >= 0x2b30 && c <= 0x2b44) ||\n        (c >= 0x2b45 && c <= 0x2b46) ||\n        (c >= 0x2b47 && c <= 0x2b4c) ||\n        (c >= 0x2b4d && c <= 0x2b73) ||\n        (c >= 0x2b74 && c <= 0x2b75) ||\n        (c >= 0x2b76 && c <= 0x2b95) ||\n        c === 0x2b96 ||\n        (c >= 0x2b97 && c <= 0x2bff) ||\n        (c >= 0x2e00 && c <= 0x2e01) ||\n        c === 0x2e02 ||\n        c === 0x2e03 ||\n        c === 0x2e04 ||\n        c === 0x2e05 ||\n        (c >= 0x2e06 && c <= 0x2e08) ||\n        c === 0x2e09 ||\n        c === 0x2e0a ||\n        c === 0x2e0b ||\n        c === 0x2e0c ||\n        c === 0x2e0d ||\n        (c >= 0x2e0e && c <= 0x2e16) ||\n        c === 0x2e17 ||\n        (c >= 0x2e18 && c <= 0x2e19) ||\n        c === 0x2e1a ||\n        c === 0x2e1b ||\n        c === 0x2e1c ||\n        c === 0x2e1d ||\n        (c >= 0x2e1e && c <= 0x2e1f) ||\n        c === 0x2e20 ||\n        c === 0x2e21 ||\n        c === 0x2e22 ||\n        c === 0x2e23 ||\n        c === 0x2e24 ||\n        c === 0x2e25 ||\n        c === 0x2e26 ||\n        c === 0x2e27 ||\n        c === 0x2e28 ||\n        c === 0x2e29 ||\n        (c >= 0x2e2a && c <= 0x2e2e) ||\n        c === 0x2e2f ||\n        (c >= 0x2e30 && c <= 0x2e39) ||\n        (c >= 0x2e3a && c <= 0x2e3b) ||\n        (c >= 0x2e3c && c <= 0x2e3f) ||\n        c === 0x2e40 ||\n        c === 0x2e41 ||\n        c === 0x2e42 ||\n        (c >= 0x2e43 && c <= 0x2e4f) ||\n        (c >= 0x2e50 && c <= 0x2e51) ||\n        c === 0x2e52 ||\n        (c >= 0x2e53 && c <= 0x2e7f) ||\n        (c >= 0x3001 && c <= 0x3003) ||\n        c === 0x3008 ||\n        c === 0x3009 ||\n        c === 0x300a ||\n        c === 0x300b ||\n        c === 0x300c ||\n        c === 0x300d ||\n        c === 0x300e ||\n        c === 0x300f ||\n        c === 0x3010 ||\n        c === 0x3011 ||\n        (c >= 0x3012 && c <= 0x3013) ||\n        c === 0x3014 ||\n        c === 0x3015 ||\n        c === 0x3016 ||\n        c === 0x3017 ||\n        c === 0x3018 ||\n        c === 0x3019 ||\n        c === 0x301a ||\n        c === 0x301b ||\n        c === 0x301c ||\n        c === 0x301d ||\n        (c >= 0x301e && c <= 0x301f) ||\n        c === 0x3020 ||\n        c === 0x3030 ||\n        c === 0xfd3e ||\n        c === 0xfd3f ||\n        (c >= 0xfe45 && c <= 0xfe46));\n}\n","import { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { Parser } from './parser';\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement, } from './types';\nfunction pruneLocation(els) {\n    els.forEach(function (el) {\n        delete el.location;\n        if (isSelectElement(el) || isPluralElement(el)) {\n            for (var k in el.options) {\n                delete el.options[k].location;\n                pruneLocation(el.options[k].value);\n            }\n        }\n        else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if ((isDateElement(el) || isTimeElement(el)) &&\n            isDateTimeSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if (isTagElement(el)) {\n            pruneLocation(el.children);\n        }\n    });\n}\nexport function parse(message, opts) {\n    if (opts === void 0) { opts = {}; }\n    opts = __assign({ shouldParseSkeletons: true, requiresOtherClause: true }, opts);\n    var result = new Parser(message, opts).parse();\n    if (result.err) {\n        var error = SyntaxError(ErrorKind[result.err.kind]);\n        // @ts-expect-error Assign to error object\n        error.location = result.err.location;\n        // @ts-expect-error Assign to error object\n        error.originalMessage = result.err.message;\n        throw error;\n    }\n    if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n        pruneLocation(result.val);\n    }\n    return result.val;\n}\nexport * from './types';\n","//\n// Main\n//\nexport default function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n        cache: cache,\n        serializer: serializer,\n    });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n    return (value == null || typeof value === 'number' || typeof value === 'boolean'); // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\nfunction monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.call(this, arg);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.apply(this, args);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n    return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n    this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n    return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n    this.cache[key] = value;\n};\nvar cacheDefault = {\n    create: function create() {\n        // @ts-ignore\n        return new ObjectWithoutPrototypeCache();\n    },\n};\nexport var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic,\n};\n","import { __extends } from \"tslib\";\nexport var ErrorCode;\n(function (ErrorCode) {\n    // When we have a placeholder but no value to format\n    ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n    // When value supplied is invalid\n    ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n    // When we need specific Intl API but it's not available\n    ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */ (function (_super) {\n    __extends(FormatError, _super);\n    function FormatError(msg, code, originalMessage) {\n        var _this = _super.call(this, msg) || this;\n        _this.code = code;\n        _this.originalMessage = originalMessage;\n        return _this;\n    }\n    FormatError.prototype.toString = function () {\n        return \"[formatjs Error: \".concat(this.code, \"] \").concat(this.message);\n    };\n    return FormatError;\n}(Error));\nexport { FormatError };\nvar InvalidValueError = /** @class */ (function (_super) {\n    __extends(InvalidValueError, _super);\n    function InvalidValueError(variableId, value, options, originalMessage) {\n        return _super.call(this, \"Invalid values for \\\"\".concat(variableId, \"\\\": \\\"\").concat(value, \"\\\". Options are \\\"\").concat(Object.keys(options).join('\", \"'), \"\\\"\"), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueError;\n}(FormatError));\nexport { InvalidValueError };\nvar InvalidValueTypeError = /** @class */ (function (_super) {\n    __extends(InvalidValueTypeError, _super);\n    function InvalidValueTypeError(value, type, originalMessage) {\n        return _super.call(this, \"Value for \\\"\".concat(value, \"\\\" must be of type \").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueTypeError;\n}(FormatError));\nexport { InvalidValueTypeError };\nvar MissingValueError = /** @class */ (function (_super) {\n    __extends(MissingValueError, _super);\n    function MissingValueError(variableId, originalMessage) {\n        return _super.call(this, \"The intl string context variable \\\"\".concat(variableId, \"\\\" was not provided to the string \\\"\").concat(originalMessage, \"\\\"\"), ErrorCode.MISSING_VALUE, originalMessage) || this;\n    }\n    return MissingValueError;\n}(FormatError));\nexport { MissingValueError };\n","import { isArgumentElement, isDateElement, isDateTimeSkeleton, isLiteralElement, isNumberElement, isNumberSkeleton, isPluralElement, isPoundElement, isSelectElement, isTimeElement, isTagElement, } from '@formatjs/icu-messageformat-parser';\nimport { MissingValueError, InvalidValueError, ErrorCode, FormatError, InvalidValueTypeError, } from './error';\nexport var PART_TYPE;\n(function (PART_TYPE) {\n    PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n    PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n    if (parts.length < 2) {\n        return parts;\n    }\n    return parts.reduce(function (all, part) {\n        var lastPart = all[all.length - 1];\n        if (!lastPart ||\n            lastPart.type !== PART_TYPE.literal ||\n            part.type !== PART_TYPE.literal) {\n            all.push(part);\n        }\n        else {\n            lastPart.value += part.value;\n        }\n        return all;\n    }, []);\n}\nexport function isFormatXMLElementFn(el) {\n    return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nexport function formatToParts(els, locales, formatters, formats, values, currentPluralValue, \n// For debugging\noriginalMessage) {\n    // Hot path for straight simple msg translations\n    if (els.length === 1 && isLiteralElement(els[0])) {\n        return [\n            {\n                type: PART_TYPE.literal,\n                value: els[0].value,\n            },\n        ];\n    }\n    var result = [];\n    for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n        var el = els_1[_i];\n        // Exit early for string parts.\n        if (isLiteralElement(el)) {\n            result.push({\n                type: PART_TYPE.literal,\n                value: el.value,\n            });\n            continue;\n        }\n        // TODO: should this part be literal type?\n        // Replace `#` in plural rules with the actual numeric value.\n        if (isPoundElement(el)) {\n            if (typeof currentPluralValue === 'number') {\n                result.push({\n                    type: PART_TYPE.literal,\n                    value: formatters.getNumberFormat(locales).format(currentPluralValue),\n                });\n            }\n            continue;\n        }\n        var varName = el.value;\n        // Enforce that all required values are provided by the caller.\n        if (!(values && varName in values)) {\n            throw new MissingValueError(varName, originalMessage);\n        }\n        var value = values[varName];\n        if (isArgumentElement(el)) {\n            if (!value || typeof value === 'string' || typeof value === 'number') {\n                value =\n                    typeof value === 'string' || typeof value === 'number'\n                        ? String(value)\n                        : '';\n            }\n            result.push({\n                type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                value: value,\n            });\n            continue;\n        }\n        // Recursively format plural and select parts' option — which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (isDateElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.date[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTimeElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.time[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : formats.time.medium;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isNumberElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.number[el.style]\n                : isNumberSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            if (style && style.scale) {\n                value =\n                    value *\n                        (style.scale || 1);\n            }\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getNumberFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTagElement(el)) {\n            var children = el.children, value_1 = el.value;\n            var formatFn = values[value_1];\n            if (!isFormatXMLElementFn(formatFn)) {\n                throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n            }\n            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n            var chunks = formatFn(parts.map(function (p) { return p.value; }));\n            if (!Array.isArray(chunks)) {\n                chunks = [chunks];\n            }\n            result.push.apply(result, chunks.map(function (c) {\n                return {\n                    type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                    value: c,\n                };\n            }));\n        }\n        if (isSelectElement(el)) {\n            var opt = el.options[value] || el.options.other;\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n            continue;\n        }\n        if (isPluralElement(el)) {\n            var opt = el.options[\"=\".concat(value)];\n            if (!opt) {\n                if (!Intl.PluralRules) {\n                    throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n                }\n                var rule = formatters\n                    .getPluralRules(locales, { type: el.pluralType })\n                    .select(value - (el.offset || 0));\n                opt = el.options[rule] || el.options.other;\n            }\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n            continue;\n        }\n    }\n    return mergeLiteral(result);\n}\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { __assign, __spreadArray } from \"tslib\";\nimport { parse } from '@formatjs/icu-messageformat-parser';\nimport memoize, { strategies } from '@formatjs/fast-memoize';\nimport { formatToParts, PART_TYPE, } from './formatters';\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n    if (!c2) {\n        return c1;\n    }\n    return __assign(__assign(__assign({}, (c1 || {})), (c2 || {})), Object.keys(c1).reduce(function (all, k) {\n        all[k] = __assign(__assign({}, c1[k]), (c2[k] || {}));\n        return all;\n    }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n    if (!configs) {\n        return defaultConfig;\n    }\n    return Object.keys(defaultConfig).reduce(function (all, k) {\n        all[k] = mergeConfig(defaultConfig[k], configs[k]);\n        return all;\n    }, __assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n    return {\n        create: function () {\n            return {\n                get: function (key) {\n                    return store[key];\n                },\n                set: function (key, value) {\n                    store[key] = value;\n                },\n            };\n        },\n    };\n}\nfunction createDefaultFormatters(cache) {\n    if (cache === void 0) { cache = {\n        number: {},\n        dateTime: {},\n        pluralRules: {},\n    }; }\n    return {\n        getNumberFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.number),\n            strategy: strategies.variadic,\n        }),\n        getDateTimeFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.dateTime),\n            strategy: strategies.variadic,\n        }),\n        getPluralRules: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.pluralRules),\n            strategy: strategies.variadic,\n        }),\n    };\n}\nvar IntlMessageFormat = /** @class */ (function () {\n    function IntlMessageFormat(message, locales, overrideFormats, opts) {\n        var _this = this;\n        if (locales === void 0) { locales = IntlMessageFormat.defaultLocale; }\n        this.formatterCache = {\n            number: {},\n            dateTime: {},\n            pluralRules: {},\n        };\n        this.format = function (values) {\n            var parts = _this.formatToParts(values);\n            // Hot path for straight simple msg translations\n            if (parts.length === 1) {\n                return parts[0].value;\n            }\n            var result = parts.reduce(function (all, part) {\n                if (!all.length ||\n                    part.type !== PART_TYPE.literal ||\n                    typeof all[all.length - 1] !== 'string') {\n                    all.push(part.value);\n                }\n                else {\n                    all[all.length - 1] += part.value;\n                }\n                return all;\n            }, []);\n            if (result.length <= 1) {\n                return result[0] || '';\n            }\n            return result;\n        };\n        this.formatToParts = function (values) {\n            return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n        };\n        this.resolvedOptions = function () { return ({\n            locale: _this.resolvedLocale.toString(),\n        }); };\n        this.getAst = function () { return _this.ast; };\n        // Defined first because it's used to build the format pattern.\n        this.locales = locales;\n        this.resolvedLocale = IntlMessageFormat.resolveLocale(locales);\n        if (typeof message === 'string') {\n            this.message = message;\n            if (!IntlMessageFormat.__parse) {\n                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n            }\n            // Parse string messages into an AST.\n            this.ast = IntlMessageFormat.__parse(message, {\n                ignoreTag: opts === null || opts === void 0 ? void 0 : opts.ignoreTag,\n                locale: this.resolvedLocale,\n            });\n        }\n        else {\n            this.ast = message;\n        }\n        if (!Array.isArray(this.ast)) {\n            throw new TypeError('A message must be provided as a String or AST.');\n        }\n        // Creates a new object with the specified `formats` merged with the default\n        // formats.\n        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n        this.formatters =\n            (opts && opts.formatters) || createDefaultFormatters(this.formatterCache);\n    }\n    Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n        get: function () {\n            if (!IntlMessageFormat.memoizedDefaultLocale) {\n                IntlMessageFormat.memoizedDefaultLocale =\n                    new Intl.NumberFormat().resolvedOptions().locale;\n            }\n            return IntlMessageFormat.memoizedDefaultLocale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IntlMessageFormat.memoizedDefaultLocale = null;\n    IntlMessageFormat.resolveLocale = function (locales) {\n        var supportedLocales = Intl.NumberFormat.supportedLocalesOf(locales);\n        if (supportedLocales.length > 0) {\n            return new Intl.Locale(supportedLocales[0]);\n        }\n        return new Intl.Locale(typeof locales === 'string' ? locales : locales[0]);\n    };\n    IntlMessageFormat.__parse = parse;\n    // Default format options used as the prototype of the `formats` provided to the\n    // constructor. These are used when constructing the internal Intl.NumberFormat\n    // and Intl.DateTimeFormat instances.\n    IntlMessageFormat.formats = {\n        number: {\n            integer: {\n                maximumFractionDigits: 0,\n            },\n            currency: {\n                style: 'currency',\n            },\n            percent: {\n                style: 'percent',\n            },\n        },\n        date: {\n            short: {\n                month: 'numeric',\n                day: 'numeric',\n                year: '2-digit',\n            },\n            medium: {\n                month: 'short',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            long: {\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            full: {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n        },\n        time: {\n            short: {\n                hour: 'numeric',\n                minute: 'numeric',\n            },\n            medium: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n            },\n            long: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n            full: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n        },\n    };\n    return IntlMessageFormat;\n}());\nexport { IntlMessageFormat };\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { IntlMessageFormat } from './src/core';\nexport * from './src/formatters';\nexport * from './src/core';\nexport * from './src/error';\nexport default IntlMessageFormat;\n",null]},"metadata":{},"sourceType":"module"}